<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.110.0">
<link rel="canonical" type="text/html" href="../../../docs/manual/">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="../../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../../favicons/android-192x192.png" sizes="192x192">

<title>Manual | CVAT</title>
<meta name="description" content="This section contains documents for CVAT simple and advanced users">
<meta property="og:title" content="Manual" />
<meta property="og:description" content="This section contains documents for CVAT simple and advanced users" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs/manual/" /><meta property="og:site_name" content="CVAT" />
<meta itemprop="name" content="Manual">
<meta itemprop="description" content="This section contains documents for CVAT simple and advanced users"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Manual"/>
<meta name="twitter:description" content="This section contains documents for CVAT simple and advanced users"/>




<link rel="preload" href="../../../scss/main.min.5176d9fef59ea153ab767b7b61a90b35fb24ef3fb7aef25530f05dcb464a2db0.css" as="style">
<link href="../../../scss/main.min.5176d9fef59ea153ab767b7b61a90b35fb24ef3fb7aef25530f05dcb464a2db0.css" rel="stylesheet" integrity="">

<script
  src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"
  integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>
<link rel="stylesheet" href="../../../css/prism.css"/>

  </head>
  <body class="td-section">
    <header>
      <nav class="td-navbar navbar-dark js-navbar-scroll">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="../../../about/"><span class="navbar-brand__logo navbar-logo"><svg width="80" height="15" viewBox="0 0 80 15" xmlns="http://www.w3.org/2000/svg"><path d="M6.63399 15C2.37083 15 0 12.5333.0 7.48889.0 2.46667 2.34908.0 6.63399.0H10.6576V2.62222H6.63399c-2.84935.0-4.0674 1.44445-4.0674 4.86667.0 3.44441 1.2398 4.88891 4.0674 4.88891H15.0638V15H6.63399z"/><path d="M22.412.0l4.8346 13.1004C27.7814 14.5415 28.8724 15 30.2842 15 31.7817 15 32.7657 14.476 33.3005 13.1004L38.3918.0H35.5895L30.9902 11.8559C30.8404 12.2052 30.6265 12.3581 30.2842 12.3581 29.942 12.3581 29.7067 12.2052 29.5783 11.8559L25.1929.0H22.412z"/><path d="M53.0989 3.1441C53.2487 2.79476 53.484 2.64192 53.8262 2.64192 54.1685 2.64192 54.4038 2.79476 54.5322 3.1441L58.9176 15h2.8023L56.8425 1.89956C56.3291.524017 55.3451.0 53.8476.0 52.3288.0 51.3448.524017 50.81 1.89956L45.74 15h2.781L53.0989 3.1441z"/><path d="M69.0681.0V2.5665H73.2661V15H75.802V2.5665H80V0H69.0681z"/></svg></span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" style="height: auto;" id="main_navbar">
    <ul class="navbar-nav d-flex flex-wrap" style="padding-bottom: 0;">
      <li class="nav-item">
        <a class="nav-link active" href="../../../docs/"><span>Documentation</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="../../../about/"><span>About</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://app.cvat.ai" rel="noopener"><span>Try it now</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/opencv/cvat" rel="noopener"><i class='fab fa-github'></i><span>GitHub</span></a>
      </li>
      <li class="nav-item dropdown d-none d-lg-block">
        <div class="dropdown">
  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">v2.11.2</a>
  <ul class="dropdown-menu">
    <li><a class="dropdown-item" href="../../../../">Latest version</a></li>
    <li><a class="dropdown-item" href="../../../../v1.5.0">v1.5.0</a></li>
    <li><a class="dropdown-item" href="../../../../v1.6.0">v1.6.0</a></li>
    <li><a class="dropdown-item" href="../../../../v1.7.0">v1.7.0</a></li>
    <li><a class="dropdown-item" href="../../../../v2.0.0">v2.0.0</a></li>
    <li><a class="dropdown-item" href="../../../../v2.1.0">v2.1.0</a></li>
    <li><a class="dropdown-item" href="../../../../v2.10.3">v2.10.3</a></li>
    <li><a class="dropdown-item" href="../../../../v2.11.2">v2.11.2</a></li>
    <li><a class="dropdown-item" href="../../../../v2.2.0">v2.2.0</a></li>
    <li><a class="dropdown-item" href="../../../../v2.3.0">v2.3.0</a></li>
    <li><a class="dropdown-item" href="../../../../v2.4.9">v2.4.9</a></li>
    <li><a class="dropdown-item" href="../../../../v2.5.2">v2.5.2</a></li>
    <li><a class="dropdown-item" href="../../../../v2.6.2">v2.6.2</a></li>
    <li><a class="dropdown-item" href="../../../../v2.7.6">v2.7.6</a></li>
    <li><a class="dropdown-item" href="../../../../v2.8.2">v2.8.2</a></li>
    <li><a class="dropdown-item" href="../../../../v2.9.2">v2.9.2</a></li>
    </ul>
</div></li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="../../../offline-search-index.7f06958356da9b70c66b9e88463e9ee1.json"
    data-offline-search-base-href="../../../"
    data-offline-search-max-results="10"
  >
</div>

  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="../../../docs/manual/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Manual</h1>
<div class="lead">This section contains documents for CVAT simple and advanced users</div>




    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-6e3faa521a8eee0151bb424e7e354ec2">Basics</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>1.1: <a href="#pg-628774102564cce8a9b3ea45e8287c63">Registration &amp; Account Access</a></li>


    
  
    
    
	
<li>1.2: <a href="#pg-60beb2082f002c6c5931b7fb26224da3">Create annotation task</a></li>


    
  
    
    
	
<li>1.3: <a href="#pg-bc24e10c33b6d18937a3e4e26d98d154">Create multi tasks</a></li>


    
  
    
    
	
<li>1.4: <a href="#pg-f05979e03e250e4fd83819a9fb4f8c6f">Jobs page</a></li>


    
  
    
    
	
<li>1.5: <a href="#pg-8b4dc0e86031450cd60eaa0f2183926a">Tasks page</a></li>


    
  
    
    
	
<li>1.6: <a href="#pg-8c04ccdab3bc47dc61dead92a456dc5e">Task details</a></li>


    
  
    
    
	
<li>1.7: <a href="#pg-a3f5ac3c9c71a6d1895f21973a3e7073">Interface of the annotation tool</a></li>


    
  
    
    
	
<li>1.8: <a href="#pg-96e4853b69b3c2d45ac6c4dd9eef69f6">Basic navigation</a></li>


    
  
    
    
	
<li>1.9: <a href="#pg-247db7504d756f9b8a302d89c1c60fe7">Top Panel</a></li>


    
  
    
    
	
<li>1.10: <a href="#pg-033c4b006bed59c7b79e37da79355e2e">Controls sidebar</a></li>


    
  
    
    
	
<li>1.11: <a href="#pg-d34292e27e49f0509de6c6421a59ba45">Objects sidebar</a></li>


    
  
    
    
	
<li>1.12: <a href="#pg-10c89fea132557f61275ddd0d266cb4e">CVAT Workspace</a></li>


    
  
    
    
	
<li>1.13: <a href="#pg-47ed10f28d06442b6965546d6ab61314">3D task workspace</a></li>


    
  
    
    
	
<li>1.14: <a href="#pg-c8319ec25cc2a4c111e6b974fbac56a9">Standard 3D mode (basics)</a></li>


    
  
    
    
	
<li>1.15: <a href="#pg-53f38f5f3dc68518da9fd1c61a97f54b">Settings</a></li>


    
  
    
    
	
<li>1.16: <a href="#pg-80f7a8f997d5088990b434c7df6c7816">Types of shapes</a></li>


    
  
    
    
	
<li>1.17: <a href="#pg-0eec06490fd7abcbf29363c77731c1c9">Shape mode (basics)</a></li>


    
  
    
    
	
<li>1.18: <a href="#pg-1a21d24ffd5d3b98ea39a1b5efdc33e2">Track mode (basics)</a></li>


    
  
    
    
	
<li>1.19: <a href="#pg-b02de300483c61ada54066c38e9ff272">3D Object annotation</a></li>


    
  
    
    
	
<li>1.20: <a href="#pg-01df2b1d465b8c0d0021dec1627ed90f">Attribute annotation mode (basics)</a></li>


    
  
    
    
	
<li>1.21: <a href="#pg-49ca3c5a8947ba788a9e6295ce16a840">Vocabulary</a></li>


    
  
    
    
	
<li>1.22: <a href="#pg-c9da6f8a00196503e659cee9f4e1b3b6">Cloud storages page</a></li>


    
  
    
    
	
<li>1.23: <a href="#pg-d013ec6e69303d468f8e8b14075372d7">Attach cloud storage</a></li>


    
  

    </ul>
    
  
    
    
	
<li>2: <a href="#pg-efbc0d92c419283ee8525c147b11fb71">Advanced</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.1: <a href="#pg-789f9715966b149b8f1811e593d89fcd">Projects page</a></li>


    
  
    
    
	
<li>2.2: <a href="#pg-6f331e58f95984d15c8850fd08d6267e">Organization</a></li>


    
  
    
    
	
<li>2.3: <a href="#pg-721c6749c3e22c1edc40499266d46267">Search</a></li>


    
  
    
    
	
<li>2.4: <a href="#pg-e2b99661441784c00f94d2aa1a169963">Shape mode (advanced)</a></li>


    
  
    
    
	
<li>2.5: <a href="#pg-3e92ee3dac73f633785710286c513871">CVAT User roles</a></li>


    
  
    
    
	
<li>2.6: <a href="#pg-588e4c6ed67ac064499157f92893ddc2">Track mode (advanced)</a></li>


    
  
    
    
	
<li>2.7: <a href="#pg-d340565087e0f9cbfaf6ccd6219466d5">3D Object annotation (advanced)</a></li>


    
  
    
    
	
<li>2.8: <a href="#pg-09ca69c0dc37771f108831f0a42fb850">Attribute annotation mode (advanced)</a></li>


    
  
    
    
	
<li>2.9: <a href="#pg-0505481bada8bf732f0c73313438c36c">Annotation with rectangles</a></li>


    
  
    
    
	
<li>2.10: <a href="#pg-c5fa63295c9b67cd2ae59ac351ccb7f6">Annotation with polygons</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.10.1: <a href="#pg-4d4bf5bacfbd5eb9dcef94a38c91930f">Manual drawing</a></li>


    
  
    
    
	
<li>2.10.2: <a href="#pg-49a42ac9fb14c261fcb4d6df121ec6b5">Drawing using automatic borders</a></li>


    
  
    
    
	
<li>2.10.3: <a href="#pg-f59490f3517703af487d1db1d573c2cf">Edit polygon</a></li>


    
  
    
    
	
<li>2.10.4: <a href="#pg-1f4fe1a1fe6fe79b065945412ca4d774">Track mode with polygons</a></li>


    
  
    
    
	
<li>2.10.5: <a href="#pg-c692762faa73de2bce0ebde15b8e137b">Creating masks</a></li>


    
  

    </ul>
    
  
    
    
	
<li>2.11: <a href="#pg-6b3f1429846a7f18d172169ce5fe900b">Annotation with polylines</a></li>


    
  
    
    
	
<li>2.12: <a href="#pg-cec0435c8a22adeb069ae65e703e55b4">Annotation with points</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.12.1: <a href="#pg-73dd0aab0c51b42d098e1dd25f9e34d8">Points in shape mode</a></li>


    
  
    
    
	
<li>2.12.2: <a href="#pg-926b5bce12f08790d7354dc3d2253131">Linear interpolation with one point</a></li>


    
  

    </ul>
    
  
    
    
	
<li>2.13: <a href="#pg-f547c7b1c7e5e385e5c04476a5ec0582">Annotation with ellipses</a></li>


    
  
    
    
	
<li>2.14: <a href="#pg-82dc27f17f28048728c9cc8c6032e5c7">Annotation with cuboids</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.14.1: <a href="#pg-7b24a39d3199ad1d17cd5b25b2ccd305">Creating the cuboid</a></li>


    
  
    
    
	
<li>2.14.2: <a href="#pg-03837b9c8c03b964e151f921b8c66118">Editing the cuboid</a></li>


    
  

    </ul>
    
  
    
    
	
<li>2.15: <a href="#pg-045378a46b4f497e28bb4d4e20f1ef3c">Annotation with skeletons</a></li>


    
  
    
    
	
<li>2.16: <a href="#pg-323f715de86e05c896a98e74d23e3705">Annotation with brush tool</a></li>


    
  
    
    
	
<li>2.17: <a href="#pg-2956283d6b6c8c0e6edfed34d5caee42">Annotation with tags</a></li>


    
  
    
    
	
<li>2.18: <a href="#pg-3faa555d05f5bd038991ddb04ce3064f">Models</a></li>


    
  
    
    
	
<li>2.19: <a href="#pg-da1913608df2502a9fa5f15690847249">CVAT Analytics and QA in Cloud</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.19.1: <a href="#pg-216fb61fb3c583cf905606b6bb2cef90">Automated QA, Review &amp; Honeypot</a></li>


    
  
    
    
	
<li>2.19.2: <a href="#pg-f5275c350b840af83814c4397308c7b1">Manual QA and Review</a></li>


    
  
    
    
	
<li>2.19.3: <a href="#pg-80576ce0840ea07baad18f1f64132744">CVAT Team Performance &amp; Monitoring</a></li>


    
  

    </ul>
    
  
    
    
	
<li>2.20: <a href="#pg-46b81ede25cce0506f702375bc768345">OpenCV and AI Tools</a></li>


    
  
    
    
	
<li>2.21: <a href="#pg-ea08163bba95655dc41bf95a12621935">Automatic annotation</a></li>


    
  
    
    
	
<li>2.22: <a href="#pg-1f09c1323a230c32411755398c44c32b">Specification for annotators</a></li>


    
  
    
    
	
<li>2.23: <a href="#pg-824358cc96f8eb0510c3fef15f4323dd">Backup Task and Project</a></li>


    
  
    
    
	
<li>2.24: <a href="#pg-492ccd9aa01a223cf7b7ec967f649d61">Frame deleting</a></li>


    
  
    
    
	
<li>2.25: <a href="#pg-7d23ef5b2e47d5ef18660f1ece8daf0d">Join and slice tools</a></li>


    
  
    
    
	
<li>2.26: <a href="#pg-695864af5f32b0608f5d2b9e9572f851">Import datasets and upload annotation</a></li>


    
  
    
    
	
<li>2.27: <a href="#pg-f588fe2ead0d52f7dc13ab44434d9446">Export annotations and data from CVAT</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.27.1: <a href="#pg-bb85520cf3910fc2c5223b25cd27fb23">CVAT for image</a></li>


    
  
    
    
	
<li>2.27.2: <a href="#pg-56305e87b0babeca60c43bc357abdecd">Datumaro</a></li>


    
  
    
    
	
<li>2.27.3: <a href="#pg-89565d26b6237565243f9fbdb1c69506">LabelMe</a></li>


    
  
    
    
	
<li>2.27.4: <a href="#pg-684a69f071dbb7f0c74bfa7aa048bc55">MOT</a></li>


    
  
    
    
	
<li>2.27.5: <a href="#pg-6d73c8045cca651d4c33c37c54bee1eb">MOTS</a></li>


    
  
    
    
	
<li>2.27.6: <a href="#pg-290a597e3f293c37b49f23700c1c7029">COCO</a></li>


    
  
    
    
	
<li>2.27.7: <a href="#pg-b1da59e4956bad77b6489a96875a5ab0">COCO Keypoints</a></li>


    
  
    
    
	
<li>2.27.8: <a href="#pg-94f134e11587c913b9a0a9ea83f89beb">Pascal VOC</a></li>


    
  
    
    
	
<li>2.27.9: <a href="#pg-0c5d17d5590514f46eebca33f1932956">Segmentation Mask</a></li>


    
  
    
    
	
<li>2.27.10: <a href="#pg-325950f41f3ace02cd43a9a49e738e12">YOLO</a></li>


    
  
    
    
	
<li>2.27.11: <a href="#pg-37ea47d7e7cb5ab2516a949cad325f19">ImageNet</a></li>


    
  
    
    
	
<li>2.27.12: <a href="#pg-f3e3abb5b13d6f59f5100a9d8ae3645f">Wider Face</a></li>


    
  
    
    
	
<li>2.27.13: <a href="#pg-bdc4a2c3af1233a5e9cdef14bd683a14">CamVid</a></li>


    
  
    
    
	
<li>2.27.14: <a href="#pg-e5cb2753d48cd08b4ee4ff9e10696658">VGGFace2</a></li>


    
  
    
    
	
<li>2.27.15: <a href="#pg-b43e1ff431da6854eb46bb51b712cc0b">Market-1501</a></li>


    
  
    
    
	
<li>2.27.16: <a href="#pg-58cc638fb0d2a3516ec0e834a1eb3973">ICDAR13/15</a></li>


    
  
    
    
	
<li>2.27.17: <a href="#pg-30f91a45fc1a90a5d4185adb88f285cf">Open Images</a></li>


    
  
    
    
	
<li>2.27.18: <a href="#pg-f65edfb2f20864caafe1b7854693d809">Cityscapes</a></li>


    
  
    
    
	
<li>2.27.19: <a href="#pg-e59afed4c76bed95d3d4665d87dfe316">KITTI</a></li>


    
  
    
    
	
<li>2.27.20: <a href="#pg-d60ccc455bb490af89647d5fccd200ef">LFW</a></li>


    
  

    </ul>
    
  
    
    
	
<li>2.28: <a href="#pg-f698bff22886f6eda6cdad45220469c4">XML annotation format</a></li>


    
  
    
    
	
<li>2.29: <a href="#pg-77171fcfcdf5ea7519669685c24e95c3">Shortcuts</a></li>


    
  
    
    
	
<li>2.30: <a href="#pg-8c8c008f3339d846e9b9e1cce1057602">Filter</a></li>


    
  
    
    
	
<li>2.31: <a href="#pg-341ef5273edaaa92498883f4d832df14">Contextual images</a></li>


    
  
    
    
	
<li>2.32: <a href="#pg-158b1d880eaabf3e0830c8518c23321b">Shape grouping</a></li>


    
  
    
    
	
<li>2.33: <a href="#pg-38aabad9f17e6d1d7ac9776c09a32a5c">Dataset Manifest</a></li>


    
  
    
    
	
<li>2.34: <a href="#pg-d7d77f3c70d971a82c22b478c3271a5a">Data preparation on the fly</a></li>


    
  
    
    
	
<li>2.35: <a href="#pg-1b35e18fef7d8c06ef313e32977f5739">Serverless tutorial</a></li>


    
  

    </ul>
    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-6e3faa521a8eee0151bb424e7e354ec2">1 - Basics</h1>
    <div class="lead">This section contains basic documents for CVAT users</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-628774102564cce8a9b3ea45e8287c63">1.1 - Registration &amp; Account Access</h1>
    <div class="lead">CVAT.ai registration and account access.</div>
	<p>To start to annotate in CVAT.ai, you need to
create an account or log in to the existing account.</p>
<p>See:</p>
<ul>
<li><a href="#user-registration">User registration</a></li>
<li><a href="#user-registration-with-social-accounts">User registration with social accounts</a></li>
<li><a href="#account-access">Account access</a></li>
<li><a href="#password-reset">Password reset</a></li>
<li><a href="#change-password">Change password</a></li>
</ul>
<p>To create account or log in, go to the <a href="https://app.cvat.ai/">CVAT.ai Cloud</a> login page:</p>
<p><img src="../../../images/image001.jpg" alt=""></p>
<blockquote>
<p><strong>Note:</strong> By default authentication and registration with
Google and GitHub work only for <a href="https://app.cvat.ai/">CVAT.ai Cloud</a>.
<br>If you want to use Google and GitHub authentication on a local installation,
see <a href="../../../docs/administration/basics/social-accounts-configuration/">Social auth configuration</a>.</p>
</blockquote>
<h2 id="user-registration">User registration</h2>
<p>To register, do the following:</p>
<ol>
<li>
<p>Click <strong>Create an account</strong>.</p>
<p><img src="../../../images/image002.jpg" alt="Create account"></p>
</li>
<li>
<p>Fill in all blank fields, accept terms of use, and
click <strong>Create an account</strong>.</p>
</li>
</ol>
<p><img src="../../../images/image003.jpg" alt="Account form"></p>
<p><br>A username generates from the email automatically. You can edit it if needed.</p>
<p><img src="../../../images/filling_email.gif" alt="Usernname generation"></p>
<h2 id="user-registration-with-social-accounts">User registration with social accounts</h2>
<p>To register with Google or GitHub,
click the button with the name of the service,
and follow instructions on the screen.</p>
<h2 id="account-access">Account access</h2>
<p>To access your account, do the following:</p>
<ol>
<li>Go to the login page.</li>
<li>Enter username or email. The password field will appear.</li>
<li>Enter the password and click <strong>Next</strong>.</li>
</ol>
<p>To log in with Google or GitHub, click the button with the name of the service.</p>
<h2 id="password-reset">Password reset</h2>
<p>To reset password, do the following:</p>
<ol>
<li>
<p>Go to the <a href="https://app.cvat.ai/">CVAT.ai Cloud</a> page and click
<strong>Forgot password?</strong></p>
<p><img src="../../../images/reset-password.jpg" alt="Reset password"></p>
</li>
<li>
<p>Enter email you used for registration and click <strong>Send</strong>.</p>
</li>
<li>
<p>Open email and click on the link from CVAT.</p>
</li>
<li>
<p>Enter new password in both fields and click <strong>Change password</strong>.</p>
<p><img src="../../../images/reset-password-01.jpg" alt="Reset password"></p>
</li>
</ol>
<h2 id="change-password">Change password</h2>
<p>To change password, do the following:</p>
<ol>
<li>
<p>Log in to your CVAT account.</p>
</li>
<li>
<p>In the top right corner, click on the arrow next to
your nickname.</p>
</li>
<li>
<p>Select Change password.</p>
</li>
<li>
<p>Follow instructions on the screen.</p>
<p><img src="../../../images/change_password.jpg" alt="Reset password"></p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-60beb2082f002c6c5931b7fb26224da3">1.2 - Create annotation task</h1>
    <div class="lead">How to create and configure an annotation task.</div>
	<p>To start annotating in CVAT, you need to create an annotation task and specify its parameters.</p>
<p>To create a task, on the <strong>Tasks</strong> page click <strong>+</strong> and
select <strong>Create new task</strong>.</p>
<p><img src="../../../images/image004.jpg" alt="Create new task"></p>
<p>See:</p>
<ul>
<li><a href="#create-a-task">Create a task</a>
<ul>
<li><a href="#label-shape">Label shape</a></li>
<li><a href="#add-an-attribute">Add an attribute</a></li>
<li><a href="#select-files">Select files</a></li>
<li><a href="#editing-labels-in-raw-format">Editing labels in RAW format</a></li>
<li><a href="#data-formats-for-a-3d-task">Data formats for a 3D task</a></li>
</ul>
</li>
<li><a href="#advanced-configuration">Advanced configuration</a></li>
</ul>
<h2 id="create-a-task">Create a task</h2>
<p>To create a new task, open task configurator:</p>
<p><img src="../../../images/basic_confugurator.jpg" alt="Basic configurator"></p>
<p>And specify the following parameters:</p>
<ol>
<li>
<p>In the <strong>Name</strong> field, enter the name of the new task.</p>
<p><img src="../../../images/image005.jpg" alt="Name of task"></p>
</li>
<li>
<p>(Optional) From the <strong>Projects</strong> drop-down, select a project for the new task.
<br>Leave this field empty if you do not want to assign the task to any project.</p>
<p><img src="../../../images/image193.jpg" alt="Select project"></p>
<blockquote>
<p><strong>Note:</strong> Following steps are valid if the task does not belong to a project.
<br>If the task has been assigned to a project, the project&rsquo;s labels will be applied to the task.</p>
</blockquote>
</li>
<li>
<p>On the <strong>Constructor</strong> tab, click <strong>Add label</strong>.
<br>The label constructor menu will open:</p>
<p><img src="../../../images/image124.jpg" alt="Label constructor"></p>
</li>
<li>
<p>In the <strong>Label name</strong> field, enter the name of the label.</p>
</li>
<li>
<p>(Optional) To limit the use of the label to a certain <a href="../../../docs/manual/basics/controls-sidebar/#shapes">shape tool</a>,
from the <a href="#label-shape"><strong>Label shape</strong></a> drop-down select the shape.</p>
</li>
<li>
<p>(Optional) Select the color for the label.</p>
<p><img src="../../../images/label_shape.jpg" alt="label shape and color"></p>
</li>
<li>
<p>(Optional) Click <a href="#add-an-attribute"><strong>Add an attribute</strong></a> and set up its properties.</p>
</li>
<li>
<p>Click <a href="#select-files"><strong>Select files</strong></a> to upload files for annotation.</p>
</li>
<li>
<p>Click <strong>Continue</strong> to submit the label and start adding a new one
<br> or <strong>Cancel</strong> to terminate the current label and return you to the labels list.</p>
</li>
<li>
<p>Click <strong>Submit and open</strong> to submit the configuration and open the created task,
<br>or <strong>Submit and continue</strong>, to submit the configuration and start a new task.</p>
</li>
</ol>
<h3 id="label-shape">Label shape</h3>
<p>Labels (or classes) are categories of objects that you can annotate.</p>
<p><strong>Label shape</strong> limits the use of the label to certain <a href="../../../docs/manual/basics/controls-sidebar/#shapes">shape tool</a>.</p>
<p><code>Any</code> is the default setting that does not limit the use of the
label to any particular shape tool.</p>
<p>For example, you added:</p>
<ul>
<li>Label <code>sun</code> with the <strong>Label shape</strong> type <code>ellipse</code></li>
<li>Label <code>car</code> with the <strong>Label shape</strong> type <code>any</code></li>
</ul>
<p>As a result:</p>
<ul>
<li>
<p>The <code>sun</code> label will be available only for ellipse shape.</p>
</li>
<li>
<p>The <code>car</code> label will be available for all shapes.</p>
<p><img src="../../../images/label_shape.gif" alt="Label shape"></p>
</li>
</ul>
<p>The tools on the <a href="../../../docs/manual/basics/controls-sidebar/">Controls sidebar</a>
will be limited to the selected types of shapes.</p>
<p>For example, if you select <code>Any</code>,
all tools will be available,
but if you select <code>Rectangle</code> for all labels,
only the <strong>Rectangle</strong> tool will be
visible on the sidebar.</p>
<blockquote>
<p><strong>Note:</strong> You cannot apply the <strong>Label shape</strong>
to the <strong>AI</strong> and <strong>OpenCV</strong> tools,
these tools will always be available.</p>
</blockquote>
<p><img src="../../../images/type_tools.png" alt="Type control sidebar"></p>
<p>You can change the shape of the label as needed.
This change will not affect the existing annotation.</p>
<p>For example, if you created objects using polygons and then changed
the label shape to polylines, all previously created objects will remain
polygons. However, you will not be able to add new polygon
objects with the same label.</p>
<blockquote>
<p><strong>Note:</strong> You cannot change the shape of the <code>skeleton</code> label.
<br>The <strong>Label shape</strong> field for the <code>skeleton</code> label is disabled.</p>
</blockquote>
<h3 id="add-an-attribute">Add an attribute</h3>
<p><strong>Attribute</strong> is a property of an annotated object,
such as color, model, or other quality.</p>
<p>For example, you have a label for <code>face</code> and want to
specify the type of face. Instead of creating additional
labels for <code>male</code> and <code>female</code>, you can use attributes
to add this information.</p>
<p>There are two types of attributes:</p>
<ul>
<li><strong>Immutable</strong> attributes are unique and do not change from frame to frame.
For example, <code>age</code>, <code>gender</code>, and <code>color</code>.</li>
<li><strong>Mutable</strong> attributes are temporary and can change from frame to frame.
For example, <code>pose</code>, <code>quality</code>, and <code>truncated</code>.</li>
</ul>
<p>Added attributes will be available from the <strong>Objects menu</strong>:</p>
<p><img src="../../../images/attributes.jpg" alt="Attributes"></p>
<p>To add an attribute, do the following:</p>
<ol>
<li>
<p>Go to the <strong>Constructor</strong> tab and click <strong>Add attribute</strong>.</p>
<p><img src="../../../images/attributes_01.png" alt="Attributes"></p>
</li>
<li>
<p>In the <strong>Name</strong> field enter the name of the attribute.</p>
</li>
<li>
<p>From the drop-down, select way to display the attribute in the <strong>Objects menu</strong>:</p>
<ul>
<li>
<p><code>Select</code> enables a drop-down list, from which you can select an attribute. <br>If in
the <strong>Attribute value</strong> field you add <code>__undefined__</code>,
the drop-down list will have a blank value.<br>
This is useful for cases where the attribute of the object cannot be clarified:</p>
</li>
<li>
<p><img src="../../../images/undefined_value.jpg" alt="Undefined value"></p>
</li>
<li>
<p><code>Radio</code> enables the selection of one option from several options.</p>
</li>
<li>
<p><code>Checkbox</code> enables the selection of multiple options.</p>
</li>
<li>
<p><code>Text</code> sets the attribute to a text field.</p>
</li>
<li>
<p><code>Number</code> sets the attribute to numerical field in the following format: <code>min;max;step</code>.</p>
</li>
</ul>
</li>
<li>
<p>In the <strong>Attribute values</strong> field, add attribute values. <br>To separate values use <strong>Enter</strong>.
<br>To delete value, use <strong>Backspace</strong> or click <strong>x</strong> next to the value name.</p>
</li>
<li>
<p>(Optional) For mutable attributes, select <strong>Mutable</strong>.</p>
</li>
<li>
<p>(Optional) To set the default attribute, hover over it with mouse cursor and
click on it. The default attribute will change color to blue.</p>
</li>
</ol>
<p><img src="../../../images/default_attribute.jpg" alt="Default attribute"></p>
<p>To delete an attribute, click <strong>Delete attribute</strong>.</p>
<h3 id="select-files">Select files</h3>
<p>There are several ways to upload files:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Data source</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>My computer</td>
<td>Use this option to select files from your laptop or PC. <br> To select file: <br>1. Click on the <strong>Select files</strong> field: <br><img src="../../../images/select_files.jpg" alt="Select files">. <br> 2. Select files to upload.</td>
</tr>
<tr>
<td>Connected file share</td>
<td><strong>Advanced option</strong>. <br>Upload files from a local or cloud shared folder. <br><strong>Note</strong>, that you need to mount a fileshare first. <br>For more information, see <a href="../../../docs/administration/basics/installation/#share-path">Share path</a></td>
</tr>
<tr>
<td>Remote source</td>
<td>Enter a list of URLs (one per line) in the field.</td>
</tr>
<tr>
<td>Cloud Storage</td>
<td><strong>Advanced option</strong>. <br>To upload files from cloud storage, type the cloud storage name, (optional) choose the manifest file, and select the required files. <br> For more information, see <a href="../../../docs/manual/basics/attach-cloud-storage/">Attach cloud storage</a>. Use the search feature to find a file (by file name) from the connected cloud storage.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h3 id="editing-labels-in-raw-format">Editing labels in RAW format</h3>
<p>The <strong>Raw</strong> is a way of working with labels for an advanced user.</p>
<p>It is useful when you need to copy labels from one independent task to another.</p>
<blockquote>
<p><strong>Note:</strong> Be careful with changing the raw specification of an existing task/project.
Removing any &ldquo;id&rdquo; properties will lead to losing existing annotations.
<strong>This property will be removed automatically from any text you insert to this field</strong>.</p>
</blockquote>
<p><img src="../../../images/image126.jpg" alt=""></p>
<p>Raw presents label data in <em>.json</em> format with an option of editing and copying labels as text.
The <strong>Done</strong> button applies the changes and the <strong>Reset</strong> button cancels the changes.</p>
<h3 id="data-formats-for-a-3d-task">Data formats for a 3D task</h3>
<p>To create a 3D task, you must prepare an archive with one of the following directory structures.</p>
<blockquote>
<p><strong>Note:</strong> You can&rsquo;t mix 2D and 3D data in the same task.</p>
</blockquote>





<ul class="nav nav-tabs" id="tabs-0" role="tablist">
  <li class="nav-item">
      <button class="nav-link active"
          id="tabs-00-00-tab" data-bs-toggle="tab" data-bs-target="#tabs-00-00" role="tab"
          aria-controls="tabs-00-00" aria-selected="true">
        Velodyne
      </button>
    </li><li class="nav-item">
      <button class="nav-link"
          id="tabs-00-01-tab" data-bs-toggle="tab" data-bs-target="#tabs-00-01" role="tab"
          aria-controls="tabs-00-01" aria-selected="false">
        3D pointcloud
      </button>
    </li><li class="nav-item">
      <button class="nav-link"
          id="tabs-00-02-tab" data-bs-toggle="tab" data-bs-target="#tabs-00-02" role="tab"
          aria-controls="tabs-00-02" aria-selected="false">
        3D Option 1
      </button>
    </li><li class="nav-item">
      <button class="nav-link"
          id="tabs-00-03-tab" data-bs-toggle="tab" data-bs-target="#tabs-00-03" role="tab"
          aria-controls="tabs-00-03" aria-selected="false">
        3D Option 2
      </button>
    </li>
</ul>

<div class="tab-content" id="tabs-0-content">
    <div class="tab-pane fade show active"
        id="tabs-00-00" role="tabpanel" aria-labelled-by="tabs-00-00-tab" tabindex="0">
        <pre tabindex="0"><code>  VELODYNE FORMAT
    Structure:
      velodyne_points/
        data/
          image_01.bin
          IMAGE_00 # unknown dirname,
                   # generally image_01.png can be under IMAGE_00, IMAGE_01, IMAGE_02, IMAGE_03, etc
      data/
        image_01.png</code></pre>
    </div>
    <div class="tab-pane fade"
        id="tabs-00-01" role="tabpanel" aria-labelled-by="tabs-00-01-tab" tabindex="0">
        <pre tabindex="0"><code>   3D POINTCLOUD DATA FORMAT
    Structure:
      pointcloud/
        00001.pcd
      related_images/
        00001_pcd/
          image_01.png # or any other image</code></pre>
    </div>
    <div class="tab-pane fade"
        id="tabs-00-02" role="tabpanel" aria-labelled-by="tabs-00-02-tab" tabindex="0">
        <pre tabindex="0"><code>    3D, DEFAULT DATAFORMAT Option 1
    Structure:
      data/
        image.pcd
        image.png</code></pre>
    </div>
    <div class="tab-pane fade"
        id="tabs-00-03" role="tabpanel" aria-labelled-by="tabs-00-03-tab" tabindex="0">
        <pre tabindex="0"><code>    3D, DEFAULT DATAFORMAT Option 2
    Structure:
      data/
        image_1/
            image_1.pcd
            context_1.png # or any other name
            context_2.jpg</code></pre>
    </div>
</div>

<h2 id="advanced-configuration">Advanced configuration</h2>
<p>Use advanced configuration to set additional parameters for the task
and customize it to meet specific needs or requirements.</p>
<p><img src="../../../images/image128.jpg" alt=""></p>
<p>The following parameters are available:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Element</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sorting method</td>
<td><strong>Note:</strong> Does not work for the video data. <br><br>Several methods to sort the data. <br> For example, the sequence <code>2.jpeg</code>, <code>10.jpeg</code>, <code>1.jpeg</code> after sorting will be: <br><br><li> <strong>Lexicographica</strong>: <code>1.jpeg</code>, <code>10.jpeg</code>, <code>2.jpeg</code> <li> <strong>Natural</strong>: <code>1.jpeg</code>, <code>2.jpeg</code>, <code>10.jpeg</code> <li> <strong>Predefined</strong>: <code>2.jpeg</code>, <code>10.jpeg</code>, <code>1.jpeg</code> <li> <strong>Random</strong> uploads data in random order.</td>
</tr>
<tr>
<td>Use zip/video chunks</td>
<td>Use this parameter to divide your video or image dataset for annotation into short video clips a zip file of frames. <br>Zip files are larger but do not require decoding on the client side, and video clips are smaller but require decoding. <br>It is recommended to turn off this parameter for video tasks to reduce traffic between the client side and the server.</td>
</tr>
<tr>
<td>Use cache</td>
<td>Select checkbox, to enable <em>on-the-fly</em> data processing to reduce task creation time and store data in a cache with a policy of <br>evicting less popular items. <br><br>For more information, see <a href="../../../docs/manual/advanced/data_on_fly/">Data preparation on the fly</a>.</td>
</tr>
<tr>
<td>Image Quality</td>
<td>CVAT has two types of data: original quality and compressed. Original quality images are used for dataset export<br> and automatic annotation. Compressed images are used only for annotations to reduce traffic between the server <br>and client side. <br> It is recommended to adjust the compression level only if the images contain small objects that are not <br>visible in the original quality. <br> Values range from <code>5</code> (highly compressed images) to <code>100</code> (not compressed</td>
</tr>
<tr>
<td>Overlap Size</td>
<td>Use this parameter to create overlapped segments, making tracking continuous from one segment to another. <br><br><strong>Note</strong> that this functionality only works for bounding boxes. <br><br>This parameter has the following options: <br><br><strong>Interpolation task</strong> (video sequence). If you annotate with a bounding box on two adjacent segments, they will be<br> merged into a single bounding box. In case the overlap is zero or the bounding box is inaccurate (not enclosing the object <br>properly, misaligned or distorted) on the adjacent segments, it may be difficult to accurately interpole the object&rsquo;s <br>movement between the segments. As a result, multiple tracks will be created for the same object. <br><br><strong>Annotation task</strong> (independent images). If an object exists on overlapped segments with overlap greater than zero, <br>and the annotation of these segments is done properly, then the segments will be automatically merged into a single<br> object. If the overlap is zero or the annotation is inaccurate (not enclosing the object properly, misaligned, distorted) on the<br> adjacent segments, it may be difficult to accurately track the object. As a result, multiple bounding boxes will be <br>created for the same object. <br><br>If the annotations on different segments (on overlapped frames) are very different, you will have two shapes <br>for the same object. <br><br>To avoid this, accurately annotate the object on the first segment and the same object on the second segment to create a track <br>between two annotations.</td>
</tr>
<tr>
<td>Segment size</td>
<td>Use this parameter to divide a dataset into smaller parts. For example, if you want to share a dataset among multiple<br> annotators, you can split it into smaller sections and assign each section to a separate job. <br>This allows annotators to work on the same dataset concurrently.</td>
</tr>
<tr>
<td>Start frame</td>
<td>Defines the first frame of the video.</td>
</tr>
<tr>
<td>Stop frame</td>
<td>Defines the last frame of the video.</td>
</tr>
<tr>
<td>Frame Step</td>
<td>Use this parameter to filter video frames or images in a dataset. Specify frame step value to include only <br>certain frames or images in the dataset. <br>For example, if the frame step value is <code>25</code>, the dataset will include every 25th frame or image. If a video <br>has <code>100</code> frames, setting the frame step to <code>25</code> will include only frames <code>1</code>, <code>26</code>, <code>51</code>, <code>76</code>, and <code>100</code> in the dataset. <br>This can be useful for reducing the size of the dataset, or for focusing on specific frames or images that are <br>of particular interest.</td>
</tr>
<tr>
<td>Chunk size</td>
<td>Defines amount of frames to be packed in a chunk when send from client to server. <br>The server defines automatically if the chunk is empty. <br>Recommended values: <li> 1080p or less: 36 <li> 2k or less: 8 <li>16 - 4k or less: 4 <li>8 - More: 1 - 4</td>
</tr>
<tr>
<td>Issue tracker</td>
<td>Use this parameter to specify the issue tracker URL.</td>
</tr>
<tr>
<td>Source storage</td>
<td>Specify the source storage for importing resources like annotations and backups. <br>If the task was assigned to the project, use the <strong>Use project source storage</strong> toggle to determine whether to <br>use project values or specify new ones.</td>
</tr>
<tr>
<td>Target storage</td>
<td>Specify the target storage (local or cloud) for exporting resources like annotations and backups. <br>If the task is created in the project, use the <strong>Use project target storage</strong> toggle to determine whether to<br> use project values or specify new ones.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<p>To save and open the task, click <strong>Submit &amp; Open</strong> .</p>
<p>To create several tasks in sequence, click <strong>Submit &amp; Continue</strong>.</p>
<p>Created tasks will be displayed on the <a href="../../../docs/manual/basics/tasks-page/">tasks page</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-bc24e10c33b6d18937a3e4e26d98d154">1.3 - Create multi tasks</h1>
    <div class="lead">Step-by-step guide on how to create and set up multiple tasks</div>
	<p>Use <strong>Create multi tasks</strong> to create multiple video annotation tasks with the same configuration.</p>
<blockquote>
<p>The <strong>Сreate multi tasks</strong> feature is available for videos only.</p>
</blockquote>
<p>To create the multi tasks, on the <strong>Tasks</strong> page click <strong>+</strong> and
select <strong>Create multi tasks</strong>.</p>
<p><img src="../../../images/image254.jpg" alt=""></p>
<p>See:</p>
<ul>
<li><a href="#create-multi-tasks">Create multi tasks</a></li>
<li><a href="#example">Example</a></li>
<li><a href="#errors">Errors</a></li>
<li><a href="#advanced-configuration">Advanced configuration</a></li>
</ul>
<h2 id="create-multi-tasks">Create multi tasks</h2>
<p>To add several tasks in one go, open the task configurator:</p>
<p><img src="../../../images/multitask_configurator.png" alt="Multitack configurator"></p>
<p>And specify the following parameters:</p>
<ol>
<li>
<p>In the <strong>Name</strong> field, enter the name of the new task:</p>
<ul>
<li>Enter the name of the task. If the name includes more than one word, use the underscore: <code>Word1 word2 word3</code></li>
<li>(Optional) <code>{{index}}</code> adds an index to the file in the set (starting from 0).</li>
<li>(Optional) <code>{{file_name}}</code> adds the file&rsquo;s name to the task&rsquo;s name.
<blockquote>
<p><strong>Note:</strong> use hyphen between three parameters: <code>Word1 word2 word3 {{index}} {{file_name}}</code></p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>(Optional) From the <strong>Projects</strong> drop-down, select a project for the tasks.
<br>Leave this field empty if you do not want to assign tasks to any project.</p>
<p><img src="../../../images/image193.jpg" alt="Select project"></p>
<blockquote>
<p><strong>Note:</strong> Following steps are valid if the tasks do not belong to a project.
<br>If the tasks have been assigned to a project, the project&rsquo;s labels will be applied to the tasks.</p>
</blockquote>
</li>
<li>
<p>On the <strong>Constructor</strong> tab, click <strong>Add label</strong>.</p>
</li>
<li>
<p>In the <strong>Label name</strong> field, enter the name of the label.</p>
</li>
<li>
<p>(Optional) Select the color for the label.</p>
</li>
<li>
<p>(Optional) Click <a href="../../../docs/manual/basics/create_an_annotation_task/#add-an-attribute"><strong>Add an attribute</strong></a>
and set up its properties.</p>
</li>
<li>
<p>Click <a href="../../../docs/manual/basics/create_an_annotation_task/#select-files"><strong>Select files</strong></a>
to upload files for annotation.</p>
<blockquote>
<p><strong>Note:</strong> You cannot upload multiple tasks from the cloud storage.</p>
</blockquote>
</li>
<li>
<p>Click <strong>Submit <code>N</code> tasks</strong></p>
</li>
</ol>
<h2 id="example">Example</h2>
<p>A step-by-step example for creating the multiple tasks:</p>
<ol>
<li>
<p>In the <strong>Name</strong> field, enter the <code>Create_multitask-{{index}}-{{file_name}}</code>.</p>
</li>
<li>
<p>Add labels.</p>
</li>
<li>
<p>Select files. <br>In case there are more than four files,
only the total number of selected files will be displayed:
<img src="../../../images/image258.jpg" alt=""></p>
</li>
<li>
<p>Click <strong>Submit <code>N</code> tasks</strong></p>
<p><img src="../../../images/image257.jpg" alt=""></p>
</li>
<li>
<p>You will see a progress bar that shows the progress of the tasks being created:</p>
<p><img src="../../../images/image259.jpg" alt=""></p>
</li>
<li>
<p>Click <strong>Ok</strong>.</p>
<p><img src="../../../images/image260.jpg" alt=""></p>
</li>
</ol>
<p>The result will look like the following:</p>
<p><img src="../../../images/image261.jpg" alt=""></p>
<h2 id="errors">Errors</h2>
<p>During the process of adding multiple tasks, the following errors may occur:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Error</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="../../../images/image262.jpg" alt=""></td>
<td>Wrong file format. You can add only video files.</td>
</tr>
<tr>
<td><img src="../../../images/image263.jpg" alt=""></td>
<td>In the process of creating a task, CVAT was not able to process the video file. <br>The name of the failed file will be displayed on the progress bar. <br><br> To fix this issue: <li> If you want to try again, click <strong>Retry failed tasks</strong>. <li> If you want to skip the file, click <strong>OK</strong>.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h2 id="advanced-configuration">Advanced configuration</h2>
<p>Use advanced configuration to set additional parameters for the task
and customize it to meet specific needs or requirements.</p>
<p>For more information, see
<a href="../../../docs/manual/basics/create_an_annotation_task/#advanced-configuration">Advanced configuration</a></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f05979e03e250e4fd83819a9fb4f8c6f">1.4 - Jobs page</h1>
    
	<p>On the jobs page, users (for example, with the worker role)
can see the jobs that are assigned to them without having access to the task page,
as well as track progress, sort and apply filters to the job list.</p>
<p><img src="../../../images/image243_detrac.jpg" alt=""></p>
<p>On the job page there is a list of jobs presented in the form of tiles, where each tile is one job.
Each element contains:</p>
<ul>
<li>job ID</li>
<li>dimension <code>2D</code> or <code>3D</code></li>
<li>preview</li>
<li><a href="../../../docs/manual/basics/vocabulary/#stage">stage</a> and <a href="../../../docs/manual/basics/vocabulary/#state">state</a></li>
<li>when hovering over an element, you can see:
<ul>
<li>size</li>
<li>assignee</li>
</ul>
</li>
<li>menu to navigate to a task, project, or bug tracker.</li>
</ul>
<blockquote>
<p>To open the job in a new tab, click on the job by holding <code>Ctrl</code>.</p>
</blockquote>
<p>In the upper left corner there is a search bar, using which you can find the job by assignee, stage, state, etc.
In the upper right corner there are <a href="../../../docs/manual/advanced/filter/#sort-by">sorting</a>, <a href="../../../docs/manual/advanced/filter/#quick-filters">quick filters</a> and filter.</p>
<h2 id="filter">Filter</h2>
<blockquote>
<p>Applying filter disables the <a href="../../../docs/manual/advanced/filter/#quick-filters">quick filter</a>.</p>
</blockquote>
<p>The filter works similarly to the filters for annotation,
you can create rules from <a href="#supported-properties-for-jobs-list">properties</a>, <a href="../../../docs/manual/advanced/filter/#supported-operators-for-properties">operators</a>
and values and group rules into <a href="../../../docs/manual/advanced/filter/#groups">groups</a>. For more details, see the <a href="../../../docs/manual/advanced/filter/#create-a-filter">filter section</a>.
Learn more about <a href="../../../docs/manual/advanced/filter#date-and-time-selection">date and time selection</a>.</p>
<p>For clear all filters press <code>Clear filters</code>.</p>
<h3 id="supported-properties-for-jobs-list">Supported properties for jobs list</h3>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Supported values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>State</code></td>
<td>all the state names</td>
<td>The state of the job <br>(can be changed in the menu inside the job)</td>
</tr>
<tr>
<td><code>Stage</code></td>
<td>all the stage names</td>
<td>The stage of the job <br>(is specified by a drop-down list on the task page)</td>
</tr>
<tr>
<td><code>Dimension</code></td>
<td><code>2D</code> or <code>3D</code></td>
<td>Depends on the data format <br>(read more in <a href="../../../docs/manual/basics/creating_an_annotation_task">creating an annotation task</a>)</td>
</tr>
<tr>
<td><code>Assignee</code></td>
<td>username</td>
<td>Assignee is the user who is working on the job. <br>(is specified on task page)</td>
</tr>
<tr>
<td><code>Last updated</code></td>
<td>last modified date and time (or value range)</td>
<td>The date can be entered in the <code>dd.MM.yyyy HH:mm</code> format <br>or by selecting the date in the window that appears <br>when you click on the input field</td>
</tr>
<tr>
<td><code>ID</code></td>
<td>number or range of job ID</td>
<td></td>
</tr>
<tr>
<td><code>Task ID</code></td>
<td>number or range of task ID</td>
<td></td>
</tr>
<tr>
<td><code>Project ID</code></td>
<td>number or range of project ID</td>
<td></td>
</tr>
<tr>
<td><code>Task name</code></td>
<td>task name</td>
<td>Set when creating a task, <br>can be changed on the (<a href="../../../docs/manual/basics/task-details/">task page</a>)</td>
</tr>
<tr>
<td><code>Project name</code></td>
<td>project name</td>
<td>Specified when creating a project, <br>can be changed on the (<a href="../../../docs/manual/advanced/projects/">project section</a>)</td>
</tr>
</tbody>
</table>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8b4dc0e86031450cd60eaa0f2183926a">1.5 - Tasks page</h1>
    <div class="lead">Overview of the Tasks page.</div>
	<p><img src="../../../images/image006_detrac.jpg" alt=""></p>
<p>The tasks page contains elements and each of them relates to a separate task. They are sorted in creation order.
Each element contains: task name, preview, progress bar, button <code>Open</code>, and menu <code>Actions</code>.
Each button is responsible for a in menu <code>Actions</code> specific function:</p>
<ul>
<li><code>Export task dataset</code> — download annotations or annotations and images in a specific format.
More information is available in the <a href="../../../docs/manual/advanced/export-import-datasets/">export/import datasets</a>
section.</li>
<li><code>Upload annotation</code> upload annotations in a specific format.
More information is available in the <a href="../../../docs/manual/advanced/export-import-datasets/">export/import datasets</a>
section.</li>
<li><code>Automatic Annotation</code> — automatic annotation with OpenVINO toolkit.
Presence depends on how you build the CVAT instance.</li>
<li><code>Backup task</code> — make a backup of this task into a zip archive.
Read more in the <a href="../../../docs/manual/advanced/backup/">backup</a> section.</li>
<li><code>Move to project</code> — Moving a task to a project (you can move only a task which does not belong to any project).
In case of label mismatch, you can create or delete necessary labels in the project/task.
Some task labels can be matched with the target project labels.</li>
<li><code>Delete</code> — delete task.</li>
</ul>
<p>In the upper left corner there is a search bar, using which you can find the task by assignee, task name etc.
In the upper right corner there are <a href="../../../docs/manual/advanced/filter/#sort-by">sorting</a>, <a href="../../../docs/manual/advanced/filter/#quick-filters">quick filters</a> and filter.</p>
<h2 id="filter">Filter</h2>
<blockquote>
<p>Applying filter disables the <a href="../../../docs/manual/advanced/filter/#quick-filters">quick filter</a>.</p>
</blockquote>
<p>The filter works similarly to the filters for annotation,
you can create rules from <a href="#supported-properties-for-tasks-list">properties</a>,
<a href="../../../docs/manual/advanced/filter/#supported-operators-for-properties">operators</a> and values and group rules into <a href="../../../docs/manual/advanced/filter/#groups">groups</a>.
For more details, see the <a href="../../../docs/manual/advanced/filter/#create-a-filter">filter section</a>.
Learn more about <a href="../../../docs/manual/advanced/filter#date-and-time-selection">date and time selection</a>.</p>
<p>For clear all filters press <code>Clear filters</code>.</p>
<h3 id="supported-properties-for-tasks-list">Supported properties for tasks list</h3>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Supported values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Dimension</code></td>
<td><code>2D</code> or <code>3D</code></td>
<td>Depends on the data format <br>(read more in <a href="../../../docs/manual/basics/creating_an_annotation_task">creating an annotation task</a>)</td>
</tr>
<tr>
<td><code>Status</code></td>
<td><code>annotation</code>, <code>validation</code> or <code>completed</code></td>
<td></td>
</tr>
<tr>
<td><code>Data</code></td>
<td><code>video</code>, <code>images</code></td>
<td>Depends on the data format <br>(read more in <a href="../../../docs/manual/basics/creating_an_annotation_task">creating an annotation task</a>)</td>
</tr>
<tr>
<td><code>Subset</code></td>
<td><code>test</code>, <code>train</code>, <code>validation</code> or custom subset</td>
<td>[read more] [subset]</td>
</tr>
<tr>
<td><code>Assignee</code></td>
<td>username</td>
<td>Assignee is the user who is working on the project, task or job. <br>(is specified on task page)</td>
</tr>
<tr>
<td><code>Owner</code></td>
<td>username</td>
<td>The user who owns the project, task, or job</td>
</tr>
<tr>
<td><code>Last updated</code></td>
<td>last modified date and time (or value range)</td>
<td>The date can be entered in the <code>dd.MM.yyyy HH:mm</code> format <br>or by selecting the date in the window that appears <br>when you click on the input field</td>
</tr>
<tr>
<td><code>ID</code></td>
<td>number or range of job ID</td>
<td></td>
</tr>
<tr>
<td><code>Project ID</code></td>
<td>number or range of project ID</td>
<td></td>
</tr>
<tr>
<td><code>Name</code></td>
<td>name</td>
<td>On the tasks page - name of the task,<br> on the project page - name of the project</td>
</tr>
<tr>
<td><code>Project name</code></td>
<td>project name</td>
<td>Specified when creating a project, <br>can be changed on the (<a href="../../../docs/manual/advanced/projects/">project section</a>)</td>
</tr>
</tbody>
</table>
<hr>
<p>Push <code>Open</code> button to go to <a href="../../../docs/manual/basics/task-details/">task details</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8c04ccdab3bc47dc61dead92a456dc5e">1.6 - Task details</h1>
    <div class="lead">Overview of the Task details page.</div>
	<p>Task details is a task page which contains a preview, a progress bar
and the details of the task (specified when the task was created) and the jobs section.</p>
<p><img src="../../../images/image131_detrac.jpg" alt=""></p>
<ul>
<li>
<p>The next actions are available on this page:</p>
<ol>
<li>Change the task’s title.</li>
<li>Open <code>Actions</code> menu.</li>
<li>Change issue tracker or open issue tracker if it is specified.</li>
<li>Change labels (available only if the task is not related to the project).
You can add new labels or add attributes for the existing labels in the Raw mode or the Constructor mode.
By clicking <code>Copy</code> you will copy the labels to the clipboard.</li>
<li>Assigned to — is used to assign a task to a person. Start typing an assignee’s name and/or
choose the right person out of the dropdown list.
In the list of users, you will only see the users of the <a href="../../../docs/manual/advanced/organization/">organization</a>
where the task is created.</li>
</ol>
</li>
<li>
<p><strong>Jobs</strong> — is a list of all jobs for a particular task. Here you can find the next data:</p>
<ul>
<li>Jobs name with a hyperlink to it.</li>
<li>Frames — the frame interval.</li>
<li>A stage of the job. The stage is specified by a drop-down list.
There are three stages: <code>annotation</code>, <code>validation</code> or <code>acceptance</code>. This value affects the task progress bar.</li>
<li>A state of the job. The state can be changed by an assigned user in the menu inside the job.
There are several possible states: <code>new</code>, <code>in progress</code>, <code>rejected</code>, <code>completed</code>.</li>
<li>Started on — start date of this job.</li>
<li>Duration — is the amount of time the job is being worked.</li>
<li>Assignee is the user who is working on the job.
You can start typing an assignee’s name and/or choose the right person out of the dropdown list.</li>
<li>Reviewer – a user assigned to carry out the review,
read more in the <a href="../../../docs/manual/advanced/review/">review</a> section.</li>
<li><code>Copy</code>. By clicking <code>Copy</code> you will copy the job list to the clipboard.
The job list contains direct links to jobs.</li>
</ul>
<p>You can filter or sort jobs by status, as well as by assigner or reviewer.</p>
</li>
</ul>
<p>Follow a link inside <code>Jobs</code> section to start annotation process.
In some cases, you can have several links. It depends on size of your
task and <code>Overlap Size</code> and <code>Segment Size</code> parameters. To improve
UX, only the first chunk of several frames will be loaded and you will be able
to annotate first images. Other frames will be loaded in background.</p>
<p><img src="../../../images/image007_detrac.jpg" alt=""></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a3f5ac3c9c71a6d1895f21973a3e7073">1.7 - Interface of the annotation tool</h1>
    
	<h2 id="main-user-interface">Main user interface</h2>
<p>The tool consists of:</p>
<ul>
<li>
<p><code>Header</code> - pinned header used to navigate CVAT sections and account settings;</p>
</li>
<li>
<p><a href="../../../docs/manual/basics/top-panel/"><code>Top panel</code></a> — contains navigation buttons, main functions and menu access;</p>
</li>
<li>
<p><a href="../../../docs/manual/basics/workspace/"><code>Workspace</code></a> — space where images are shown;</p>
</li>
<li>
<p><a href="../../../docs/manual/basics/controls-sidebar/"><code>Controls sidebar</code></a> — contains tools for navigating the image, zoom,
creating shapes and editing tracks (merge, split, group);</p>
</li>
<li>
<p><a href="../../../docs/manual/basics/objects-sidebar/"><code>Objects sidebar</code></a> — contains label filter, two lists:
objects (on the frame) and labels (of objects on the frame) and appearance settings.</p>
</li>
</ul>
<p><img src="../../../images/image034_detrac.jpg" alt=""></p>
<h2 id="pop-up-messages">Pop-up messages</h2>
<p><img src="../../../images/pop-up_message.jpg" alt="Pop-up message"></p>
<p>In CVAT, you&rsquo;ll receive pop-up messages in the upper-right corner, on any page.
Pop-up messages can contain useful information, links, or error messages.</p>
<h3 id="information-message">Information message</h3>
<p>Informational messages inform about the end of the auto-annotation process.
<a href="../../../docs/manual/advanced/automatic-annotation/">Learn more about auto-annotation</a>.</p>
<h3 id="jump-suggestion-messages">Jump Suggestion Messages</h3>
<h4 id="open-a-task">Open a task</h4>
<p>After creating a task, you can immediately open it by clicking <code>Open task</code>.
<a href="../../../docs/manual/basics/creating_an_annotation_task/">Learn more about creating a task</a>.</p>
<h4 id="continue-to-the-frame-on-which-the-work-on-the-job-is-finished">Continue to the frame on which the work on the job is finished</h4>
<p>When you open a job that you previously worked on, you will receive pop-up messages with a proposal
to go to the frame that was visited before closing the tab.</p>
<h3 id="error-messages">Error Messages</h3>
<p>If you perform impossible actions, you may receive an error message.
The message may contain information about the error
or a prompt to open the browser console (shortcut <code>F12</code>) for information.
If you encounter a bug that you can&rsquo;t solve yourself,
you can <a href="https://github.com/cvat-ai/cvat/issues/new">create an issue on GitHub</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-96e4853b69b3c2d45ac6c4dd9eef69f6">1.8 - Basic navigation</h1>
    <div class="lead">Overview of basic controls.</div>
	<ol>
<li>
<p>Use arrows below to move to the next/previous frame.
Use the scroll bar slider to scroll through frames.
Almost every button has a shortcut.
To get a hint about a shortcut, just move your mouse pointer over an UI element.</p>
<p><img src="../../../images/image008.jpg" alt=""></p>
</li>
<li>
<p>To navigate the image, use the button on the controls sidebar.
Another way an image can be moved/shifted is by holding the left mouse button inside
an area without annotated objects.
If the <code>Mouse Wheel</code> is pressed, then all annotated objects are ignored. Otherwise the
a highlighted bounding box will be moved instead of the image itself.</p>
<p><img src="../../../images/image136.jpg" alt=""></p>
</li>
<li>
<p>You can use the button on the sidebar controls to zoom on a region of interest.
Use the button <code>Fit the image</code> to fit the image in the workspace.
You can also use the mouse wheel to scale the image
(the image will be zoomed relatively to your current cursor position).</p>
<p><img src="../../../images/image137.jpg" alt=""></p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-247db7504d756f9b8a302d89c1c60fe7">1.9 - Top Panel</h1>
    <div class="lead">Overview of controls available on the top panel of the annotation tool.</div>
	<p><img src="../../../images/image035.jpg" alt=""></p>
<hr>
<h2 id="menu-button">Menu button</h2>
<p>It is the main menu of the annotation tool. It can be used to download, upload and remove annotations.</p>
<p><img src="../../../images/image051.jpg" alt=""></p>
<p>Button assignment:</p>
<ul>
<li>
<p><strong>Upload Annotations</strong> — uploads annotations into a task.</p>
</li>
<li>
<p><strong>Export as a dataset</strong> — download a data set from a task in one of the <a href="../../../docs/manual/advanced/formats/">supported formats</a>.
You can also enter a <strong>Custom name</strong> and enable the <strong>Save images</strong>
checkbox if you want the dataset to contain images.</p>
</li>
<li>
<p><strong>Remove Annotations</strong> — calls the confirmation window if you click <strong>Delete</strong>, the annotation of the current job
will be removed, if you click <strong>Select range</strong> you can remove annotation on range frames, if you activate checkbox
<strong>Delete only keyframe for tracks</strong> then only keyframes will be deleted from the tracks, on the selected range.</p>
<p><img src="../../../images/image229.jpg" alt=""></p>
</li>
<li>
<p><strong>Run actions</strong> - opens annotations actions modal (annotations action is a feature
that allow you to modify a bulk of annotations on many frames,
e.g. <a href="../../../docs/enterprise/shapes-converter/">Shapes converter</a>). It supports only <code>shape</code> objects.</p>
</li>
<li>
<p><strong>Open the task</strong> — opens a page with details about the task.</p>
</li>
<li>
<p><strong>Change job state</strong> - changes the state of the job (<code>new</code>, <code>in progress</code>, <code>rejected</code>, <code>completed</code>).</p>
</li>
<li>
<p><strong>Finish the job</strong>/<strong>Renew the job</strong> - changes the job stage and state
to <code>acceptance</code> and <code>completed</code> / <code>annotation</code> and <code>new</code> correspondingly.</p>
</li>
</ul>
<h2 id="save-work">Save Work</h2>
<p>Saves annotations for the current job. The button has an indication of the saving process.</p>
<p><img src="../../../images/image141.jpg" alt=""></p>
<h2 id="undo-redo-buttons">Undo-redo buttons</h2>
<p>Use buttons to undo actions or redo them.</p>
<p><img src="../../../images/image061.jpg" alt=""></p>
<hr>
<h2 id="done">Done</h2>
<p><img src="../../../images/image223.jpg" alt=""></p>
<p>Used to complete the creation of the object. This button appears only when the object is being created.</p>
<hr>
<h2 id="block">Block</h2>
<p><img src="../../../images/image226.jpg" alt=""></p>
<p>Used to pause automatic line creation when drawing a polygon with
<a href="../../../docs/manual/advanced/opencv-tools/#intelligent-scissors">OpenCV Intelligent scissors</a>.
Also used to postpone server requests when creating an object using <a href="../../../docs/manual/advanced/ai-tools/">AI Tools</a>.
When blocking is activated, the button turns blue.</p>
<hr>
<h2 id="player">Player</h2>
<p>Go to the first /the latest frames.</p>
<p><img src="../../../images/image036.jpg" alt=""></p>
<p>Go to the next/previous frame with a predefined step. Shortcuts:
<strong>V</strong> — step backward, <strong>C</strong> — step forward. By default the step is <code>10</code> frames
(change at <strong>Account Menu</strong> —&gt; <strong>Settings</strong> —&gt; <strong>Player Step</strong>).</p>
<p><img src="../../../images/image037.jpg" alt=""></p>
<p>The button to go to the next / previous frame has the customization possibility.
To customize, right-click on the button and select one of three options:</p>
<ol>
<li>The default option - go to the next / previous frame (the step is 1 frame).</li>
<li>Go to the next / previous frame that has any objects (in particular filtered).
Read the <a href="../../../docs/manual/advanced/filter/">filter</a> section to know the details how to use it.</li>
<li>Go to the next / previous frame without annotation at all.
Use this option in cases when you need to find missed frames quickly.</li>
</ol>
<p>Shortcuts: <strong>D</strong> - previous, <strong>F</strong> - next.</p>
<p><img src="../../../images/image040.jpg" alt=""></p>
<p>Play the sequence of frames or the set of images.
Shortcut: <strong>Space</strong> (change at <strong>Account Menu</strong> —&gt; <strong>Settings</strong> —&gt; <strong>Player Speed</strong>).</p>
<p><img src="../../../images/image041.jpg" alt=""></p>
<p>Go to a specific frame. Press <strong>~</strong> to focus on the element.</p>
<p><img src="../../../images/image060.jpg" alt=""></p>
<p>To delete frame.</p>
<p>Shortcut: <strong>Alt</strong>+<strong>Del</strong></p>
<p><img src="../../../images/delete_frame.jpg" alt=""></p>
<hr>
<h2 id="fullscreen-player">Fullscreen Player</h2>
<p>The fullscreen player mode. The keyboard shortcut is <code>F11</code>.</p>
<p><img src="../../../images/image143.jpg" alt=""></p>
<h2 id="info">Info</h2>
<p>Open the job info.</p>
<p><img src="../../../images/image144_detrac.jpg" alt=""></p>
<p><em>Overview</em>:</p>
<ul>
<li><code>Assignee</code> - the one to whom the job is assigned.</li>
<li><code>Reviewer</code> – a user assigned to carry out the review,
read more in the <a href="../../../docs/manual/advanced/review">review</a> section.</li>
<li><code>Start Frame</code> - the number of the first frame in this job.</li>
<li><code>End Frame</code> - the number of the last frame in this job.</li>
<li><code>Frames</code> - the total number of all frames in the job.</li>
</ul>
<p><em>Annotations statistics</em>:</p>
<p>This is a table number of created shapes, sorted by labels (e.g. vehicle, person)
and type of annotation (shape, track). As well as the number of manual and interpolated frames.</p>
<h2 id="ui-switcher">UI switcher</h2>
<p>Switching between user interface modes.</p>
<p><img src="../../../images/image145.jpg" alt=""></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-033c4b006bed59c7b79e37da79355e2e">1.10 - Controls sidebar</h1>
    <div class="lead">Overview of available functions on the controls sidebar of the annotation tool.</div>
	<h2 id="navigation">Navigation</h2>
<p><strong>Navigation block</strong> - contains tools for moving and rotating images.</p>
<table>
<thead>
<tr>
<th>Icon</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="../../../images/image148.jpg" alt=""></td>
<td><code>Cursor</code> (<code>Esc</code>)- a basic annotation pedacting tool.</td>
</tr>
<tr>
<td><img src="../../../images/image149.jpg" alt=""></td>
<td><code>Move the image</code>- a tool for moving around the image without<br/> the possibility of editing.</td>
</tr>
<tr>
<td><img src="../../../images/image102.jpg" alt=""></td>
<td><code>Rotate</code>- two buttons to rotate the current frame<br/> a clockwise (<code>Ctrl+R</code>) and anticlockwise (<code>Ctrl+Shift+R</code>).<br/> You can enable <code>Rotate all images</code> in the settings to rotate all the images in the job</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="zoom">Zoom</h2>
<p><strong>Zoom block</strong> - contains tools for image zoom.</p>
<table>
<thead>
<tr>
<th>Icon</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="../../../images/image151.jpg" alt=""></td>
<td><code>Fit image</code>- fits image into the workspace size.<br/> Shortcut - double click on an image</td>
</tr>
<tr>
<td><img src="../../../images/image166.jpg" alt=""></td>
<td><code>Select a region of interest</code>- zooms in on a selected region.<br/> You can use this tool to quickly zoom in on a specific part of the frame.</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="shapes">Shapes</h2>
<p><strong>Shapes block</strong> - contains all the tools for creating shapes.</p>
<table>
<thead>
<tr>
<th>Icon</th>
<th>Description</th>
<th>Links to section</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="../../../images/image189.jpg" alt=""></td>
<td><code>AI Tools</code></td>
<td><a href="../../../docs/manual/advanced/ai-tools/">AI Tools</a></td>
</tr>
<tr>
<td><img src="../../../images/image201.jpg" alt=""></td>
<td><code>OpenCV</code></td>
<td><a href="../../../docs/manual/advanced/opencv-tools/">OpenCV</a></td>
</tr>
<tr>
<td><img src="../../../images/image167.jpg" alt=""></td>
<td><code>Rectangle</code></td>
<td><a href="../../../docs/manual/basics/shape-mode-basics/">Shape mode</a>; <a href="../../../docs/manual/basics/track-mode-basics/">Track mode</a>;<br/> <a href="../../../docs/manual/advanced/annotation-with-rectangles/">Drawing by 4 points</a></td>
</tr>
<tr>
<td><img src="../../../images/image168.jpg" alt=""></td>
<td><code>Polygon</code></td>
<td><a href="../../../docs/manual/advanced/annotation-with-polygons/">Annotation with polygons</a>; <a href="../../../docs/manual/advanced/annotation-with-polygons/track-mode-with-polygons/">Track mode with polygons</a></td>
</tr>
<tr>
<td><img src="../../../images/image169.jpg" alt=""></td>
<td><code>Polyline</code></td>
<td><a href="../../../docs/manual/advanced/annotation-with-polylines/">Annotation with polylines</a></td>
</tr>
<tr>
<td><img src="../../../images/image170.jpg" alt=""></td>
<td><code>Points</code></td>
<td><a href="../../../docs/manual/advanced/annotation-with-points/">Annotation with points</a></td>
</tr>
<tr>
<td><img src="../../../images/image241.jpg" alt=""></td>
<td><code>Ellipses</code></td>
<td><a href="../../../docs/manual/advanced/annotation-with-ellipses/">Annotation with ellipses</a></td>
</tr>
<tr>
<td><img src="../../../images/image176.jpg" alt=""></td>
<td><code>Cuboid</code></td>
<td><a href="../../../docs/manual/advanced/annotation-with-cuboids/">Annotation with cuboids</a></td>
</tr>
<tr>
<td><img src="../../../images/brushing_tools_icon.png" alt=""></td>
<td><code>Brushing tools</code></td>
<td><a href="../../../docs/manual/advanced/annotation-with-brushing-tools/">Annotation with brushing</a></td>
</tr>
<tr>
<td><img src="../../../images/image171.jpg" alt=""></td>
<td><code>Tag</code></td>
<td><a href="../../../docs/manual/advanced/annotation-with-tags/">Annotation with tags</a></td>
</tr>
<tr>
<td><img src="../../../images/image195.jpg" alt=""></td>
<td><code>Open an issue</code></td>
<td><a href="../../../docs/manual/advanced/review/">Review</a> (available only in review mode)</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="edit">Edit</h2>
<p><strong>Edit block</strong> - contains tools for editing tracks and shapes.</p>
<table>
<thead>
<tr>
<th>Icon</th>
<th>Description</th>
<th>Links to section</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="../../../images/image172.jpg" alt=""></td>
<td><code>Merge Shapes</code>(<code>M</code>) - starts/stops the merging shapes mode.</td>
<td><a href="../../../docs/manual/basics/track-mode-basics/">Track mode (basics)</a></td>
</tr>
<tr>
<td><img src="../../../images/image173.jpg" alt=""></td>
<td><code>Group Shapes</code> (<code>G</code>) - starts/stops the grouping shapes mode.</td>
<td><a href="../../../docs/manual/advanced/shape-grouping/">Shape grouping</a></td>
</tr>
<tr>
<td><img src="../../../images/image174.jpg" alt=""></td>
<td><code>Split</code> - splits a track.</td>
<td><a href="../../../docs/manual/advanced/track-mode-advanced/">Track mode (advanced)</a></td>
</tr>
<tr>
<td><img src="../../../images/image174.jpg" alt=""></td>
<td><code>Split</code> - splits a track.</td>
<td><a href="../../../docs/manual/advanced/track-mode-advanced/">Track mode (advanced)</a></td>
</tr>
<tr>
<td><img src="../../../images/join-masks-icon.jpg" alt=""></td>
<td>Joins multiple labels into one</td>
<td><a href="../../../docs/manual/advanced/slice-and-join/#joining-cvat-labels"><strong>Joining mask tool</strong></a></td>
</tr>
<tr>
<td><img src="../../../images/slicing-tool-icon.jpg" alt=""></td>
<td>Slices one label into several.</td>
<td><a href="../../../docs/manual/advanced/slice-and-join/#slicing-cvat-labels"><strong>Slice mask/polygon</strong></a></td>
</tr>
</tbody>
</table>
<hr>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d34292e27e49f0509de6c6421a59ba45">1.11 - Objects sidebar</h1>
    <div class="lead">Overview of available functions on the objects sidebar of the annotation tool.</div>
	<p>In the objects sidebar, you can see the list of available objects on the current
frame. The following figure is an example of how the list might look like:</p>
<table>
<thead>
<tr>
<th>Shape mode</th>
<th>Track mode</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="../../../images/image044.jpg" alt=""></td>
<td><img src="../../../images/image045.jpg" alt=""></td>
</tr>
</tbody>
</table>
<h2 id="objects-properties">Objects properties</h2>
<p><strong>Filter</strong> input box</p>
<p><img src="../../../images/image059.jpg" alt=""></p>
<p>The way how to use filters is described in the advanced guide <a href="../../../docs/manual/advanced/filter/">here</a>.</p>
<p><strong>List of objects</strong></p>
<p><img src="../../../images/image147.jpg" alt=""></p>
<ul>
<li>Switch lock property for all - switches lock property of all objects in the frame.</li>
<li>Switch hidden property for all - switches hide the property of all objects in the frame.</li>
<li>Expand/collapse all - collapses/expands the details field of all objects in the frame.</li>
<li>Sorting - sort the list of objects: updated time, ID - accent, ID - descent</li>
</ul>
<hr>
<p><strong>Objects</strong> on the sidebar</p>
<p>The type of shape can be changed by selecting the <strong>Label</strong> property.
For instance, it can look like shown in the figure below:</p>
<p><img src="../../../images/image050.jpg" alt=""></p>
<p><strong>Object action menu</strong></p>
<p>The action menu calls up the button:</p>
<p><img src="../../../images/image047.jpg" alt=""></p>
<p>The action menu contains:</p>
<ul>
<li>
<p><strong>Create object URL</strong> - puts a link to an object on the clipboard.
After you open the link, this object will be filtered.</p>
</li>
<li>
<p><strong>Make a copy</strong> - copies an object. The keyboard shortcut is <strong>Ctrl</strong> + <strong>C</strong> &gt; <strong>Ctrl</strong> + <strong>V</strong>.</p>
</li>
<li>
<p><strong>Propagate</strong> function copies the form to multiple frames
and displays a dialog box where you can specify the number
of copies or the frame to which you want to copy the object.
The keyboard shortcut is <strong>Ctr</strong>l + <strong>B</strong>. <br>There are two options available:</p>
<ul>
<li><strong>Propagate forward</strong> (<img src="../../../images/propagate_fw.png" alt="Fw propagate">) creates a
copy of the object on <code>N</code> <em>subsequent</em> frames at the same position.</li>
<li><strong>Propagate backward</strong> (<img src="../../../images/propagate_back.png" alt="Back propagate">) creates
a copy of the object on <code>N</code> <em>previous</em> frames at the same position.</li>
</ul>
<p><img src="../../../images/image053.jpg" alt=""></p>
</li>
<li>
<p><strong>To background</strong> - moves the object to the background. The keyboard shortcut <strong>-</strong> or <strong>_</strong></p>
</li>
<li>
<p><strong>To foreground</strong> - moves the object to the foreground. The keyboard shortcut <strong>+</strong> or <strong>=</strong></p>
</li>
<li>
<p><strong>Change instance color</strong>- choosing a color using the color picker (available only in instance mode).</p>
<p><img src="../../../images/image153.jpg" alt=""></p>
</li>
<li>
<p><strong>Remove</strong> - removes the object. The keyboard shortcut <strong>Del</strong>, <strong>Shift+Del</strong>.</p>
</li>
</ul>
<p>A shape can be locked to prevent its modification or moving by an accident. Shortcut to lock an object: <strong>L</strong>.</p>
<p><img src="../../../images/image046.jpg" alt=""></p>
<p>A shape can be <strong>Occluded</strong>. Shortcut: <strong>Q</strong>. Such shapes have dashed boundaries.</p>
<p><img src="../../../images/image048.jpg" alt=""></p>
<p><img src="../../../images/image049_detrac.jpg" alt=""></p>
<p>You can change the way an object is displayed on a frame (show or hide).</p>
<p><img src="../../../images/image055.jpg" alt=""></p>
<p><strong>Switch pinned property</strong> - when enabled, a shape cannot be moved by dragging or dropping.</p>
<p><img src="../../../images/image052.jpg" alt=""></p>
<p>**Tracker switcher **- enable/disable <a href="../../../docs/manual/advanced/ai-tools#trackers">tracking</a> for the object.</p>
<p><img src="../../../images/tracker_switcher.jpg" alt=""></p>
<p>By clicking on the <strong>Details</strong> button you can collapse or expand the field with all the attributes of the object.</p>
<p><img src="../../../images/image154.jpg" alt=""></p>
<hr>
<h2 id="labels">Labels</h2>
<p>In this tab, you can lock or hide objects of a certain label.
To change the color for a specific label,
you need to go to the task page and select the color by clicking the edit button,
this way you will change the label color for all jobs in the task.</p>
<p><img src="../../../images/image062.jpg" alt=""></p>
<p><strong>Fast label change</strong></p>
<p>You can change the label of an object using hotkeys.
In order to do it, you need to assign a number (from 0 to 9) to labels.
By default numbers 1,2&hellip;0 are assigned to the first ten labels.
To assign a number, click on the button placed at the right of a label name on the sidebar.</p>
<p><img src="../../../images/image210.jpg" alt=""></p>
<p>After that, you will be able to assign a corresponding label to an object
by hovering your mouse cursor over it and pressing <strong>Ctrl</strong> + <strong>Num(0..9)</strong>.</p>
<p>In case you do not point the cursor to the object, pressing <strong>Ctrl</strong> + <strong>Num(0..9)</strong> will set a chosen label as default,
so that the next object you create (use the <code>N</code> key) will automatically have this label assigned.</p>
<p><img src="../../../images/image211.jpg" alt=""></p>
<hr>
<h2 id="appearance">Appearance</h2>
<p><strong>Color By</strong> options</p>
<p>Change the color scheme of the annotation:</p>
<ul>
<li>
<p><code>Instance</code> — every shape has a random color</p>
<p><img src="../../../images/image095_detrac.jpg" alt=""></p>
</li>
<li>
<p><code>Group</code> — every group of shape has its own random color, ungrouped shapes are white</p>
<p><img src="../../../images/image094_detrac.jpg" alt=""></p>
</li>
<li>
<p><code>Label</code> — every label (e.g. car, person) has its own random color</p>
<p><img src="../../../images/image093_detrac.jpg" alt=""></p>
<p>You can change any random color pointing to a needed box on a frame or on an
object sidebar.</p>
</li>
</ul>
<p><strong>Fill Opacity</strong> slider</p>
<p>Change the opacity of every shape in the annotation.</p>
<p><img src="../../../images/image086_detrac.jpg" alt=""></p>
<p><strong>Selected Fill Opacity</strong> slider</p>
<p>Change the opacity of the selected object&rsquo;s fill. It is possible
to change the opacity while drawing an object in the case
of rectangles, polygons, and cuboids.</p>
<p><img src="../../../images/image089_detrac.jpg" alt=""></p>
<p><strong>Outlines borders</strong> checkbox</p>
<p>You can change a special shape border color by clicking on the <strong>Eyedropper</strong> icon.</p>
<p><img src="../../../images/image088_detrac.jpg" alt=""></p>
<p><strong>Show bitmap</strong> checkbox</p>
<p>If enabled all shapes are displayed in white and the background is black.</p>
<p><img src="../../../images/image087_detrac.jpg" alt=""></p>
<p><strong>Show projections</strong> checkbox</p>
<p>Enables/disables the display of auxiliary perspective lines. Only relevant for cuboids</p>
<p><img src="../../../images/image090_detrac.jpg" alt=""></p>
<h2 id="hide-objects-sidebar">Hide objects sidebar</h2>
<p><strong>Hide</strong> - the button hides the object&rsquo;s sidebar.</p>
<p><img src="../../../images/image146.jpg" alt=""></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-10c89fea132557f61275ddd0d266cb4e">1.12 - CVAT Workspace</h1>
    <div class="lead">Overview of available functions of the CVAT workspace.</div>
	<p>In CVAT the workspace serves as the central hub where annotators
interact with images, videos, and the various tools
available to create high-quality annotations.</p>
<p><img src="../../../images/cvat-workspace.jpg" alt="CVAT Workspace"></p>
<p>The workspace includes the following elements:</p>
<table>
<thead>
<tr>
<th>Element</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><a href="../../../docs/manual/basics/top-panel/">Top Panel</a> and <a href="../../../docs/manual/basics/top-panel/">basic navigation</a>.</td>
</tr>
<tr>
<td>2</td>
<td><a href="../../../docs/manual/basics/controls-sidebar/">Controls sidebar</a></td>
</tr>
<tr>
<td>3</td>
<td><a href="docs/manual/basics/objects-sidebar/">Objects sidebar</a></td>
</tr>
<tr>
<td>4</td>
<td>Image annotation area, described in this article.</td>
</tr>
</tbody>
</table>
<p>See:</p>
<ul>
<li><a href="#image-settings-in-cvat">Image settings in CVAT</a>
<ul>
<li><a href="#adding-grid-overlay-to-image-in-cvat">Adding grid overlay to image in CVAT</a></li>
<li><a href="#changing-color-settings-of-image-is-cvat">Changing color settings of image is CVAT</a></li>
</ul>
</li>
<li><a href="#adding-layers-and-z-axis-slider">Adding layers and Z-axis slider</a></li>
<li><a href="#interacting-with-objects">Interacting with Objects</a></li>
</ul>
<h2 id="image-settings-in-cvat">Image settings in CVAT</h2>
<p>The <strong>Image settings</strong> panel serves
as a versatile tool for fine-tuning the visual aspects of your image.
Whether you need to brighten the image,
increase contrast, or make other adjustments, this panel is your go-to.</p>
<p>Additionally, the panel allows you
to overlay a grid on the image for more precise annotation.</p>
<blockquote>
<p><strong>Note</strong>: Adjusting the image settings only
alters how the pictures are displayed.
The images themselves will remain unmodified and unchanged.</p>
</blockquote>
<p>By default, the <strong>Image settings</strong> panel is not visible. To access
it, click on the <strong>Arrow Up</strong> (<img src="../../../images/image-grid-icon.jpg" alt="Image Grid Icon">)
icon located at the bottom of the workspace.</p>
<p><img src="../../../images/image-quality-panel.jpg" alt="Image quality panel"></p>
<h3 id="adding-grid-overlay-to-image-in-cvat">Adding grid overlay to image in CVAT</h3>
<p>To add the grid to the image, do the following:</p>
<ol>
<li>Open the <strong>Image Settings</strong> panel.</li>
<li>Locate and check the box that
allows you to overlay a grid on the image.</li>
<li>Specify the grid cell size in square millimeters
by entering the desired number in the <strong>Size</strong> field.</li>
<li>From the <strong>Color</strong> drop-down list,
select the color of the grid.</li>
<li>Use the Opacity slider to change the
transparency of the grid overlay.</li>
</ol>
<h3 id="changing-color-settings-of-image-in-cvat">Changing color settings of image in CVAT</h3>
<p>To change the color setting of the image is CVAT, do the following:</p>
<ol>
<li>Open the <strong>Image Settings</strong> panel.</li>
<li>Use the slider to change the color quality.</li>
</ol>
<p>There are four color quality settings in CVAT:</p>
<p><strong>Brightness</strong> increases and decreases
the overall lightness of the image:</p>
<p><img src="../../../images/image-settings-brightness.png" alt="Image Brightness"></p>
<p><strong>Contrast</strong> is the range of brightness,
from lightest to darkest, in an image.</p>
<p><img src="../../../images/image-settings-contrast.png" alt="Image Brightness"></p>
<p><strong>Saturation</strong> describes the intensity of the color.</p>
<p><img src="../../../images/image-settings-saturation.png" alt="Image Saturation"></p>
<p><strong>Gamma</strong> correction can be used to
control the overall brightness of an image</p>
<p><img src="../../../images/image-settings-gamma.jpg" alt="Gamma Correction"></p>
<p>To reset the setting to default values, click
<strong>Reset color settings</strong></p>
<h2 id="adding-layers-and-z-axis-slider">Adding layers and Z-axis slider</h2>
<p><strong>Z-axis Slider</strong> enables you to add annotation layers while
hiding the layers positioned beyond.</p>
<p>You can also move between layers by moving the slider
to the layer you need.</p>
<p>The slider becomes active when multiple Z-layers are present within a frame.
Click <strong>+</strong> on the slider to add a new layer;
upon pressing it, a new layer is automatically created and activated.</p>
<p>You can also relocate objects between layers using the <strong>+</strong> and <strong>-</strong> keys.</p>
<p><img src="../../../images/image140.jpg" alt="Z-Order Slider"></p>
<h2 id="interacting-with-objects">Interacting with Objects</h2>
<p>The workspace is also equipped with the following features:</p>
<ul>
<li>
<p>Right-clicking an object opens the Object Card.
This interface contains essential controls
for modifying the object&rsquo;s label and attributes,
as well as providing access to an action menu.</p>
<p><img src="../../../images/image138_mapillary_vistas.jpg" alt="Object card"></p>
</li>
<li>
<p>Right-clicking on a polygon point will open a menu, from which you can
<strong>Delete point</strong> or <strong>Set start point</strong>.</p>
<p><img src="../../../images/image139_mapillary_vistas.jpg" alt="Polygon menu"></p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-47ed10f28d06442b6965546d6ab61314">1.13 - 3D task workspace</h1>
    
	<p><img src="../../../images/image214_carla_town3.jpg" alt=""></p>
<p>If the <code>related_images</code> folder contains any images, a <code>context image</code> will be available  in the perspective window.
The contextual image could be compared to 3D data and would help to identify the labels of marked objects.</p>
<p><code>Perspective</code> – a main window for work with objects in a 3D task.</p>
<p>Projections - projections are tied to an object so that a cuboid is in the center and looks like a rectangle.
Projections show only the selected object.</p>
<ul>
<li><code>Top</code> – a projection of the view from above.</li>
<li><code>Side</code> – a projection of the left side of the object.</li>
<li><code>Front</code> - a frontal projection of the object.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c8319ec25cc2a4c111e6b974fbac56a9">1.14 - Standard 3D mode (basics)</h1>
    
	<p><code>Standard 3d mode</code> - Designed to work with 3D data.
The mode is automatically available if you add PCD or Kitty BIN format data when you create a task.
<a href="../../../docs/manual/basics/create_an_annotation_task/">read more</a></p>
<p>You can adjust the size of the projections, to do so, simply drag the boundary between the projections.</p>
<p><img src="../../../images/image215_carla_town3.jpg" alt=""></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-53f38f5f3dc68518da9fd1c61a97f54b">1.15 - Settings</h1>
    
	<p>To open the settings open the user menu in the header and select the settings item or press <code>F2</code>.</p>
<p><img src="../../../images/image067.jpg" alt=""></p>
<p><code>Settings</code> have two tabs:</p>
<p>In tab <code>Player</code> you can:</p>
<ul>
<li>Control step of <code>C</code> and <code>V</code> shortcuts.</li>
<li>Control speed of <code>Space</code>/<code>Play</code> button.</li>
<li>Select canvas background color. You can choose a background color or enter manually (in RGB or HEX format).</li>
<li><code>Reset zoom</code> Show every image in full size or zoomed out like previous
(it is enabled by default for interpolation mode and disabled for annotation mode).</li>
<li><code>Rotate all images</code> checkbox — switch the rotation of all frames or an individual frame.</li>
<li><code>Smooth image</code> checkbox — smooth image when zoom-in it.
<table>
<thead>
<tr>
<th><em>smoothed</em></th>
<th><em>pixelized</em></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="../../../images/smoothed.jpg" alt=""></td>
<td><img src="../../../images/pixelized.jpg" alt=""></td>
</tr>
</tbody>
</table>
</li>
</ul>
<hr>
<p>In tab <code>Workspace</code> you can:</p>
<p><img src="../../../images/image155.jpg" alt=""></p>
<ul>
<li>
<p><code>Enable auto save</code> checkbox — turned off by default.</p>
</li>
<li>
<p><code>Auto save interval (min)</code> input box — 15 minutes by default.</p>
</li>
<li>
<p><code>Show all interpolation tracks</code> checkbox — shows hidden objects on the
side panel for every interpolated object (turned off by default).</p>
</li>
<li>
<p><code>Always show object details</code> - show text for an object on the canvas not only when the object is activated:</p>
<p><img src="../../../images/image152_detrac.jpg" alt=""></p>
</li>
<li>
<p><code>Content of a text</code> - setup of the composition of the object details:</p>
<ul>
<li><code>ID</code> - object identifier.</li>
<li><code>Attributes</code> - attributes of the object.</li>
<li><code>Label</code> - object label.</li>
<li><code>Source</code>- source of creating of objects <code>MANUAL</code>, <code>AUTO</code> or <code>SEMI-AUTO</code>.</li>
<li><code>Descriptions</code> - description of attributes.</li>
</ul>
</li>
<li>
<p><code>Position of a text</code> - text positioning mode selection:</p>
<ul>
<li><code>Auto</code> - the object details will be automatically placed where free space is.</li>
<li><code>Center</code> - the object details will be embedded to a corresponding object if possible.</li>
</ul>
</li>
<li>
<p><code>Font size of a text</code> - specifies the text size of the object details.</p>
</li>
<li>
<p><code>Automatic bordering</code> - enable automatic bordering for polygons and polylines during drawing/editing.
For more information To find out more, go to the section <a href="../../../docs/manual/advanced/annotation-with-polygons/">annotation with polygons</a>.</p>
</li>
<li>
<p><code>Intelligent polygon cropping</code> - activates intelligent cropping when editing the polygon (read more in the section <a href="../../../docs/manual/advanced/annotation-with-polygons/edit-polygon/">edit polygon</a></p>
</li>
<li>
<p><code>Show tags on frame</code> - shows/hides frame tags on current frame</p>
</li>
<li>
<p><code>Attribute annotation mode (AAM) zoom margin</code> input box — defines margins (in px)
for shape in the attribute annotation mode.</p>
</li>
<li>
<p><code>Control points size</code> — defines a size of any interactable points in the tool
(polygon&rsquo;s vertices, rectangle dragging points, etc.)</p>
</li>
<li>
<p><code>Default number of points in polygon approximation</code>
With this setting, you can choose the default number of points in polygon.
Works for serverless interactors and OpenCV scissors.</p>
</li>
<li>
<p>Click <code>Save</code> to save settings (settings will be saved on the server and will not change after the page is refreshed).
Click <code>Cancel</code> or press <code>F2</code> to return to the annotation.</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-80f7a8f997d5088990b434c7df6c7816">1.16 - Types of shapes</h1>
    <div class="lead">List of shapes available for annotation.</div>
	<p>There are several shapes with which you can annotate your images:</p>
<ul>
<li><code>Rectangle</code> or <code>Bounding box</code></li>
<li><code>Polygon</code></li>
<li><code>Polyline</code></li>
<li><code>Points</code></li>
<li><code>Ellipse</code></li>
<li><code>Cuboid</code></li>
<li><code>Cuboid in 3d task</code></li>
<li><code>Skeleton</code></li>
<li><code>Tag</code></li>
</ul>
<p>And there is how they all look like:</p>
<p><img src="../../../images/image038_detrac.jpg" alt="" title="Rectangle"> <img src="../../../images/image033_detrac.jpg" alt="" title="Polygon"></p>
<p><img src="../../../images/image009_mapillary_vistas.jpg" alt="" title="Polyline"> <img src="../../../images/image010_affectnet.jpg" alt="" title="Points"></p>
<p><img src="../../../images/image240_mapillary_vistas.jpg" alt="" title="Ellipse"> <img src="../../../images/image015_detrac.jpg" alt="" title="Cuboid"></p>
<p><img src="../../../images/image218_carla_town3.jpg" alt="" title="Cuboid in 3d task"> <img src="../../../images/image_skeleton_sample.jpg" alt="" title="Skeleton"></p>
<p><img src="../../../images/image135.jpg" alt="" title="Tag"></p>
<p><code>Tag</code> - has no shape in the workspace, but is displayed in objects sidebar.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0eec06490fd7abcbf29363c77731c1c9">1.17 - Shape mode (basics)</h1>
    <div class="lead">Usage examples and basic operations available during annotation in shape mode.</div>
	<p>Usage examples:</p>
<ul>
<li>Create new annotations for a set of images.</li>
<li>Add/modify/delete objects for existing annotations.</li>
</ul>
<ol>
<li>
<p>You need to select <code>Rectangle</code> on the controls sidebar:</p>
<p><img src="../../../images/image082.jpg" alt=""></p>
<p>Before you start, select the correct <code> Label</code> (should be specified by you when creating the task)
and <code> Drawing Method</code> (by 2 points or by 4 points):</p>
<p><img src="../../../images/image080.jpg" alt=""></p>
</li>
<li>
<p>Creating a new annotation in <code>Shape mode</code>:</p>
<ul>
<li>
<p>Create a separate <code>Rectangle</code> by clicking on <code>Shape</code>.</p>
<p><img src="../../../images/image081.jpg" alt=""></p>
</li>
<li>
<p>Choose the opposite points. Your first rectangle is ready!</p>
<p><img src="../../../images/image011_detrac.jpg" alt=""></p>
</li>
<li>
<p>To learn more about creating a rectangle <a href="../../../docs/manual/advanced/annotation-with-rectangles/">read here</a>.</p>
</li>
<li>
<p>It is possible to adjust boundaries and location of the rectangle using a mouse.
Rectangle&rsquo;s size is shown in the top right corner , you can check it by clicking on any point of the shape.
You can also undo your actions using <code>Ctrl+Z</code> and redo them with <code>Shift+Ctrl+Z</code> or <code>Ctrl+Y</code>.</p>
</li>
</ul>
</li>
<li>
<p>You can see the <code>Object card</code> in the objects sidebar or open it by right-clicking on the object.
You can change the attributes in the details section.
You can perform basic operations or delete an object by clicking on the action menu button.</p>
<p><img src="../../../images/image012.jpg" alt=""></p>
</li>
<li>
<p>The following figure is an example of a fully annotated frame with separate shapes.</p>
<p><img src="../../../images/image013_detrac.jpg" alt=""></p>
<p>Read more in the section <a href="../../../docs/manual/advanced/shape-mode-advanced/">shape mode (advanced)</a>.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1a21d24ffd5d3b98ea39a1b5efdc33e2">1.18 - Track mode (basics)</h1>
    <div class="lead">Usage examples and basic operations available during annotation in track mode.</div>
	<p>Usage examples:</p>
<ul>
<li>Create new annotations for a sequence of frames.</li>
<li>Add/modify/delete objects for existing annotations.</li>
<li>Edit tracks, merge several rectangles into one track.</li>
</ul>
<ol>
<li>
<p>Like in the <code>Shape mode</code>, you need to select a <code>Rectangle</code> on the sidebar,
in the appearing form, select the desired <code>Label</code> and the <code>Drawing method</code>.</p>
<p><img src="../../../images/image083.jpg" alt=""></p>
</li>
<li>
<p>Creating a track for an object (look at the selected car as an example):</p>
<ul>
<li>
<p>Create a <code>Rectangle</code> in <code>Track mode</code> by clicking on <code>Track</code>.</p>
<p><img src="../../../images/image014.jpg" alt=""></p>
</li>
<li>
<p>In <code>Track mode</code> the rectangle will be automatically interpolated on the next frames.</p>
</li>
<li>
<p>The cyclist starts moving on frame #2270. Let&rsquo;s mark the frame as a key frame.
You can press <code>K</code> for that or click the <code>star</code> button (see the screenshot below).</p>
<p><img src="../../../images/image016.jpg" alt=""></p>
</li>
<li>
<p>If the object starts to change its position, you need to modify the rectangle where it happens.
It isn&rsquo;t necessary to change the rectangle on each frame, simply update several keyframes
and the frames between them will be interpolated automatically.</p>
</li>
<li>
<p>Let&rsquo;s jump 30 frames forward and adjust the boundaries of the object. See an example below:</p>
<p><img src="../../../images/image017_detrac.jpg" alt=""></p>
</li>
<li>
<p>After that the rectangle of the object will be changed automatically on frames 2270 to 2300:</p>
<p><img src="../../../images/gif019_detrac.gif" alt=""></p>
</li>
</ul>
</li>
<li>
<p>When the annotated object disappears or becomes too small, you need to
finish the track. You have to choose <code>Outside Property</code>, shortcut <code>O</code>.</p>
<p><img src="../../../images/image019.jpg" alt=""></p>
</li>
<li>
<p>If the object isn&rsquo;t visible on a couple of frames and then appears again,
you can use the <code>Merge</code> feature to merge several individual tracks
into one.</p>
<p><img src="../../../images/image020.jpg" alt=""></p>
<ul>
<li>
<p>Create tracks for moments when the cyclist is visible:</p>
<p><img src="../../../images/gif001_detrac.gif" alt=""></p>
</li>
<li>
<p>Click <code>Merge</code> button or press key <code>M</code> and click on any rectangle of the first track
and on any rectangle of the second track and so on:</p>
<p><img src="../../../images/image162_detrac.jpg" alt=""></p>
</li>
<li>
<p>Click <code>Merge</code> button or press <code>M</code> to apply changes.</p>
<p><img src="../../../images/image020.jpg" alt=""></p>
</li>
<li>
<p>The final annotated sequence of frames in <code>Interpolation</code> mode can
look like the clip below:</p>
<p><img src="../../../images/gif003_detrac.gif" alt=""></p>
<p>Read more in the section <a href="../../../docs/manual/advanced/track-mode-advanced/">track mode (advanced)</a>.</p>
</li>
</ul>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b02de300483c61ada54066c38e9ff272">1.19 - 3D Object annotation</h1>
    <div class="lead">Overview of basic operations available when annotating 3D objects.</div>
	<p>Use the 3D Annotation tool for labeling 3D objects and scenes, such as vehicles, buildings, landscapes, and others.</p>
<p>See:</p>
<ul>
<li><a href="#navigation">Navigation</a></li>
<li><a href="#annotation-with-cuboids">Annotation with cuboids</a>
<ul>
<li><a href="#annotation-with-shapes">Annotation with shapes</a></li>
<li><a href="#tracking-with-cuboids">Tracking with cuboids</a></li>
</ul>
</li>
</ul>
<h2 id="navigation">Navigation</h2>
<p>The 3D annotation canvas looks like the following</p>
<p><img src="../../../images/3d-canvas.jpg" alt="3D canvas"></p>
<blockquote>
<p>Note: if you added contextual images to the dataset, the canvas will include them. For more information, see <a href="docs/manual/advanced/context-images/">Contextual images</a></p>
</blockquote>
<p>For information on the available tools, see <a href="http://localhost:1313/docs/manual/basics/controls-sidebar/">Controls sidebar</a>.</p>
<p>You can navigate, using the mouse, or navigation keys:</p>
<p><img src="../../../images/image216_carla_town3.jpg" alt=""></p>
<p>You can also use keyboard shortcuts to navigate:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Action</th>
<th>Keys</th>
</tr>
</thead>
<tbody>
<tr>
<td>Camera rotation</td>
<td><strong>Shift</strong> + <strong>Arrow</strong> (Up, Down, Left, Right)</td>
</tr>
<tr>
<td>Left/Right</td>
<td><strong>Alt</strong>+<strong>J</strong>/ <strong>Alt</strong>+<strong>L</strong></td>
</tr>
<tr>
<td>Up/down</td>
<td><strong>Al</strong>t+<strong>U</strong>/ <strong>Alt</strong>+<strong>O</strong></td>
</tr>
<tr>
<td>Zoom in/ou</td>
<td><strong>Alt</strong>+<strong>K</strong>/ <strong>Alt</strong>+<strong>I</strong></td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h2 id="annotation-with-cuboids">Annotation with cuboids</h2>
<p>There are two options available for 3D annotation:</p>
<ul>
<li><strong>Shape</strong>: for tasks like object detection.</li>
<li><strong>Track</strong>: uses interpolation to predict the position of objects in subsequent frames.
A unique ID will be assigned to each object and maintained throughout the sequence of images.</li>
</ul>
<h3 id="annotation-with-shapes">Annotation with shapes</h3>
<p>To add a 3D shape, do the following:</p>
<ol>
<li>On the objects pane, select <strong>Draw new cuboid</strong> &gt;
select the label from the drop-down list &gt; <strong>Shape</strong>.</li>
</ol>
<p><img src="../../../images/image217.jpg" alt=""></p>
<ol start="2">
<li>The cursor will be followed by a cuboid.
Place the cuboid on the 3D scene.</li>
</ol>
<p><img src="../../../images/gif026_carla_town3.gif" alt=""></p>
<ol start="3">
<li>Use projections to adjust the cuboid.
Click and hold the left mouse button to edit the label shape on the projection.</li>
</ol>
<p><img src="../../../images/gif027_carla_town3.gif" alt=""></p>
<ol start="4">
<li>(Optional) Move one of the four points to change the size of the cuboid.</li>
</ol>
<p><img src="../../../images/gif028_carla_town3.gif" alt=""></p>
<ol start="5">
<li>
<p>(Optional) To rotate the cuboid, click on the middle point
and then drag the cuboid up/down or to left/right.</p>
<p><img src="../../../images/gif029_carla_town3.gif" alt=""></p>
</li>
</ol>
<h3 id="tracking-with-cuboids">Tracking with cuboids</h3>
<p>To track with cuboids, do the following:</p>
<ol>
<li>
<p>On the objects pane, select <strong>Draw new cuboid</strong> &gt;
select the label from the drop-down list &gt; <strong>Track</strong>.</p>
</li>
<li>
<p>The cursor will be followed by a cuboid.
Place the cuboid on the 3D scene.</p>
</li>
<li>
<p>Use projections to adjust the cuboid.
Click and hold the left mouse button to edit the label shape on the projection.</p>
</li>
</ol>
<p><img src="../../../images/gif027_carla_town3.gif" alt=""></p>
<ol start="4">
<li>(Optional) Move one of the four points to change the size of the cuboid.</li>
</ol>
<p><img src="../../../images/gif028_carla_town3.gif" alt=""></p>
<ol start="5">
<li>(Optional) To rotate the cuboid, click on the middle point
and then drag the cuboid up/down or to left/right.</li>
</ol>
<p><img src="../../../images/gif029_carla_town3.gif" alt=""></p>
<ol start="6">
<li>
<p>Move several frames forward. You will see the cuboid you&rsquo;ve added in frame 1.
Adjust it, if needed.</p>
</li>
<li>
<p>Repeat to the last frame with the presence of the object you are tracking.</p>
</li>
</ol>
<p>For more information about tracking, see <a href="../../../docs/manual/basics/track-mode-basics/">Track mode</a></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-01df2b1d465b8c0d0021dec1627ed90f">1.20 - Attribute annotation mode (basics)</h1>
    <div class="lead">Usage examples and basic operations available in attribute annotation mode.</div>
	<ul>
<li>
<p>In this mode you can edit attributes with fast navigation between objects and frames using a keyboard.
Open the drop-down list in the top panel and select Attribute annotation Mode.</p>
<p><img src="../../../images/image023_affectnet.jpg" alt=""></p>
</li>
<li>
<p>In this mode objects panel change to a special panel :</p>
<p><img src="../../../images/image026.jpg" alt=""></p>
</li>
<li>
<p>The active attribute will be red. In this case it is <code>gender</code> . Look at the bottom side panel to see all possible
shortcuts for changing the attribute. Press key <code>2</code> on your keyboard to assign a value (female) for the attribute
or select from the drop-down list.</p>
<p><img src="../../../images/image024_affectnet.jpg" alt=""></p>
</li>
<li>
<p>Press <code>Up Arrow</code>/<code>Down Arrow</code> on your keyboard or click the buttons in the UI to go to the next/previous
attribute. In this case, after pressing <code>Down Arrow</code> you will be able to edit the <code>Age</code> attribute.</p>
<p><img src="../../../images/image025_affectnet.jpg" alt=""></p>
</li>
<li>
<p>Use <code>Right Arrow</code>/<code>Left Arrow</code> keys to move to the previous/next image with annotation.</p>
</li>
</ul>
<p>To see all the hot keys available in the attribute annotation mode, press <code>F2</code>.
Read more in the section <a href="../../../docs/manual/advanced/attribute-annotation-mode-advanced/">attribute annotation mode (advanced)</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-49ca3c5a8947ba788a9e6295ce16a840">1.21 - Vocabulary</h1>
    <div class="lead">List of terms pertaining to annotation in CVAT.</div>
	<h2 id="label">Label</h2>
<p>Label is a type of an annotated object (e.g. person, car, vehicle, etc.)</p>
<p><img src="../../../images/image032_detrac.jpg" alt=""></p>
<hr>
<h2 id="attribute">Attribute</h2>
<p>Attribute is a property of an annotated object (e.g. color, model,
quality, etc.). There are two types of attributes:</p>
<h3 id="unique">Unique</h3>
<p>Unique immutable and can&rsquo;t be changed from frame to frame (e.g. age, gender, color, etc.)</p>
<p><img src="../../../images/image073.jpg" alt=""></p>
<h3 id="temporary">Temporary</h3>
<p>Temporary mutable and can be changed on any frame (e.g. quality, pose, truncated, etc.)</p>
<p><img src="../../../images/image072.jpg" alt=""></p>
<hr>
<h2 id="track">Track</h2>
<p>Track is a set of shapes on different frames which corresponds to one object.
Tracks are created in <code>Track mode</code></p>
<p><img src="../../../images/gif003_detrac.gif" alt=""></p>
<hr>
<h2 id="annotation">Annotation</h2>
<p>Annotation is a set of shapes and tracks. There are several types of annotations:</p>
<ul>
<li><em>Manual</em> which is created by a person</li>
<li><em>Semi-automatic</em> which is created mainly automatically, but the user provides some data (e.g. interpolation)</li>
<li><em>Automatic</em> which is created automatically without a person in the loop</li>
</ul>
<hr>
<h2 id="approximation">Approximation</h2>
<p>Approximation allows you to reduce the number of points in the polygon.
Can be used to reduce the annotation file and to facilitate editing polygons.</p>
<p><img src="../../../images/approximation_accuracy.gif" alt=""></p>
<hr>
<h2 id="trackable">Trackable</h2>
<p>Trackable object will be tracked automatically if the previous frame was
a latest keyframe for the object. More details in the section <a href="../../../docs/manual/advanced/ai-tools/#trackers">trackers</a>.</p>
<p><img src="../../../images/tracker_indication_detrac.jpg" alt=""></p>
<hr>
<h2 id="mode">Mode</h2>
<h3 id="interpolation">Interpolation</h3>
<p>Mode for video annotation, which uses <a href="#track"><code>track</code></a> objects.
Only objects on keyframes are manually annotation, and intermediate frames are linearly interpolated.</p>
<p>Related sections:</p>
<ul>
<li><a href="../../../docs/manual/basics/track-mode-basics/">Track mode</a></li>
</ul>
<h3 id="annotation-1">Annotation</h3>
<p>Mode for images annotation, which uses <code>shape</code> objects.</p>
<p>Related sections:</p>
<ul>
<li><a href="../../../docs/manual/basics/shape-mode-basics/">Shape mode</a></li>
</ul>
<hr>
<h2 id="dimension">Dimension</h2>
<p>Depends on the task data type that is defined when the <a href="../../../docs/manual/basics/creating_an_annotation_task/">task is created</a>.</p>
<h3 id="2d">2D</h3>
<p>The data format of 2d tasks are images and videos.
Related sections:</p>
<ul>
<li><a href="../../../docs/manual/basics/creating_an_annotation_task/">Creating an annotation task</a></li>
</ul>
<h3 id="3d">3D</h3>
<p>The data format of 3d tasks is a cloud of points.
<a href="../../../docs/manual/basics/creating_an_annotation_task/#data-formats-for-a-3d-task">Data formats for a 3D task</a></p>
<p>Related sections:</p>
<ul>
<li><a href="../../../docs/manual/basics/3d-task-workspace/">3D task workspace</a></li>
<li><a href="../../../docs/manual/basics/standard-3d-mode-basics/">Standard 3D mode</a></li>
<li><a href="../../../docs/manual/basics/3d-object-annotation-basics/">3D Object annotation</a></li>
</ul>
<hr>
<h2 id="state">State</h2>
<p>State of the job. The state can be changed by an assigned user in <a href="../../../docs/manual/basics/top-panel/">the menu inside the job</a>.
There are several possible states: <code>new</code>, <code>in progress</code>, <code>rejected</code>, <code>completed</code>.</p>
<hr>
<h2 id="stage">Stage</h2>
<p>Stage of the job. The stage is specified with the drop-down list on the <a href="../../../docs/manual/basics/tasks-page/">task page</a>.
There are three stages: <code>annotation</code>, <code>validation</code> or <code>acceptance</code>. This value affects the task progress bar.</p>
<hr>
<h2 id="subset">Subset</h2>
<p>A project can have subsets. Subsets are groups for tasks that make it easier to work with the dataset.
It could be <code>test</code>, <code>train</code>, <code>validation</code> or custom subset.</p>
<hr>
<h2 id="credentials">Credentials</h2>
<p>Under <code>credentials</code> is understood <code>Key &amp; secret key</code>, <code>Account name and token</code>, <code>Anonymous access</code>, <code>Key file</code>.
Used to <a href="../../../docs/manual/basics/attach-cloud-storage/#attach-new-cloud-storage">attach cloud storage</a>.</p>
<hr>
<h2 id="resource">Resource</h2>
<p>Under <code>resource</code> is understood <code>bucket name</code> or <code>container name</code>.
Used to <a href="../../../docs/manual/basics/attach-cloud-storage/#attach-new-cloud-storage">attach cloud storage</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c9da6f8a00196503e659cee9f4e1b3b6">1.22 - Cloud storages page</h1>
    <div class="lead">Overview of the cloud storages page.</div>
	<p><img src="../../../images/image227.jpg" alt=""></p>
<p>The cloud storages page contains elements, each of them relating to a separate cloud storage. 
Each element contains: preview, cloud storage name, provider, creation and update info, status,
<code>?</code> button for displaying the description and the actions menu.</p>
<p>Each button in the action menu is responsible for a specific function:</p>
<ul>
<li><code>Update</code> — update this cloud storage</li>
<li><code>Delete</code> — delete cloud storage.</li>
</ul>
<p><img src="../../../images/cloud_storage_icon.jpg" alt=""></p>
<p>This preview will appear when it is impossible to get a real preview (e.g. storage is empty or
invalid credentials were used).</p>
<p>In the upper left corner there is a search bar,
using which you can find the cloud storage by display name, provider, etc.
In the upper right corner there are <a href="../../../docs/manual/advanced/filter/#sort-by">sorting</a>, <a href="../../../docs/manual/advanced/filter/#quick-filters">quick filters</a> and filter.</p>
<h2 id="filter">Filter</h2>
<blockquote>
<p>Applying filter disables the <a href="../../../docs/manual/advanced/filter/#quick-filters">quick filter</a>.</p>
</blockquote>
<p>The filter works similarly to the filters for annotation,
you can create rules from <a href="#supported-properties-for-jobs-list">properties</a>,
<a href="../../../docs/manual/advanced/filter/#supported-operators-for-properties">operators</a> and values and group rules into <a href="../../../docs/manual/advanced/filter/#groups">groups</a>.
For more details, see the <a href="../../../docs/manual/advanced/filter/#create-a-filter">filter section</a>.
Learn more about <a href="../../../docs/manual/advanced/filter#date-and-time-selection">date and time selection</a>.</p>
<p>For clear all filters press <code>Clear filters</code>.</p>
<h3 id="supported-properties-for-cloud-storages-list">Supported properties for cloud storages list</h3>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Supported values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ID</code></td>
<td>number or range of task ID</td>
<td></td>
</tr>
<tr>
<td><code>Provider type</code></td>
<td><code>AWS S3</code>, <code>Azure</code>, <code>Google cloud</code></td>
<td></td>
</tr>
<tr>
<td><code>Credentials type</code></td>
<td><code>Key &amp; secret key</code>, <code>Account name and token</code>,<br> <code>Anonymous access</code>, <code>Key file</code></td>
<td></td>
</tr>
<tr>
<td><code>Resource name</code></td>
<td></td>
<td><code>Bucket name</code> or <code>container name</code></td>
</tr>
<tr>
<td><code>Display name</code></td>
<td></td>
<td>Set when creating cloud storage</td>
</tr>
<tr>
<td><code>Description</code></td>
<td></td>
<td>Description of the cloud storage</td>
</tr>
<tr>
<td><code>Owner</code></td>
<td>username</td>
<td>The user who owns the project, task, or job</td>
</tr>
<tr>
<td><code>Last updated</code></td>
<td>last modified date and time (or value range)</td>
<td>The date can be entered in the <code>dd.MM.yyyy HH:mm</code> format <br>or by selecting the date in the window that appears <br>when you click on the input field</td>
</tr>
</tbody>
</table>
<p>Click the <code>+</code> button to <a href="../../../docs/manual/basics/attach-cloud-storage/">attach a new cloud storage</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d013ec6e69303d468f8e8b14075372d7">1.23 - Attach cloud storage</h1>
    <div class="lead">Instructions on how to attach cloud storage using UI</div>
	<p>In CVAT you can use <strong>AWS S3</strong>, <strong>Azure Blob Storage</strong>
and <strong>Google Cloud Storage</strong> storages to import and export
image datasets for your tasks.</p>
<p>See:</p>
<ul>
<li><a href="#aws-s3">AWS S3</a>
<ul>
<li><a href="#create-a-bucket">Create a bucket</a></li>
<li><a href="#upload-data">Upload data</a></li>
<li><a href="#access-permissions">Access permissions</a>
<ul>
<li><a href="#authorized-access">Authorized access</a></li>
<li><a href="#anonymous-access">Anonymous access</a></li>
</ul>
</li>
<li><a href="#attach-aws-s3-storage">Attach AWS S3 storage</a></li>
<li><a href="#aws-s3-manifest-file">AWS S3 manifest file</a></li>
<li><a href="#video-tutorial-add-aws-s3-as-cloud-storage-in-cvat">Video tutorial: Add AWS S3 as Cloud Storage in CVAT</a></li>
</ul>
</li>
<li><a href="#google-cloud-storage">Google Cloud Storage</a>
<ul>
<li><a href="#create-a-bucket-1">Create a bucket</a></li>
<li><a href="#upload-data-1">Upload data</a></li>
<li><a href="#access-permissions-1">Access permissions</a>
<ul>
<li><a href="#authorized-access-1">Authorized access</a></li>
<li><a href="#anonymous-access-1">Anonymous access</a></li>
</ul>
</li>
<li><a href="#attach-google-cloud-storage">Attach Google Cloud Storage</a></li>
<li><a href="#video-tutorial-add-google-cloud-storage-as-cloud-storage-in-cvat">Video tutorial: Add Google Cloud Storage as Cloud Storage in CVAT</a></li>
</ul>
</li>
<li><a href="#microsoft-azure-blob-storage">Microsoft Azure Blob Storage</a>
<ul>
<li><a href="#create-a-bucket-2">Create a bucket</a></li>
<li><a href="#create-a-container">Create a container</a></li>
<li><a href="#upload-data-2">Upload data</a></li>
<li><a href="#sas-token-and-connection-string">SAS token and connection string</a></li>
<li><a href="#personal-use">Personal use</a></li>
<li><a href="#attach-azure-blob-storage">Attach Azure Blob Storage</a></li>
<li><a href="#video-tutorial-add-microsoft-azure-blob-storage-as-cloud-storage-in-cvat">Video tutorial: Add Microsoft Azure Blob Storage as Cloud Storage in CVAT</a></li>
</ul>
</li>
<li><a href="#prepare-the-dataset">Prepare the dataset</a></li>
</ul>
<h2 id="aws-s3">AWS S3</h2>
<h3 id="create-a-bucket">Create a bucket</h3>
<p>To create bucket, do the following:</p>
<ol>
<li>
<p>Create an <a href="https://portal.aws.amazon.com/billing/signup#/start">AWS account</a>.</p>
</li>
<li>
<p>Go to <a href="https://s3.console.aws.amazon.com/s3/home">console AWS-S3</a>, and click <strong>Create bucket</strong>.</p>
<p><img src="../../../images/aws-s3_tutorial_1.jpg" alt=""></p>
</li>
<li>
<p>Specify the name and region of the bucket. You can also
copy the settings of another bucket by clicking on the <strong>Choose bucket</strong> button.</p>
</li>
<li>
<p>Enable <strong>Block all public access</strong>. For access, you will use <strong>access key ID</strong> and <strong>secret access key</strong>.</p>
</li>
<li>
<p>Click <strong>Create bucket</strong>.</p>
</li>
</ol>
<p>A new bucket will appear on the list of buckets.</p>
<h3 id="upload-data">Upload data</h3>
<blockquote>
<p><strong>Note</strong>: manifest file is optional.</p>
</blockquote>
<p>You need to upload data for annotation and the <code>manifest.jsonl</code> file.</p>
<ol>
<li>
<p>Prepare data.
For more information,
see <a href="#prepare-the-dataset">prepare the dataset</a>.</p>
</li>
<li>
<p>Open the bucket and click <strong>Upload</strong>.</p>
<p><img src="../../../images/aws-s3_tutorial_5.jpg" alt=""></p>
</li>
<li>
<p>Drag the manifest file and image folder on the page and click <strong>Upload</strong>:</p>
</li>
</ol>
<p><img src="../../../images/aws-s3_tutorial_1.gif" alt=""></p>
<h3 id="access-permissions">Access permissions</h3>
<h4 id="authorized-access">Authorized access</h4>
<p>To add access permissions, do the following:</p>
<ol>
<li>
<p>Go to <a href="https://console.aws.amazon.com/iamv2/home#/users">IAM</a> and click <strong>Add users</strong>.</p>
</li>
<li>
<p>Set <strong>User name</strong> and enable <strong>Access key - programmatic access</strong>.</p>
<p><img src="../../../images/aws-s3_tutorial_2.jpg" alt=""></p>
</li>
<li>
<p>Click <strong>Next: Permissions</strong>.</p>
</li>
<li>
<p>Click <strong>Create group</strong>, enter the group name.</p>
</li>
<li>
<p>Use search to find and select:</p>
<ul>
<li>For read-only access: <strong>AmazonS3ReadOnlyAccess</strong>.</li>
<li>For full access: <strong>AmazonS3FullAccess</strong>.</li>
</ul>
<p><img src="../../../images/aws-s3_tutorial_3.jpg" alt=""></p>
</li>
<li>
<p>(Optional) Add tags for the user and go to the next page.</p>
</li>
<li>
<p>Save <strong>Access key ID</strong> and <strong>Secret access key</strong>.</p>
</li>
</ol>
<p><img src="../../../images/aws-s3_tutorial_4.jpg" alt=""></p>
<p>For more information,
see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html">Creating an IAM user in your AWS account</a></p>
<h4 id="anonymous-access">Anonymous access</h4>
<p>On how to grant public access to the
bucket, see
<a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/configuring-block-public-access-bucket.html">Configuring block public access settings for your S3 buckets</a></p>
<h3 id="attach-aws-s3-storage">Attach AWS S3 storage</h3>
<p>To attach storage, do the following:</p>
<ol>
<li>Log into CVAT and in the separate tab
open your bucket page.</li>
<li>In the CVAT, on the top menu select <strong>Cloud storages</strong> &gt; on the opened page click <strong>+</strong>.</li>
</ol>
<p>Fill in the following fields:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>CVAT</th>
<th>AWS S3</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Display name</strong></td>
<td>Preferred display name for your storage.</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>(Optional) Add description of storage.</td>
</tr>
<tr>
<td><strong>Provider</strong></td>
<td>From drop-down list select <strong>AWS S3</strong>.</td>
</tr>
<tr>
<td><strong>Bucket name</strong></td>
<td>Name of the <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingBucket">Bucket</a>.</td>
</tr>
<tr>
<td><strong>Authorization type</strong></td>
<td>Depends on the bucket setup: <br><li><strong>Key id and secret access key pair</strong>: available on <a href="https://console.aws.amazon.com/iamv2/home?#/users">IAM</a>. <br><li><strong>Anonymous access</strong>: for anonymous access. Public access to the bucket must be enabled.</td>
</tr>
<tr>
<td><strong>Region</strong></td>
<td>(Optional) Choose a region from the list or add a new one. For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-available-regions"><strong>Available locations</strong></a>.</td>
</tr>
<tr>
<td><strong>Prefix</strong></td>
<td>(Optional) Prefix is used to filter bucket content. By setting a default prefix, you ensure that only data from a specific folder in the cloud is used in CVAT. This will affect which files you see when creating a task with cloud data.</td>
</tr>
<tr>
<td><strong>Manifests</strong></td>
<td>(Optional) Click <strong>+ Add manifest</strong> and enter the name of the manifest file with an extension. For example: <code>manifest.jsonl</code>.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<p>After filling in all the fields, click <strong>Submit</strong>.</p>
<h3 id="aws-s3-manifest-file">AWS S3 manifest file</h3>
<blockquote>
<p><strong>Note</strong>: manifest file is optional.</p>
</blockquote>
<p>To prepare the manifest file, do the following:</p>
<ol>
<li>Go to <a href="https://aws.amazon.com/cli/"><strong>AWS CLI</strong></a> and run
<a href="https://github.com/cvat-ai/cvat/tree/develop/utils/dataset_manifest">script for prepare manifest file</a>.</li>
<li>Perform the installation, following the <a href="https://github.com/awslabs/aws-shell"><strong>aws-shell manual</strong></a>,
<br>You can configure credentials by running <code>aws configure</code>.
<br>You will need to enter <code>Access Key ID</code> and <code>Secret Access Key</code> as well as the region.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aws configure
</span></span><span style="display:flex;"><span>Access Key ID: &lt;your Access Key ID&gt;
</span></span><span style="display:flex;"><span>Secret Access Key: &lt;your Secret Access Key&gt;
</span></span></code></pre></div><ol start="3">
<li>Copy the content of the bucket to a folder on your computer:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aws s3 cp &lt;s3://bucket-name&gt; &lt;yourfolder&gt; --recursive
</span></span></code></pre></div><ol start="4">
<li>After copying the files, you can create a manifest file as described in <a href="../../../docs/manual/advanced/dataset_manifest/">preapair manifest file section</a>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python &lt;cvat repository&gt;/utils/dataset_manifest/create.py --output-dir &lt;yourfolder&gt; &lt;yourfolder&gt;
</span></span></code></pre></div><ol start="5">
<li>When the manifest file is ready, upload it to aws s3 bucket:</li>
</ol>
<ul>
<li>For read and write permissions when you created the user, run:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aws s3 cp &lt;yourfolder&gt;/manifest.jsonl &lt;s3://bucket-name&gt;
</span></span></code></pre></div><ul>
<li>For read-only permissions, use the download through the browser,
click upload, drag the manifest file to the page and click upload.</li>
</ul>
<p><img src="../../../images/aws-s3_tutorial_5.jpg" alt=""></p>
<h3 id="video-tutorial-add-aws-s3-as-cloud-storage-in-cvat">Video tutorial: Add AWS S3 as Cloud Storage in CVAT</h3>
<!--lint disable maximum-line-length-->
<iframe width="560" height="315" src="https://www.youtube.com/embed/y6fgZ4X87Lc?si=5EewLS4XA7birS25" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<!--lint enable maximum-line-length-->
<h2 id="google-cloud-storage">Google Cloud Storage</h2>
<h3 id="create-a-bucket-1">Create a bucket</h3>
<p>To create bucket, do the following:</p>
<ol>
<li>Create <a href="https://support.google.com/accounts/answer/27441?hl=en">Google account</a> and log into it.</li>
<li>On the <a href="https://cloud.google.com/">Google Cloud</a> page, click <strong>Start Free</strong>, then enter the required
data and accept the terms of service.
<blockquote>
<p><strong>Note:</strong> Google requires to add payment, you will need a bank card to accomplish step 2.</p>
</blockquote>
</li>
<li><a href="https://cloud.google.com/storage/docs/creating-buckets">Create a Bucket</a> with the following parameters:
<ul>
<li><strong>Name your bucket</strong>: Unique name.</li>
<li><strong>Choose where to store your data</strong>: Set up a location nearest to you.</li>
<li><strong>Choose a storage class for your data</strong>: <code>Set a default class</code> &gt; <code>Standard</code>.</li>
<li><strong>Choose how to control access to objects</strong>: <code>Enforce public access prevention on this bucket</code> &gt;
<code>Uniform</code> (default).</li>
<li><strong>How to protect data</strong>: <code>None</code></li>
</ul>
</li>
</ol>
<p><img src="../../../images/google_bucket.png" alt="GB"></p>
<p>You will be forwarded to the bucket.</p>
<h3 id="upload-data-1">Upload data</h3>
<blockquote>
<p><strong>Note</strong>: manifest file is optional.</p>
</blockquote>
<p>You need to upload data for annotation and the <code>manifest.jsonl</code> file.</p>
<ol>
<li>Prepare data.
For more information,
see <a href="#prepare-the-dataset">prepare the dataset</a>.</li>
<li>Open the bucket and from the top menu
select <strong>Upload files</strong> or <strong>Upload folder</strong>
(depends on how your files are organized).</li>
</ol>
<h3 id="access-permissions-1">Access permissions</h3>
<p>To access Google Cloud Storage get a <strong>Project ID</strong>
from <a href="https://console.cloud.google.com/cloud-resource-manager">cloud resource manager page</a></p>
<p><img src="../../../images/google_cloud_storage_tutorial5.jpg" alt=""></p>
<p>And follow instructions below based on the preferable type of access.</p>
<h4 id="authorized-access-1">Authorized access</h4>
<p>For authorized access you need to create a service account and key file.</p>
<p>To create a service account:</p>
<ol>
<li>On the Google Cloud platform, go to <strong>IAM &amp; Admin</strong> &gt; <strong>Service Accounts</strong> and click <strong>+Create Service Account</strong>.</li>
<li>Enter your account name and click <strong>Create And Continue</strong>.</li>
<li>Select a role, for example <strong>Basic</strong> &gt; <strong>Viewer</strong>, and click <strong>Continue</strong>.</li>
<li>(Optional) Give access rights to the service account.</li>
<li>Click <strong>Done</strong>.</li>
</ol>
<p><img src="../../../images/google_cloud_storage_tutorial2.jpg" alt=""></p>
<p>To create a key:</p>
<ol>
<li>Go to <strong>IAM &amp; Admin</strong> &gt; <strong>Service Accounts</strong> &gt; click on account name &gt; <strong>Keys</strong>.</li>
<li>Click <strong>Add key</strong> and select <strong>Create new key</strong> &gt; <strong>JSON</strong></li>
<li>Click <strong>Create</strong>. The key file will be downloaded automatically.</li>
</ol>
<p><img src="../../../images/google_cloud_storage_tutorial3.jpg" alt=""></p>
<p>For more information about keys, see
<a href="https://cloud.google.com/docs/authentication/getting-started">Learn more about creating keys</a>.</p>
<h4 id="anonymous-access-1">Anonymous access</h4>
<p>To configure anonymous access:</p>
<ol>
<li>Open the bucket and go to the <strong>Permissions</strong> tab.</li>
<li>Сlick <strong>+ Grant access</strong> to add new principals.</li>
<li>In the <strong>New principals</strong> field specify <code>allUsers</code>,
select roles: <code>Cloud Storage Legacy</code> &gt; <code>Storage Legacy Bucket Reader</code>.</li>
<li>Click <strong>Save</strong>.</li>
</ol>
<p><img src="../../../images/google_cloud_storage_tutorial4.jpg" alt=""></p>
<p>Now you can attach the Google Cloud Storage bucket to CVAT.</p>
<h3 id="attach-google-cloud-storage">Attach Google Cloud Storage</h3>
<p>To attach storage, do the following:</p>
<ol>
<li>Log into CVAT and in the separate tab
open your <a href="https://console.cloud.google.com/storage/browser">bucket</a>
page.</li>
<li>In the CVAT, on the top menu select <strong>Cloud storages</strong> &gt; on the opened page click <strong>+</strong>.</li>
</ol>
<p>Fill in the following fields:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>CVAT</th>
<th>Google Cloud Storage</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Display name</strong></td>
<td>Preferred display name for your storage.</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>(Optional) Add description of storage.</td>
</tr>
<tr>
<td><strong>Provider</strong></td>
<td>From drop-down list select <strong>Google Cloud Storage</strong>.</td>
</tr>
<tr>
<td><strong>Bucket name</strong></td>
<td>Name of the bucket. You can find it on the <a href="https://console.cloud.google.com/storage/browser">storage browser page</a>.</td>
</tr>
<tr>
<td><strong>Authorization type</strong></td>
<td>Depends on the bucket setup: <br><li><strong>Authorized access</strong>: Click on the <strong>Key file</strong> field and upload key file from computer. <br> <strong>Advanced</strong>: For self-hosted solution, if the key file was not attached, then environment variable <code>GOOGLE_APPLICATION_CREDENTIALS</code> that was specified for an environment will be used. For more information, see <a href="https://cloud.google.com/docs/authentication/client-libraries#setting_the_environment_variable">Authenticate to Cloud services using client libraries</a>.<br><li> <strong>Anonymous access</strong>: for anonymous access. Public access to the bucket must be enabled.</td>
</tr>
<tr>
<td><strong>Prefix</strong></td>
<td>(Optional) Used to filter data from the bucket. By setting a default prefix, you ensure that only data from a specific folder in the cloud is used in CVAT. This will affect which files you see when creating a task with cloud data.</td>
</tr>
<tr>
<td><strong>Project ID</strong></td>
<td><a href="#authorized-access">Project ID</a>. <br>For more information, see <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects">projects page</a> and <a href="https://console.cloud.google.com/cloud-resource-manager">cloud resource manager page</a>. <br><strong>Note:</strong> Project name does not match the project ID.</td>
</tr>
<tr>
<td><strong>Location</strong></td>
<td>(Optional) Choose a region from the list or add a new one. For more information, see <a href="https://cloud.google.com/storage/docs/locations#available-locations"><strong>Available locations</strong></a>.</td>
</tr>
<tr>
<td><strong>Manifests</strong></td>
<td>(Optional) Click <strong>+ Add manifest</strong> and enter the name of the manifest file with an extension. For example: <code>manifest.jsonl</code>.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<p>After filling in all the fields, click <strong>Submit</strong>.</p>
<h3 id="video-tutorial-add-google-cloud-storage-as-cloud-storage-in-cvat">Video tutorial: Add Google Cloud Storage as Cloud Storage in CVAT</h3>
<!--lint disable maximum-line-length-->
<iframe width="560" height="315" src="https://www.youtube.com/embed/pl2KZqJouvI?si=58sziJGbHHc-Mcom" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<!--lint enable maximum-line-length-->
<h2 id="microsoft-azure-blob-storage">Microsoft Azure Blob Storage</h2>
<h3 id="create-a-bucket-2">Create a bucket</h3>
<p>To create bucket, do the following:</p>
<ol>
<li>
<p>Create an <a href="https://azure.microsoft.com/en-us/free/">Microsoft Azure</a> account and log into it.</p>
</li>
<li>
<p>Go to <a href="https://portal.azure.com/#home">Azure portal</a>, hover over the resource
, and in the pop-up window click <strong>Create</strong>.</p>
<p><img src="../../../images/azure_blob_container_tutorial1.jpg" alt=""></p>
</li>
<li>
<p>Enter a name for the group and click <strong>Review + create</strong>, check the entered data and click <strong>Create</strong>.</p>
</li>
<li>
<p>Go to the <a href="https://portal.azure.com/#view/HubsExtension/BrowseResourceGroups">resource groups page</a>,
navigate to the group that you created and click <strong>Create resources</strong>.</p>
</li>
<li>
<p>On the marketplace page, use search to find <strong>Storage account</strong>.</p>
<p><img src="../../../images/azure_blob_container_tutorial2.png" alt=""></p>
</li>
<li>
<p>Click on <strong>Storage account</strong> and on the next page click <strong>Create</strong>.</p>
</li>
<li>
<p>On the <strong>Basics</strong> tab, fill in the following fields:</p>
<ul>
<li><strong>Storage account name</strong>: to access container from CVAT.</li>
<li>Select a region closest to you.</li>
<li>Select <strong>Performance</strong> &gt; <strong>Standart</strong>.</li>
<li>Select <strong>Local-redundancy storage (LRS)</strong>.</li>
<li>Click <strong>next: Advanced&gt;</strong>.</li>
</ul>
<p><img src="../../../images/azure_blob_container_tutorial4.png" alt=""></p>
</li>
<li>
<p>On the <strong>Advanced</strong> page, fill in the following fields:</p>
<ul>
<li>(Optional) Disable <strong>Allow enabling public access on containers</strong> to prohibit anonymous access to the container.</li>
<li>Click <strong>Next &gt; Networking</strong>.</li>
</ul>
</li>
</ol>
<p><img src="../../../images/azure_blob_container_tutorial5.png" alt=""></p>
<ol start="9">
<li>
<p>On the <strong>Networking</strong> tab, fill in the following fields:</p>
<ul>
<li>
<p>If you want to change public access, enable <strong>Public access from all networks</strong>.</p>
</li>
<li>
<p>Click <strong>Next&gt;Data protection</strong>.</p>
<blockquote>
<p>You do not need to change anything in other tabs until you need some specific setup.</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>Click <strong>Review</strong> and wait for the data to load.</p>
</li>
<li>
<p>Click <strong>Create</strong>. Deployment will start.</p>
</li>
<li>
<p>After deployment is over, click <strong>Go to resource</strong>.</p>
</li>
</ol>
<p><img src="../../../images/azure_blob_container_tutorial6.jpg" alt=""></p>
<h3 id="create-a-container">Create a container</h3>
<p>To create container, do the following:</p>
<ol>
<li>Go to the containers section and on the top menu click <strong>+Container</strong></li>
</ol>
<p><img src="../../../images/azure_blob_container_tutorial7.jpg" alt=""></p>
<ol start="3">
<li>Enter the name of the container.</li>
<li>(Optional) In the <strong>Public access level</strong> drop-down, select type of the access.
<br><strong>Note:</strong> this field will inactive if you disabled <strong>Allow enabling public access on containers</strong>.</li>
<li>Click <strong>Create</strong>.</li>
</ol>
<h3 id="upload-data-2">Upload data</h3>
<p>You need to upload data for annotation and the <code>manifest.jsonl</code> file.</p>
<ol>
<li>Prepare data.
For more information,
see <a href="#prepare-the-dataset">prepare the dataset</a>.</li>
<li>Go to container and click <strong>Upload</strong>.</li>
<li>Click <strong>Browse for files</strong> and select images.
<blockquote>
<p>Note: If images are in folder, specify folder in the <strong>Advanced settings</strong> &gt; <strong>Upload to folder</strong>.</p>
</blockquote>
</li>
<li>Click <strong>Upload</strong>.</li>
</ol>
<p><img src="../../../images/azure_blob_container_tutorial9.jpg" alt=""></p>
<h3 id="sas-token-and-connection-string">SAS token and connection string</h3>
<p>Use the SAS token or connection string to grant secure access to the container.</p>
<p>To configure the credentials:</p>
<ol>
<li>Go to <strong>Home</strong> &gt; <strong>Resourse groups</strong> &gt; You resource name &gt; Your storage account.</li>
<li>On the left menu, click <strong>Shared access signature</strong>.</li>
<li>Change the following fields:
<ul>
<li><strong>Allowed services</strong>: Enable <strong>Blob</strong> . Disable all other fields.</li>
<li><strong>Allowed resource types</strong>: Enable <strong>Container</strong> and <strong>Object</strong>. Disable all other fields.</li>
<li><strong>Allowed permissions</strong>: Enable <strong>Read</strong>, <strong>Write</strong>, and <strong>List</strong>. Disable all other fields.</li>
<li><strong>Start and expiry date</strong>: Set up start and expiry dates.</li>
<li><strong>Allowed protocols</strong>: Select <strong>HTTPS and HTTP</strong></li>
<li>Leave all other fields with default parameters.</li>
</ul>
</li>
<li>Click <strong>Generate SAS and connection string</strong> and copy <strong>SAS token</strong> or <strong>Connection string</strong>.</li>
</ol>
<p><img src="../../../images/azure_blob_container_tutorial3.jpg" alt=""></p>
<h3 id="personal-use">Personal use</h3>
<p>For personal use, you can use the <strong>Access Key</strong>
from your storage account in the CVAT <strong>SAS Token</strong> field.</p>
<p>To get the <strong>Access Key</strong>:</p>
<ol>
<li>In the Azure Portal, go to the <strong>Security + networking</strong> &gt; <strong>Access Keys</strong></li>
<li>Click <strong>Show</strong> and copy the key.</li>
</ol>
<p><img src="../../../images/azure_blob_container_tutorial8.jpg" alt=""></p>
<h3 id="attach-azure-blob-storage">Attach Azure Blob Storage</h3>
<p>To attach storage, do the following:</p>
<ol>
<li>Log into CVAT and in the separate tab
open your bucket page.</li>
<li>In the CVAT, on the top menu select <strong>Cloud storages</strong> &gt; on the opened page click <strong>+</strong>.</li>
</ol>
<p>Fill in the following fields:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>CVAT</th>
<th>Azure</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Display name</strong></td>
<td>Preferred display name for your storage.</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>(Optional) Add description of storage.</td>
</tr>
<tr>
<td><strong>Provider</strong></td>
<td>From drop-down list select <strong>Azure Blob Container</strong>.</td>
</tr>
<tr>
<td><strong>Container name`</strong></td>
<td>Name of the cloud storage container.</td>
</tr>
<tr>
<td><strong>Authorization type</strong></td>
<td>Depends on the container setup. <br><strong><a href="https://docs.microsoft.com/en-us/azure/cognitive-services/translator/document-translation/create-sas-tokens?tabs=blobs">Account name and SAS token</a></strong>: <ul><li><strong>Account name</strong> enter storage account name. <li><strong>SAS token</strong> is located in the <strong>Shared access signature</strong> section of your <a href="#sas-token">Storage account</a>.</ul>. <strong><a href="https://docs.microsoft.com/en-us/azure/storage/blobs/anonymous-read-access-configure?tabs=portal">Anonymous access</a></strong>: for anonymous access <strong>Allow enabling public access on containers</strong> must be enabled.</td>
</tr>
<tr>
<td><strong>Prefix</strong></td>
<td>(Optional) Used to filter data from the bucket. By setting a default prefix, you ensure that only data from a specific folder in the cloud is used in CVAT. This will affect which files you see when creating a task with cloud data.</td>
</tr>
<tr>
<td><strong>Manifests</strong></td>
<td>(Optional) Click <strong>+ Add manifest</strong> and enter the name of the manifest file with an extension. For example: <code>manifest.jsonl</code>.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<p>After filling in all the fields, click <strong>Submit</strong>.</p>
<h3 id="video-tutorial-add-microsoft-azure-blob-storage-as-cloud-storage-in-cvat">Video tutorial: Add Microsoft Azure Blob Storage as Cloud Storage in CVAT</h3>
<!--lint disable maximum-line-length-->
<iframe width="560" height="315" src="https://www.youtube.com/embed/nvrm8oFBKMY?si=v2z6Rjlc250niXPX" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<!--lint enable maximum-line-length-->
<h2 id="prepare-the-dataset">Prepare the dataset</h2>
<p>For example, the dataset is <a href="https://www.robots.ox.ac.uk/~vgg/data/pets/">The Oxford-IIIT Pet Dataset</a>:</p>
<ol>
<li>Download the <a href="https://www.robots.ox.ac.uk/~vgg/data/pets/data/images.tar.gz">archive with images</a>.</li>
<li>Unpack the archive into the prepared folder.</li>
<li>Create a manifest. For more information, see <a href="../../../docs/manual/advanced/dataset_manifest/"><strong>Dataset manifest</strong></a>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python &lt;cvat repository&gt;/utils/dataset_manifest/create.py --output-dir &lt;your_folder&gt; &lt;your_folder&gt;
</span></span></code></pre></div>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-efbc0d92c419283ee8525c147b11fb71">2 - Advanced</h1>
    <div class="lead">This section contains advanced documents for CVAT users</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-789f9715966b149b8f1811e593d89fcd">2.1 - Projects page</h1>
    <div class="lead">Creating and exporting projects in CVAT.</div>
	<h2 id="projects-page">Projects page</h2>
<p>On this page you can create a new project, create a project from a backup, and also see the created projects.</p>
<p>In the upper left corner there is a search bar, using which you can find the project by project name, assignee etc.
In the upper right corner there are <a href="../../../docs/manual/advanced/filter/#sort-by">sorting</a>, <a href="../../../docs/manual/advanced/filter/#quick-filters">quick filters</a> and filter.</p>
<h2 id="filter">Filter</h2>
<blockquote>
<p>Applying filter disables the <a href="../../../docs/manual/advanced/filter/#quick-filters">quick filter</a>.</p>
</blockquote>
<p>The filter works similarly to the filters for annotation,
you can create rules from <a href="#supported-properties-for-projects-list">properties</a>,
<a href="../../../docs/manual/advanced/filter/#supported-operators-for-properties">operators</a> and values and group rules into <a href="../../../docs/manual/advanced/filter/#groups">groups</a>.
For more details, see the <a href="../../../docs/manual/advanced/filter/#create-a-filter">filter section</a>.
Learn more about <a href="../../../docs/manual/advanced/filter#date-and-time-selection">date and time selection</a>.</p>
<p>For clear all filters press <code>Clear filters</code>.</p>
<h3 id="supported-properties-for-projects-list">Supported properties for projects list</h3>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Supported values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Assignee</code></td>
<td>username</td>
<td>Assignee is the user who is working on the project, task or job. <br>(is specified on task page)</td>
</tr>
<tr>
<td><code>Owner</code></td>
<td>username</td>
<td>The user who owns the project, task, or job</td>
</tr>
<tr>
<td><code>Last updated</code></td>
<td>last modified date and time (or value range)</td>
<td>The date can be entered in the <code>dd.MM.yyyy HH:mm</code> format <br>or by selecting the date in the window that appears <br>when you click on the input field</td>
</tr>
<tr>
<td><code>ID</code></td>
<td>number or range of job ID</td>
<td></td>
</tr>
<tr>
<td><code>Name</code></td>
<td>name</td>
<td>On the tasks page - name of the task,<br> on the project page - name of the project</td>
</tr>
</tbody>
</table>
<h2 id="create-a-project">Create a project</h2>
<p>At CVAT, you can create a project containing tasks of the same type.
All tasks related to the project will inherit a list of labels.</p>
<p>To create a project, go to the projects section by clicking on the <code>Projects</code> item in the top menu.
On the projects page, you can see a list of projects, use a search,
or create a new project by clicking on the <code>+</code> button and select <code>Create New Project</code>.</p>
<p><img src="../../../images/image190.jpg" alt=""></p>
<blockquote>
<p>Note that the project will be created in the organization that you selected at the time of creation.
Read more about <a href="../../../docs/manual/advanced/organization/">organizations</a>.</p>
</blockquote>
<p>You can change: the name of the project, the list of labels
(which will be used for tasks created as parts of this project) and a skeleton if it&rsquo;s necessary.
In advanced configuration also you can specify: a link to the issue, source and target storages.
Learn more about <a href="../../../docs/manual/basics/creating_an_annotation_task/#labels">creating a label list</a>,
<a href="../../../docs/manual/advanced/skeletons/">creating the skeleton</a> and <a href="../../../docs/manual/basics/attach-cloud-storage/">attach cloud storage</a>.</p>
<p>To save and open project click on <code>Submit &amp; Open</code> button. Also you
can click on <code>Submit &amp; Continue</code> button for creating several projects in sequence</p>
<p><img src="../../../images/image191.jpg" alt=""></p>
<p>Once created, the project will appear on the projects page. To open a project, just click on it.</p>
<p><img src="../../../images/image192_mapillary_vistas.jpg" alt=""></p>
<p>Here you can do the following:</p>
<ol>
<li>
<p>Change the project&rsquo;s title.</p>
</li>
<li>
<p>Open the <code>Actions</code> menu. Each button is responsible for a specific function in the <code>Actions</code> menu:</p>
<ul>
<li><code>Export dataset</code>/<code>Import dataset</code> - download/upload annotations or annotations and images in a specific format.
More information is available in the <a href="../../../docs/manual/advanced/export-import-datasets/">export/import datasets</a>
section.</li>
<li><code>Backup project</code> - make a backup of the project read more in the <a href="../../../docs/manual/advanced/backup/">backup</a> section.</li>
<li><code>Delete</code> - remove the project and all related tasks.</li>
</ul>
</li>
<li>
<p>Change issue tracker or open issue tracker if it is specified.</p>
</li>
<li>
<p>Change labels and skeleton.
You can add new labels or add attributes for the existing labels in the <code>Raw</code> mode or the <code>Constructor</code> mode.
You can also change the color for different labels.
By clicking <code>Setup skeleton</code> you can create a skeleton for this project.</p>
</li>
<li>
<p>Assigned to — is used to assign a project to a person.
Start typing an assignee&rsquo;s name and/or choose the right person out of the dropdown list.</p>
</li>
<li>
<p><code>Tasks</code> — is a list of all tasks for a particular project, with the ability to search,
sort and filter for tasks in the project.
<a href="../../../docs/manual/advanced/search/">Read more about search</a>.
<a href="../../../docs/manual/advanced/filter/#sort-and-filter-projects-tasks-and-jobs">Read more about sorting and filter</a>
It is possible to choose a subset for tasks in the project. You can use the available options
(<code>Train</code>, <code>Test</code>, <code>Validation</code>) or set your own.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6f331e58f95984d15c8850fd08d6267e">2.2 - Organization</h1>
    <div class="lead">Using organization in CVAT.</div>
	<p><strong>Organization</strong> is a feature for teams of several users
who work together on projects and share tasks.</p>
<p>Create an <strong>Organization</strong>, invite your team members, and assign
roles to make the team work better on shared tasks.</p>
<p>See:</p>
<ul>
<li><a href="#personal-workspace">Personal workspace</a></li>
<li><a href="#create-new-organization">Create new organization</a>
<ul>
<li><a href="#switching-between-organizations">Switching between organizations</a></li>
</ul>
</li>
<li><a href="#organization-page">Organization page</a></li>
<li><a href="#invite-members-into-organization-menu-and-roles">Invite members into organization: menu and roles</a>
<ul>
<li><a href="#inviting-members-to-organization">Inviting members to Organization</a></li>
<li><a href="#invitations-list">Invitations list</a></li>
<li><a href="#resending-and-removing-invitations">Resending and removing invitations</a></li>
</ul>
</li>
<li><a href="#delete-organization">Delete organization</a></li>
</ul>
<h2 id="personal-workspace">Personal workspace</h2>
<p>The account&rsquo;s default state is activated when no <strong>Organization</strong> is selected.</p>
<p>If you do not select an <strong>Organization</strong>, the system links all new resources directly
to your personal account, that inhibits resource sharing with others.</p>
<p>When <strong>Personal workspace</strong> is selected, it will be marked with a tick in the menu.</p>
<p><img src="../../../images/personal_account.jpg" alt=""></p>
<h2 id="create-new-organization">Create new organization</h2>
<p>To create an organization, do the following:</p>
<ol>
<li>
<p>Log in to the CVAT.</p>
</li>
<li>
<p>On the top menu, click your <strong>Username</strong> &gt; <strong>Organization</strong> &gt; <strong>+ Create</strong>.</p>
<p><img src="../../../images/image233.jpg" alt=""></p>
</li>
<li>
<p>Fill in the following fields and click <strong>Submit</strong>.</p>
<p><img src="../../../images/image234.jpg" alt=""></p>
</li>
</ol>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Short name</strong></td>
<td>A name of the organization that will be displayed in the CVAT menu.</td>
</tr>
<tr>
<td><strong>Full Name</strong></td>
<td>Optional. Full name of the organization.</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Optional. Description of organization.</td>
</tr>
<tr>
<td><strong>Email</strong></td>
<td>Optional. Your email.</td>
</tr>
<tr>
<td><strong>Phone number</strong></td>
<td>Optional. Your phone number.</td>
</tr>
<tr>
<td><strong>Location</strong></td>
<td>Optional. Organization address.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<p>Upon creation, the organization page will open automatically.</p>
<p>For future access to your organization,
navigate to <strong>Username</strong> &gt; <strong>Organization</strong></p>
<blockquote>
<p><strong>Note</strong>, that if you&rsquo;ve created more than 10 organizations,
a <strong>Switch organization</strong> line will appear in the drop-down menu.</p>
</blockquote>
<h3 id="switching-between-organizations">Switching between organizations</h3>
<p>If you have more than one <strong>Organization</strong>,
it is possible to switch between these <strong>Organizations</strong> at any given time.</p>
<p>Follow these steps:</p>
<ol>
<li>In the top menu, select your <strong>Username</strong> &gt; <strong>Organization</strong>.</li>
<li>From the drop-down menu, under the <strong>Personal space</strong> section,
choose the desired <strong>Organization</strong>.</li>
</ol>
<p><img src="../../../images/image233_1.jpg" alt=""></p>
<blockquote>
<p><strong>Note</strong>, that if you&rsquo;ve created more than 10 organizations,
a <strong>Switch organization</strong> line will appear in the drop-down menu.</p>
</blockquote>
<p><img src="../../../images/switch_org.png" alt=""></p>
<p>Click on it to see the <strong>Select organization</strong> dialog, and select organization
from drop-down list.</p>
<p><img src="../../../images/select_org.png" alt=""></p>
<h2 id="organization-page">Organization page</h2>
<p><strong>Organization page</strong> is a place, where you can edit the <strong>Organization</strong> information
and manage <strong>Organization</strong> members.</p>
<p><img src="../../../images/orgpage.jpg" alt=""></p>
<blockquote>
<p><strong>Note</strong> that in order to access the organization page, you must first activate
the organization (see <a href="#switching-between-organizations">Switching between organizations</a>).
Without activation, the organization page will remain inaccessible.
<br>An organization is considered activated when it&rsquo;s ticked in the drop-down menu
and its name is visible in the top-right corner under the username.</p>
</blockquote>
<p>To go to the <strong>Organization page</strong>, do the following:</p>
<ol>
<li>On the top menu, click your <strong>Username</strong> &gt; <strong>Organization</strong>.</li>
<li>In the drop-down menu, select <strong>Organization</strong>.</li>
<li>In the drop-down menu, click <strong>Settings</strong>.</li>
</ol>
<p><img src="../../../images/image235.jpg" alt=""></p>
<h2 id="invite-members-into-organization-menu-and-roles">Invite members into organization: menu and roles</h2>
<p>Invite members form is available from <a href="#organization-page">Organization page</a>.</p>
<p>It has the following fields:</p>
<p><img src="../../../images/invitemembers.jpg" alt=""></p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Email</strong></td>
<td>Specifies the email address of the user who is being added to the <strong>Organization</strong>.</td>
</tr>
<tr>
<td>Role drop-down list</td>
<td>Defines the role of the user which sets the level of access within the <strong>Organization</strong>: <br><li><strong>Worker</strong>: Has access only to the tasks, projects, and jobs assigned to them. <li><strong>Supervisor</strong>: Can create and assign jobs, tasks, and projects to the <strong>Organization</strong> members. <li><strong>Maintainer</strong>: Has the same capabilities as the <strong>Supervisor</strong>, but with additional visibility over all tasks and projects created by other members, complete access to <strong>Cloud Storages</strong>, and the ability to modify members and their roles. <li><strong>Owner</strong>: role assigned to the creator of the organization by default. Has maximum capabilities and cannot be changed or assigned to the other user.</td>
</tr>
<tr>
<td><strong>Invite more</strong></td>
<td>Button to add another user to the <strong>Organization</strong>.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<p>Members of <strong>Organization</strong> will appear on the <strong>Organization page</strong>:</p>
<p><img src="../../../images/image237.jpg" alt=""></p>
<p>The member of the organization can leave the organization
by going to <strong>Organization page</strong> &gt; <strong>Leave organization</strong>.</p>
<h3 id="inviting-members-to-organization">Inviting members to Organization</h3>
<p>To invite members to <strong>Organization</strong> do the following:</p>
<ol>
<li>
<p>Go to the <a href="#organization-page"><strong>Organization page</strong></a>, and click <strong>Invite members</strong>.</p>
</li>
<li>
<p>Fill in the form (see below).</p>
<p><img src="../../../images/image236.jpg" alt=""></p>
</li>
<li>
<p>Click <strong>Ok</strong>.</p>
</li>
<li>
<p>The person being invited will receive an email with the link.</p>
<p><img src="../../../images/invitation_to_org.jpg" alt=""></p>
</li>
<li>
<p>Person must click the link and:</p>
<ol>
<li>If the invitee does not have the CVAT account, then <a href="../../../docs/manual/basics/registration/#user-registration"><strong>set up an account</strong></a>.</li>
<li>If the invitee has a CVAT account, then log in to the account.</li>
</ol>
</li>
</ol>
<h3 id="invitations-list">Invitations list</h3>
<p>User can see the list of active invitations.</p>
<p>To see the list, Go to <strong>Username</strong> &gt; <strong>Organization</strong> &gt; <strong>Invitations</strong>.</p>
<p><img src="../../../images/invitations_list.jpg" alt=""></p>
<p>You will see the page with the list of invitations.</p>
<p>You will also see pop-up notification the link to the page with
invitations list.</p>
<h3 id="resending-and-removing-invitations">Resending and removing invitations</h3>
<p>The organization owner and maintainers can remove members, by
clicking on the three dots, and selecting <strong>Remove invitation</strong></p>
<p><img src="../../../images/resend-remove-invitation.jpg" alt=""></p>
<p>The organization owner can remove members, by
clicking on the <strong>Bin</strong> icon.</p>
<h2 id="delete-organization">Delete organization</h2>
<p>You can remove an organization that you created.</p>
<blockquote>
<p><strong>Note</strong>: Removing an organization will delete all related resources (annotations,
jobs, tasks, projects, cloud storage, and so on).</p>
</blockquote>
<p>To remove an organization, do the following:</p>
<ol>
<li>Go to the <strong>Organization page</strong>.</li>
<li>In the top-right corner click <strong>Actions</strong> &gt; <strong>Remove organization</strong>.</li>
<li>Enter the short name of the organization in the dialog field.</li>
<li>Click <strong>Remove</strong>.</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-721c6749c3e22c1edc40499266d46267">2.3 - Search</h1>
    <div class="lead">Overview of available search options.</div>
	<p>There are several options how to use the search.</p>
<ul>
<li>Search within all fields (owner, assignee, task name, task status, task mode).
To execute enter a search string in search field.</li>
<li>Search for specific fields. How to perform:
<ul>
<li><code>owner: admin</code> - all tasks created by the user who has the substring &ldquo;admin&rdquo; in his name</li>
<li><code>assignee: employee</code> - all tasks which are assigned to a user who has the substring &ldquo;employee&rdquo; in his name</li>
<li><code>name: training</code> - all tasks with the substring &ldquo;training&rdquo; in their names</li>
<li><code>mode: annotation</code> or <code>mode: interpolation</code> - all tasks with images or videos.</li>
<li><code>status: annotation</code> or <code>status: validation</code> or <code>status: completed</code> - search by status</li>
<li><code>id: 5</code> - task with id = 5.</li>
</ul>
</li>
<li>Multiple filters. Filters can be combined (except for the identifier) ​​using the keyword <code> AND</code>:
<ul>
<li><code>mode: interpolation AND owner: admin</code></li>
<li><code>mode: annotation and status: annotation</code></li>
</ul>
</li>
</ul>
<p>The search is case insensitive.</p>
<p><img src="../../../images/image100_detrac.jpg" alt=""></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e2b99661441784c00f94d2aa1a169963">2.4 - Shape mode (advanced)</h1>
    <div class="lead">Advanced operations available during annotation in shape mode.</div>
	<p>Basic operations in the mode were described in section <a href="../../../docs/manual/basics/shape-mode-basics/">shape mode (basics)</a>.</p>
<p><strong>Occluded</strong>
Occlusion is an attribute used if an object is occluded by another object or
isn&rsquo;t fully visible on the frame. Use <code>Q</code> shortcut to set the property
quickly.</p>
<p><img src="../../../images/image065.jpg" alt=""></p>
<p>Example: the three cars on the figure below should be labeled as <strong>occluded</strong>.</p>
<p><img src="../../../images/image054_mapillary_vistas.jpg" alt=""></p>
<p>If a frame contains too many objects and it is difficult to annotate them
due to many shapes placed mostly in the same place, it makes sense
to lock them. Shapes for locked objects are transparent, and it is easy to
annotate new objects. Besides, you can&rsquo;t change previously annotated objects
by accident. Shortcut: <code>L</code>.</p>
<p><img src="../../../images/image066.jpg" alt=""></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3e92ee3dac73f633785710286c513871">2.5 - CVAT User roles</h1>
    
	<p>CVAT offers two distinct types of roles:</p>
<ul>
<li><strong>Global Roles</strong>: These are universal roles that apply to the entire system. Anyone who logs into the CVAT.ai
platform is automatically assigned a global role. It sets the basic permissions that every registered user
has across CVAT.ai, regardless of their specific tasks or responsibilities.</li>
<li><strong>Organization Roles</strong>: These roles determine what a user can do within the Organization,
allowing for more tailored access based on the user’s specific duties and responsibilities.</li>
</ul>
<p>Organization roles complement global roles by determining the
visibility of different resources for example, tasks or jobs.</p>
<p><strong>Limits</strong>: Limits are applicable to all users of the CVAT.ai Cloud Platform
using the <a href="https://www.cvat.ai/pricing/cloud"><strong>Free plan</strong></a> and can be lifted upon
<a href="../../../docs/enterprise/subscription-managment/"><strong>choosing a subscription</strong></a>.</p>
<p>All roles are predefined and cannot be modified through the user interface.
However, within the <em>self-hosted solution</em>, roles can be adjusted using <code>.rego</code>
files stored in <code>cvat/apps/iam/rules/</code>.
Rego is a declarative language employed for defining
OPA (Open Policy Agent) policies, and its syntax is detailed
in the <a href="https://www.openpolicyagent.org/docs/latest/policy-language/"><strong>OPA documentation</strong></a>.</p>
<blockquote>
<p>Note: Once you&rsquo;ve made changes to the <code>.rego</code> files, you must
rebuild and restart the Docker Compose for those changes to be applied.
In this scenario, be sure to include the <code>docker-compose.dev.yml</code> compose
configuration file when executing the Docker Compose command.</p>
</blockquote>
<p>See:</p>
<ul>
<li><a href="#global-roles-in-cvatai">Global roles in CVAT.ai</a></li>
<li><a href="#organization-roles-in-cvatai">Organization roles in CVAT.ai</a></li>
<li><a href="#job-stage">Job Stage</a></li>
</ul>
<h2 id="global-roles-in-cvatai">Global roles in CVAT.ai</h2>
<blockquote>
<p><strong>Note:</strong> Global roles can be adjusted only on self-hosted solution.</p>
</blockquote>
<p>CVAT has implemented three Global roles, categorized as user Groups. These roles are:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Role</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Administrator</strong></td>
<td>An administrator possesses unrestricted access to the CVAT instance and all activities within this instance. The administrator has visibility over all tasks and projects, with the ability to modify or manage each comprehensively. This role is exclusive to self-hosted instances, ensuring comprehensive oversight and control.</td>
</tr>
<tr>
<td><strong>User <br>(default role)</strong></td>
<td>A User is a default role who is assigned to any user who is registered in CVAT*. Users can view and manage all tasks and projects within their registered accounts, but their activities are subject to specific limitations, see Free plan. <br><br>* If a user, that did not have a CVAT account, has been invited to the organization by the organization owner or maintainer, it will be automatically assigned the Organization role and will be subject to the role&rsquo;s limitations when operating within the Organization.</td>
</tr>
<tr>
<td><strong>Worker</strong></td>
<td>Workers are limited to specific functionalities and do not have the permissions to create tasks, assign roles, or perform other administrative actions. Their activities are primarily focused on viewing and interacting with the content within the boundaries of their designated roles (validation or annotation of the jobs).</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h2 id="organization-roles-in-cvatai">Organization roles in CVAT.ai</h2>
<p>Organization Roles are available only within the <a href="../../../docs/manual/advanced/organization/"><strong>CVAT Organization</strong></a>.</p>
<p><img src="../../../images/user-roles.png" alt="Organization Roles"></p>
<p>Organization roles are assigned when users are invited to the Organization.</p>
<p><img src="../../../images/org-roles.png" alt="Organization Roles"></p>
<p>There are the following roles available in CVAT:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Role</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Owner</strong></td>
<td>The Owner is the person who created the Organization. The Owner role is assigned to the creator of the organization by default. This role has maximum capabilities and cannot be changed or assigned to the other user. <br><br>The Owner has no extra restrictions in the organization and is only limited by the chosen organization plan (see <a href="https://www.cvat.ai/pricing/cloud">Free and Team</a> plans). <br><br>Owners can invite other users to the Organization and assign roles to the invited users so the team can collaborate.</td>
</tr>
<tr>
<td><strong>Maintainer</strong></td>
<td>The maintainer is the person who can invite users to organization, create and update tasks and jobs, and see all tasks within the organization. Maintainer has complete access to Cloud Storages, and the ability to modify members and their roles.</td>
</tr>
<tr>
<td><strong>Supervisor</strong></td>
<td>The supervisor is a manager role. Supervisor can create and assign jobs, tasks, and projects to the Organization members. Supervisor cannot invite new members and modify members roles.</td>
</tr>
<tr>
<td><strong>Worker</strong></td>
<td>Workers&rsquo; primary focus is actual annotation and reviews. They are limited to specific functionalities and has access only to the jobs assigned to them.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h2 id="job-stage">Job Stage</h2>
<p>Job <strong>Stage</strong> can be assigned to any team member.</p>
<p><strong>Stages</strong> are not roles.</p>
<p>Jobs can have an assigned user (with any role) and that <strong>Assignee</strong>
will perform a <strong>Stage</strong> specific work which is to annotate,
validate, or accept the job.</p>
<p><img src="../../../images/job-stage.png" alt="Job stage"></p>
<p>Job <strong>Stage</strong> can be:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Stage</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Annotation</strong></td>
<td>Provides access to annotation tools. Assignees will be able to see their assigned jobs and annotate them. By default, assignees with the <strong>Annotation</strong> stage cannot report annotation errors or issues.</td>
</tr>
<tr>
<td><strong>Validation</strong></td>
<td>Grants access to QA tools. Assignees will see their assigned jobs and can validate them while also reporting issues. By default, assignees with the <strong>Validation</strong> stage cannot correct errors or annotate datasets.</td>
</tr>
<tr>
<td><strong>Acceptance</strong></td>
<td>Does not grant any additional access or change the annotator’s interface. It just marks the job as done.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<p>Any <strong>Assignee</strong> can modify their assigned <strong>Stage</strong> specific
functions via the annotation interface toolbar:</p>
<p><img src="../../../images/change-stage.png" alt="Job stage change"></p>
<ul>
<li><strong>Standard</strong>: switches interface to <strong>Annotation</strong> mode.</li>
<li><strong>Review</strong>: switches interface to the <strong>Validation</strong> mode.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-588e4c6ed67ac064499157f92893ddc2">2.6 - Track mode (advanced)</h1>
    <div class="lead">Advanced operations available during annotation in track mode.</div>
	<p>Basic operations in the mode were described in section <a href="../../../docs/manual/basics/track-mode-basics/">track mode (basics)</a>.</p>
<p>Shapes that were created in the track mode, have extra navigation buttons.</p>
<ul>
<li>
<p>These buttons help to jump to the previous/next keyframe.</p>
<p><img src="../../../images/image056.jpg" alt=""></p>
</li>
<li>
<p>The button helps to jump to the initial frame and to the last keyframe.</p>
<p><img src="../../../images/image057.jpg" alt=""></p>
</li>
</ul>
<p>You can use the <code>Split</code> function to split one track into two tracks:</p>
<p><img src="../../../images/gif010_detrac.gif" alt=""></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d340565087e0f9cbfaf6ccd6219466d5">2.7 - 3D Object annotation (advanced)</h1>
    <div class="lead">Overview of advanced operations available when annotating 3D objects.</div>
	<p>As well as 2D-task objects, 3D-task objects support the ability to change appearance, attributes,
properties and have an action menu. Read more in <a href="../../../docs/manual/basics/objects-sidebar/">objects sidebar</a> section.</p>
<h2 id="moving-an-object">Moving an object</h2>
<p>If you hover the cursor over a cuboid and press <code>Shift+N</code>, the cuboid will be cut,
so you can paste it in other place (double-click to paste the cuboid).</p>
<h2 id="copying">Copying</h2>
<p>As well as in 2D task you can copy and paste objects by <code>Ctrl+C</code> and <code>Ctrl+V</code>,
but unlike 2D tasks you have to place a copied object in a 3D space (double click to paste).</p>
<p><img src="../../../images/gif030_carla_town3.gif" alt=""></p>
<h2 id="image-of-the-projection-window">Image of the projection window</h2>
<p>You can copy or save the projection-window image by left-clicking on it and selecting a &ldquo;save image as&rdquo; or &ldquo;copy image&rdquo;.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-09ca69c0dc37771f108831f0a42fb850">2.8 - Attribute annotation mode (advanced)</h1>
    <div class="lead">Advanced operations available in attribute annotation mode.</div>
	<p>Basic operations in the mode were described in section <a href="../../../docs/manual/basics/attribute-annotation-mode-basics/">attribute annotation mode (basics)</a>.</p>
<p>It is possible to handle lots of objects on the same frame in the mode.</p>
<p><img src="../../../images/image058_detrac.jpg" alt=""></p>
<p>It is more convenient to annotate objects of the same type. In this case you can apply
the appropriate filter. For example, the following filter will
hide all objects except person: <code>label==&quot;Person&quot;</code>.</p>
<p>To navigate between objects (person in this case),
use the following buttons <code>switch between objects in the frame</code> on the special panel:</p>
<p><img src="../../../images/image026.jpg" alt=""></p>
<p>or shortcuts:</p>
<ul>
<li><code>Tab</code> — go to the next object</li>
<li><code>Shift+Tab</code> — go to the previous object.</li>
</ul>
<p>In order to change the zoom level, go to settings (press <code>F3</code>)
in the workspace tab and set the value Attribute annotation mode (AAM) zoom margin in px.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0505481bada8bf732f0c73313438c36c">2.9 - Annotation with rectangles</h1>
    
	<p>To learn more about annotation using a rectangle, see the sections:</p>
<ul>
<li><a href="../../../docs/manual/basics/shape-mode-basics/">Shape mode (basics)</a></li>
<li><a href="../../../docs/manual/basics/track-mode-basics/">Track mode (basics)</a></li>
<li><a href="../../../docs/manual/advanced/shape-mode-advanced/">Shape mode (advanced)</a></li>
<li><a href="../../../docs/manual/advanced/track-mode-advanced/">Track mode (advanced)</a></li>
</ul>
<h2 id="rotation-rectangle">Rotation rectangle</h2>
<p>To rotate the rectangle, pull on the <code>rotation point</code>. Rotation is done around the center of the rectangle.
To rotate at a fixed angle (multiple of 15 degrees),
hold <code>shift</code>. In the process of rotation, you can see the angle of rotation.</p>
<p><img src="../../../images/image230.jpg" alt=""></p>
<h2 id="annotation-with-rectangle-by-4-points">Annotation with rectangle by 4 points</h2>
<p>It is an efficient method of bounding box annotation, proposed
<a href="https://arxiv.org/pdf/1708.02750.pdf">here</a>.
Before starting, you need to make sure that the drawing method by 4 points is selected.</p>
<p><img src="../../../images/image134.jpg" alt=""></p>
<p>Press <code>Shape</code> or <code>Track</code> for entering drawing mode. Click on four extreme points:
the top, bottom, left- and right-most physical points on the object.
Drawing will be automatically completed right after clicking the fourth point.
Press <code>Esc</code> to cancel editing.</p>
<p><img src="../../../images/gif016_mapillary_vistas.gif" alt=""></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c5fa63295c9b67cd2ae59ac351ccb7f6">2.10 - Annotation with polygons</h1>
    <div class="lead">Guide to creating and editing polygons.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-4d4bf5bacfbd5eb9dcef94a38c91930f">2.10.1 - Manual drawing</h1>
    
	<p>It is used for semantic / instance segmentation.</p>
<p>Before starting, you need to select <code>Polygon</code> on the controls sidebar and choose the correct Label.</p>
<p><img src="../../../images/image084.jpg" alt=""></p>
<ul>
<li>Click <code>Shape</code> to enter drawing mode.
There are two ways to draw a polygon: either create points by clicking or
by dragging the mouse on the screen while holding <code>Shift</code>.</li>
</ul>
<table>
<thead>
<tr>
<th>Clicking points</th>
<th>Holding Shift+Dragging</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="../../../images/gif005_detrac.gif" alt=""></td>
<td><img src="../../../images/gif006_detrac.gif" alt=""></td>
</tr>
</tbody>
</table>
<ul>
<li>When <code>Shift</code> isn&rsquo;t pressed, you can zoom in/out (when scrolling the mouse
wheel) and move (when clicking the mouse wheel and moving the mouse), you can also
delete the previous point by right-clicking on it.</li>
<li>You can use the <code>Selected opacity</code> slider in the <code>Objects sidebar</code> to change the opacity of the polygon.
You can read more in the <a href="../../../docs/manual/basics/objects-sidebar/#appearance">Objects sidebar</a> section.</li>
<li>Press <code>N</code> again or click the <code>Done</code> button on the top panel for completing the shape.</li>
<li>After creating the polygon, you can move the points or delete them by right-clicking and selecting <code>Delete point</code>
or clicking with pressed <code>Alt</code> key in the context menu.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-49a42ac9fb14c261fcb4d6df121ec6b5">2.10.2 - Drawing using automatic borders</h1>
    
	<p><img src="../../../images/gif025_mapillary_vistas.gif" alt=""></p>
<p>You can use auto borders when drawing a polygon. Using automatic borders allows you to automatically trace
the outline of polygons existing in the annotation.</p>
<ul>
<li>
<p>To do this, go to settings -&gt; workspace tab and enable <code>Automatic Bordering</code>
or press <code>Ctrl</code> while drawing a polygon.</p>
<p><img src="../../../images/image161.jpg" alt=""></p>
</li>
<li>
<p>Start drawing / editing a polygon.</p>
</li>
<li>
<p>Points of other shapes will be highlighted, which means that the polygon can be attached to them.</p>
</li>
<li>
<p>Define the part of the polygon path that you want to repeat.</p>
<p><img src="../../../images/image157_mapillary_vistas.jpg" alt=""></p>
</li>
<li>
<p>Click on the first point of the contour part.</p>
<p><img src="../../../images/image158_mapillary_vistas.jpg" alt=""></p>
</li>
<li>
<p>Then click on any point located on part of the path. The selected point will be highlighted in purple.</p>
<p><img src="../../../images/image159_mapillary_vistas.jpg" alt=""></p>
</li>
<li>
<p>Click on the last point and the outline to this point will be built automatically.</p>
<p><img src="../../../images/image160_mapillary_vistas.jpg" alt=""></p>
</li>
</ul>
<p>Besides, you can set a fixed number of points in the <code>Number of points</code> field, then
drawing will be stopped automatically. To enable dragging you should right-click
inside the polygon and choose <code>Switch pinned property</code>.</p>
<p>Below you can see results with opacity and black stroke:</p>
<p><img src="../../../images/image064_mapillary_vistas.jpg" alt=""></p>
<p>If you need to annotate small objects, increase <code>Image Quality</code> to
<code>95</code> in <code>Create task</code> dialog for your convenience.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f59490f3517703af487d1db1d573c2cf">2.10.3 - Edit polygon</h1>
    
	<p>To edit a polygon you have to click on it while holding <code>Shift</code>, it will open the polygon editor.</p>
<ul>
<li>
<p>In the editor you can create new points or delete part of a polygon by closing the line on another point.</p>
</li>
<li>
<p>When <code>Intelligent polygon cropping</code> option is activated in the settings,
CVAT considers two criteria to decide which part of a polygon should be cut off during automatic editing.</p>
<ul>
<li>The first criteria is a number of cut points.</li>
<li>The second criteria is a length of a cut curve.</li>
</ul>
<p>If both criteria recommend to cut the same part, algorithm works automatically,
and if not, a user has to make the decision.
If you want to choose manually which part of a polygon should be cut off,
disable <code>Intelligent polygon cropping</code> in the settings.
In this case after closing the polygon, you can select the part of the polygon you want to leave.</p>
<p><img src="../../../images/image209.jpg" alt=""></p>
</li>
<li>
<p>You can press <code>Esc</code> to cancel editing.</p>
<p><img src="../../../images/gif007_mapillary_vistas.gif" alt=""></p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1f4fe1a1fe6fe79b065945412ca4d774">2.10.4 - Track mode with polygons</h1>
    
	<p>Polygons in the track mode allow you to mark moving objects more accurately other than using a rectangle
(<a href="../../../docs/manual/basics/track-mode-basics/">Tracking mode (basic)</a>; <a href="../../../docs/manual/advanced/track-mode-advanced/">Tracking mode (advanced)</a>).</p>
<ol>
<li>
<p>To create a polygon in the track mode, click the <code>Track</code> button.</p>
<p><img src="../../../images/image184.jpg" alt=""></p>
</li>
<li>
<p>Create a polygon the same way as in the case of <a href="../../../docs/manual/advanced/annotation-with-polygons/">Annotation with polygons</a>.
Press <code>N</code> or click the <code>Done</code> button on the top panel to complete the polygon.</p>
</li>
<li>
<p>Pay attention to the fact that the created polygon has a starting point and a direction,
these elements are important for annotation of the following frames.</p>
</li>
<li>
<p>After going a few frames forward press <code>Shift+N</code>, the old polygon will disappear and you can create a new polygon.
The new starting point should match the starting point of the previously created polygon
(in this example, the top of the left mirror). The direction must also match (in this example, clockwise).
After creating the polygon, press <code>N</code> and the intermediate frames will be interpolated automatically.</p>
<p><img src="../../../images/image185_detrac.jpg" alt=""></p>
</li>
<li>
<p>If you need to change the starting point, right-click on the desired point and select <code>Set starting point</code>.
To change the direction, right-click on the desired point and select switch orientation.</p>
<p><img src="../../../images/image186_detrac.jpg" alt=""></p>
</li>
</ol>
<p>There is no need to redraw the polygon every time using <code>Shift+N</code>,
instead you can simply move the points or edit a part of the polygon by pressing <code>Shift+Click</code>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c692762faa73de2bce0ebde15b8e137b">2.10.5 - Creating masks</h1>
    
	<h3 id="cutting-holes-in-polygons">Cutting holes in polygons</h3>
<p>Currently, CVAT does not support cutting transparent holes in polygons. However,
it is poissble to generate holes in exported instance and class masks.
To do this, one needs to define a background class in the task and draw holes
with it as additional shapes above the shapes needed to have holes:</p>
<p>The editor window:</p>
<p><img src="../../../images/mask_export_example1_editor.png" alt="The editor"></p>
<p>Remember to use z-axis ordering for shapes by [-] and [+, =] keys.</p>
<p>Exported masks:</p>
<p><img src="../../../images/mask_export_example1_cls_mask.png" alt="A class mask">  <img src="../../../images/mask_export_example1_inst_mask.png" alt="An instance mask"></p>
<p>Notice that it is currently impossible to have a single instance number for
internal shapes (they will be merged into the largest one and then covered by
&ldquo;holes&rdquo;).</p>
<h3 id="creating-masks">Creating masks</h3>
<p>There are several formats in CVAT that can be used to export masks:</p>
<ul>
<li><code>Segmentation Mask</code> (PASCAL VOC masks)</li>
<li><code>CamVid</code></li>
<li><code>MOTS</code></li>
<li><code>ICDAR</code></li>
<li><code>COCO</code> (RLE-encoded instance masks, <a href="../../../docs/manual/advanced/formats/format-coco">guide</a>)</li>
<li><code>Datumaro</code></li>
</ul>
<p>An example of exported masks (in the <code>Segmentation Mask</code> format):</p>
<p><img src="../../../images/exported_cls_masks_example.png" alt="A class mask"> <img src="../../../images/exported_inst_masks_example.png" alt="An instance mask"></p>
<p>Important notices:</p>
<ul>
<li>Both boxes and polygons are converted into masks</li>
<li>Grouped objects are considered as a single instance and exported as a single
mask (label and attributes are taken from the largest object in the group)</li>
</ul>
<h4 id="class-colors">Class colors</h4>
<p>All the labels have associated colors, which are used in the generated masks.
These colors can be changed in the task label properties:</p>
<p><img src="../../../images/label_color_picker.jpg" alt=""></p>
<p>Label colors are also displayed in the annotation window on the right panel,
where you can show or hide specific labels
(only the presented labels are displayed):</p>
<p><img src="../../../images/label_panel_anno_window.jpg" alt=""></p>
<p>A background class can be:</p>
<ul>
<li>A default class, which is implicitly-added, of black color (RGB 0, 0, 0)</li>
<li><code>background</code> class with any color (has a priority, name is case-insensitive)</li>
<li>Any class of black color (RGB 0, 0, 0)</li>
</ul>
<p>To change background color in generated masks (default is black),
change <code>background</code> class color to the desired one.</p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6b3f1429846a7f18d172169ce5fe900b">2.11 - Annotation with polylines</h1>
    <div class="lead">Guide to annotating tasks using polylines.</div>
	<p>It is used for road markup annotation etc.</p>
<p>Before starting, you need to select the <code>Polyline</code>. You can set a fixed number of points
in the <code>Number of points</code> field, then drawing will be stopped automatically.</p>
<p><img src="../../../images/image085.jpg" alt=""></p>
<p>Click <code>Shape</code> to enter drawing mode. There are two ways to draw a polyline —
you either create points by clicking or by dragging a mouse on the screen while holding <code>Shift</code>.
When <code>Shift</code> isn&rsquo;t pressed, you can zoom in/out (when scrolling the mouse wheel)
and move (when clicking the mouse wheel and moving the mouse), you can delete
previous points by right-clicking on it.
Press <code>N</code> again or click the <code>Done</code> button on the top panel to complete the shape.
You can delete a point by clicking on it with pressed <code>Ctrl</code> or right-clicking on a point
and selecting <code>Delete point</code>. Click with pressed <code>Shift</code> will open a polyline editor.
There you can create new points(by clicking or dragging) or delete part of a polygon closing
the red line on another point. Press <code>Esc</code> to cancel editing.</p>
<p><img src="../../../images/image039_mapillary_vistas.jpg" alt=""></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-cec0435c8a22adeb069ae65e703e55b4">2.12 - Annotation with points</h1>
    <div class="lead">Guide to annotating tasks using single points or shapes containing multiple points.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-73dd0aab0c51b42d098e1dd25f9e34d8">2.12.1 - Points in shape mode</h1>
    
	<p>It is used for face, landmarks annotation etc.</p>
<p>Before you start you need to select the <code>Points</code>. If necessary you can set a fixed number of points
in the <code>Number of points</code> field, then drawing will be stopped automatically.</p>
<p><img src="../../../images/image042.jpg" alt=""></p>
<p>Click <code>Shape</code> to entering the drawing mode. Now you can start annotation of the necessary area.
Points are automatically grouped — all points will be considered linked between each start and finish.
Press <code>N</code> again or click the <code>Done</code> button on the top panel to finish marking the area.
You can delete a point by clicking with pressed <code>Ctrl</code> or right-clicking on a point and selecting <code>Delete point</code>.
Clicking with pressed <code>Shift</code> will open the points shape editor.
There you can add new points into an existing shape. You can zoom in/out (when scrolling the mouse wheel)
and move (when clicking the mouse wheel and moving the mouse) while drawing. You can drag an object after
it has been drawn and change the position of individual points after finishing an object.</p>
<p><img src="../../../images/image063_affectnet.jpg" alt=""></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-926b5bce12f08790d7354dc3d2253131">2.12.2 - Linear interpolation with one point</h1>
    
	<p>You can use linear interpolation for points to annotate a moving object:</p>
<ol>
<li>
<p>Before you start, select the <code>Points</code>.</p>
</li>
<li>
<p>Linear interpolation works only with one point, so you need to set <code>Number of points</code> to 1.</p>
</li>
<li>
<p>After that select the <code>Track</code>.</p>
<p><img src="../../../images/image122.jpg" alt=""></p>
</li>
<li>
<p>Click <code>Track</code> to enter the drawing mode left-click to create a point
and after that shape will be automatically completed.</p>
<p><img src="../../../images/image163_detrac.jpg" alt=""></p>
</li>
<li>
<p>Move forward a few frames and move the point to the desired position,
this way you will create a keyframe and intermediate frames will be drawn automatically.
You can work with this object as with an interpolated track: you can hide it using the <code>Outside</code>,
move around keyframes, etc.</p>
<p><img src="../../../images/image165_detrac.jpg" alt=""></p>
</li>
<li>
<p>This way you&rsquo;ll get linear interpolation using the <code> Points</code>.</p>
<p><img src="../../../images/gif013_detrac.gif" alt=""></p>
</li>
</ol>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f547c7b1c7e5e385e5c04476a5ec0582">2.13 - Annotation with ellipses</h1>
    <div class="lead">Guide to annotating tasks using ellipses.</div>
	<p>It is used for road sign annotation etc.</p>
<p>First of all you need to select the <code>ellipse</code> on the controls sidebar.</p>
<p><img src="../../../images/image239.jpg" alt=""></p>
<p>Choose a <code>Label</code> and click <code>Shape</code> or <code>Track</code> to start drawing. An ellipse can be created the same way as
a <a href="../../../docs/manual/advanced/annotation-with-rectangles/">rectangle</a>, you need to specify two opposite points,
and the ellipse will be inscribed in an imaginary rectangle. Press <code>N</code> or click the <code>Done</code> button on the top panel
to complete the shape.</p>
<p><img src="../../../images/image240_mapillary_vistas.jpg" alt=""></p>
<p>You can rotate ellipses using a rotation point in the same way as
<a href="../../../docs/manual/advanced/annotation-with-rectangles/#rotation-rectangle">rectangles</a>.</p>
<h2 id="annotation-with-ellipses-video-tutorial">Annotation with ellipses video tutorial</h2>
<!--lint disable maximum-line-length-->
<iframe width="560" height="315" src="https://www.youtube.com/embed/jmwtePYCz94?si=wbfYEX4pzGziXf1Y" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<!--lint enable maximum-line-length-->

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-82dc27f17f28048728c9cc8c6032e5c7">2.14 - Annotation with cuboids</h1>
    <div class="lead">Guide to creating and editing cuboids.</div>
	<p>It is used to annotate 3 dimensional objects such as cars, boxes, etc&hellip;
Currently the feature supports one point perspective and has the constraint
where the vertical edges are exactly parallel to the sides.</p>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-7b24a39d3199ad1d17cd5b25b2ccd305">2.14.1 - Creating the cuboid</h1>
    
	<p>Before you start, you have to make sure that Cuboid is selected
and choose a drawing method ”from rectangle” or “by 4 points”.</p>
<p><img src="../../../images/image091.jpg" alt=""></p>
<h4 id="drawing-cuboid-by-4-points">Drawing cuboid by 4 points</h4>
<p>Choose a drawing method “by 4 points” and click Shape to enter the drawing mode. There are many ways to draw a cuboid.
You can draw the cuboid by placing 4 points, after that the drawing will be completed automatically.
The first 3 points determine the plane of the cuboid while the last point determines the depth of that plane.
For the first 3 points, it is recommended to only draw the 2 closest side faces, as well as the top and bottom face.</p>
<p>A few examples:</p>
<p><img src="../../../images/image177_mapillary_vistas.jpg" alt=""></p>
<h3 id="drawing-cuboid-from-rectangle">Drawing cuboid from rectangle</h3>
<p>Choose a drawing method “from rectangle” and click Shape to enter the drawing mode.
When you draw using the rectangle method, you must select the frontal plane of the object using the bounding box.
The depth and perspective of the resulting cuboid can be edited.</p>
<p>Example:</p>
<p><img src="../../../images/image182_mapillary_vistas.jpg" alt=""></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-03837b9c8c03b964e151f921b8c66118">2.14.2 - Editing the cuboid</h1>
    
	<p><img src="../../../images/image178_mapillary_vistas.jpg" alt=""></p>
<p>The cuboid can be edited in multiple ways: by dragging points, by dragging certain faces or by dragging planes.
First notice that there is a face that is painted with gray lines only, let us call it the front face.</p>
<p>You can move the cuboid by simply dragging the shape behind the front face.
The cuboid can be extended by dragging on the point in the middle of the edges.
The cuboid can also be extended up and down by dragging the point at the vertices.</p>
<p><img src="../../../images/gif017_mapillary_vistas.gif" alt=""></p>
<p>To draw with perspective effects it should be assumed that the front face is the closest to the camera.
To begin simply drag the points on the vertices that are not on the gray/front face while holding <code>Shift</code>.
The cuboid can then be edited as usual.</p>
<p><img src="../../../images/gif018_mapillary_vistas.gif" alt=""></p>
<p>If you wish to reset perspective effects, you may right click on the cuboid,
and select <code>Reset perspective</code> to return to a regular cuboid.</p>
<p><img src="../../../images/image180_mapillary_vistas.jpg" alt=""></p>
<p>The location of the gray face can be swapped with the adjacent visible side face.
You can do it by right clicking on the cuboid and selecting <code>Switch perspective orientation</code>.
Note that this will also reset the perspective effects.</p>
<p><img src="../../../images/image179_mapillary_vistas.jpg" alt=""></p>
<p>Certain faces of the cuboid can also be edited,
these faces are: the left, right and dorsal faces, relative to the gray face.
Simply drag the faces to move them independently from the rest of the cuboid.</p>
<p><img src="../../../images/gif020_mapillary_vistas.gif" alt=""></p>
<p>You can also use cuboids in track mode, similar to rectangles in track mode (<a href="../../../docs/manual/basics/track-mode-basics/">basics</a> and <a href="../../../docs/manual/advanced/track-mode-advanced/">advanced</a>) or <a href="../../../docs/manual/advanced/annotation-with-polygons/track-mode-with-polygons/">Track mode with polygons</a></p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-045378a46b4f497e28bb4d4e20f1ef3c">2.15 - Annotation with skeletons</h1>
    <div class="lead">Guide to annotating tasks using Skeletons</div>
	<p>In this guide, we delve into the efficient process of annotating complex
structures through the implementation of <strong>Skeleton</strong> annotations.</p>
<p><strong>Skeletons</strong> serve as annotation templates
for annotating complex objects with a consistent structure,
such as human pose estimation or facial landmarks.</p>
<p>A <strong>Skeleton</strong> is composed of numerous points (also referred to as elements),
which may be connected by edges. Each point functions as an individual object,
possessing unique attributes and properties like color, occlusion, and visibility.</p>
<p><strong>Skeletons</strong> can be <a href="../../../docs/manual/advanced/formats/"><strong>exported</strong></a>
in two formats: <a href="../../../docs/manual/advanced/formats/format-cvat/#cvat-for-videos-export"><strong>CVAT for image</strong></a>
and <a href="../../../docs/manual/advanced/formats/coco-keypoints/"><strong>COCO Keypoints</strong></a>.</p>
<blockquote>
<p><strong>Note</strong>: that skeletons&rsquo; labels cannot be imported in a label-less project by importing a dataset.
You need to define the labels manually before the import.</p>
</blockquote>
<p>See:</p>
<ul>
<li><a href="#adding-skeleton-manually">Adding Skeleton manually</a>
<ul>
<li><a href="#skeleton-configurator">Skeleton Configurator</a></li>
<li><a href="#configuring-skeleton-points">Configuring Skeleton points</a></li>
<li><a href="#adding-skeleton-labels-manually">Adding Skeleton labels manually</a></li>
</ul>
</li>
<li><a href="#adding-skeleton-labels-from-the-model">Adding Skeleton labels from the model</a></li>
<li><a href="#annotation-with-skeletons">Annotation with Skeletons</a></li>
<li><a href="#automatic-annotation-with-skeletons">Automatic annotation with Skeletons</a></li>
<li><a href="#editing-skeletons-on-the-canvas">Editing skeletons on the canvas</a></li>
<li><a href="#editing-skeletons-on-the-sidebar">Editing skeletons on the sidebar</a></li>
</ul>
<h2 id="adding-skeleton-manually">Adding Skeleton manually</h2>
<p>To start annotating using skeletons, you need to set up a <strong>Skeleton</strong> task
in <strong>Configurator</strong>:</p>
<p>To open <strong>Configurator</strong>, when <a href="../../../docs/manual/basics/create_an_annotation_task/">creating a task</a>,
click on the <strong>Setup skeleton</strong> button if you want to set up the skeleton manually,
or <a href="../../../docs/manual/advanced/skeletons/#adding-skeleton-labels-from-the-model"><strong>From model</strong></a>
if you want to add skeleton labels from a model.</p>
<p><img src="../../../images/image-setup-skeleton-1.jpg" alt=""></p>
<h3 id="skeleton-configurator">Skeleton Configurator</h3>
<p>The skeleton <strong>Configurator</strong> is a tool to build
skeletons for annotation. It has the following fields:</p>
<p><img src="../../../images/image-skeleton-configurator-overview.jpg" alt=""></p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Number</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td><strong>Upload background image</strong></td>
<td>(Optional) Use it to upload a background image, to draw a skeleton on top of it.</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td><strong>Add point</strong></td>
<td>Use it to add Skeleton points to the <strong>Drawing area</strong> (<strong>8</strong>).</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td><strong>Click and drag</strong></td>
<td>Use it to move points across the <strong>Drawing area</strong> (<strong>8</strong>).</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td><strong>Add edge</strong></td>
<td>Use it to add edge on the <strong>Drawing area</strong> (<strong>8</strong>) to connect the points (<strong>2</strong>).</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td><strong>Remove point</strong></td>
<td>Use it to remove points. Click on <strong>Remove point</strong> and then on any point (<strong>2</strong>) on the <strong>Drawing area</strong> (<strong>8</strong>) to delete the point.</td>
</tr>
<tr>
<td><strong>6</strong></td>
<td><strong>Download skeleton</strong></td>
<td>Use it to download created skeleton in .SVG format.</td>
</tr>
<tr>
<td><strong>7</strong></td>
<td><strong>Upload skeleton</strong></td>
<td>Use it to upload skeleton in .SVG format.</td>
</tr>
<tr>
<td><strong>8</strong></td>
<td><strong>Drawing area</strong></td>
<td>Use it as a canvas to draw a skeleton.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h3 id="configuring-skeleton-points">Configuring Skeleton points</h3>
<p>You can name labels, set attributes,
and change the color of each point of the skeleton.</p>
<p>To do this, right-click on the skeleton point and select <strong>Configure</strong>:</p>
<p><img src="../../../images/image-skeleton-drawn-example.jpg" alt=""></p>
<p>In the opened menu, you can change the point setting. It is similar to
<a href="docs/manual/basics/create_an_annotation_task/#create-a-task">adding labels and attributes of the regular task</a>:</p>
<p><img src="../../../images/image-skeleton-point-setup.jpg" alt=""></p>
<p>A <strong>Skeleton</strong> point can only exist within its parent <strong>Skeleton</strong>.</p>
<blockquote>
<p><strong>Note</strong> that you cannot change the skeleton configuration for an existing task/project.</p>
</blockquote>
<blockquote>
<p>You can copy/insert skeleton configuration from the <strong>Raw</strong> tab of the label configurator.</p>
</blockquote>
<h3 id="adding-skeleton-labels-manually">Adding Skeleton labels manually</h3>
<p>To create the <strong>Skeleton</strong> task, do the following:</p>
<ol>
<li>Open <strong>Configurator</strong>.</li>
<li>(Optional) Upload background image.</li>
<li>In the Label name field, enter the name of the label.</li>
<li>(Optional) <a href="../../../docs/manual/basics/create_an_annotation_task/#add-an-attribute"><strong>Add attribute</strong></a>
<br><strong>Note</strong>: you can add attributes exclusively to each point,
for more information, see <a href="#configuring-skeleton-points"><strong>Configuring Skeleton points</strong></a></li>
<li>Use <strong>Add point</strong> to add points to the <strong>Drawing area</strong>.</li>
<li>Use <strong>Add edge</strong> to add edges between points.</li>
<li>Upload files.</li>
<li>Click:
<ul>
<li><strong>Submit &amp; Open</strong> to create and open the task.</li>
<li><strong>Submit &amp; Continue</strong> to submit the configuration and start creating a new task.</li>
</ul>
</li>
</ol>
<h2 id="adding-skeleton-labels-from-the-model">Adding Skeleton labels from the model</h2>
<p>To add points from the model, and annotate do the following:</p>
<ol>
<li>
<p>Open <strong>Basic configurator</strong>.</p>
</li>
<li>
<p>On the <strong>Constructor</strong> tab, click <strong>From model</strong>.</p>
</li>
<li>
<p>From the <strong>Select a model to pick labels</strong> select the
<code>Human pose estimation</code> model or others if available.</p>
</li>
<li>
<p>Click on the model&rsquo;s labels, you want to use.
<br>Selected labels will become gray.</p>
<p><img src="../../../images/auto-annot-sk.jpg" alt=""></p>
</li>
<li>
<p>(Optional) If you want to adjust labels, within the
label, click the <strong>Update</strong> attributes icon.
<br>The <a href="../../../docs/manual/advanced/skeletons/#skeleton-configurator"><strong>Skeleton configurator</strong></a>
will open, where you can <a href="../../../docs/manual/advanced/skeletons/#configuring-skeleton-points"><strong>configure the skeleton</strong></a>.
<br><strong>Note</strong>: Labels cannot be adjusted after the task/project is created.</p>
</li>
<li>
<p>Click <strong>Done</strong>. The labels, that you selected,
will appear in the labels window.</p>
</li>
<li>
<p>Upload data.</p>
</li>
<li>
<p>Click:</p>
<ul>
<li><strong>Submit &amp; Open</strong> to create and open the task.</li>
<li><strong>Submit &amp; Continue</strong> to submit the configuration and start creating a new task.</li>
</ul>
</li>
</ol>
<h2 id="annotation-with-skeletons">Annotation with Skeletons</h2>
<p>To annotate with <strong>Skeleton</strong>, do the following</p>
<ol>
<li>
<p>Open job.</p>
</li>
<li>
<p>On the tools panel select <strong>Draw new skeleton</strong>.</p>
</li>
<li>
<p>Select <strong>Track</strong> or <strong>Shape</strong> to annotate.
without tracking.</p>
<p><img src="../../../images/image-draw-new-skeleton.jpg" alt=""></p>
</li>
<li>
<p>Draw a skeleton on the image.</p>
</li>
</ol>
<p><img src="../../../images/image-draw-new-skeleton.gif" alt=""></p>
<h2 id="automatic-annotation-with-skeletons">Automatic annotation with Skeletons</h2>
<p>To automatically annotate with <strong>Skeleton</strong>, do the following</p>
<ol>
<li>
<p>Open the job and on the tools panel select <strong>AI Tools</strong> &gt; <strong>Detectors</strong></p>
</li>
<li>
<p>From the drop-down list select the model.
You will see a list of points to match and
the name of the skeleton on the top of the list.</p>
<p><img src="../../../images/auto-annot-sk-detectors.jpg" alt=""></p>
</li>
<li>
<p>(Optional) By clicking on the <strong>Bin</strong> icon, you can
remove any mapped item:</p>
<ul>
<li>A skeleton together with all points.</li>
<li>Certain points from two mapped skeletons.</li>
</ul>
</li>
<li>
<p>Click <strong>Annotate</strong>.</p>
</li>
</ol>
<h2 id="editing-skeletons-on-the-canvas">Editing skeletons on the canvas</h2>
<p>A drawn skeleton is encompassed within a bounding box,
it allows you to manipulate the skeleton as a regular bounding box,
enabling actions such as dragging, resizing, or rotating:</p>
<p><img src="../../../images/skeleton_editing_canvas.gif" alt=""></p>
<p>Upon repositioning a point, the bounding box adjusts automatically,
without affecting other points:</p>
<p><img src="../../../images/skeleton_editing_canvas-2.gif" alt=""></p>
<p>Additionally, <strong>Shortcuts</strong> are applicable
to both the skeleton as a whole and its elements:</p>
<ul>
<li>To use a shortcut to the entire skeleton, hover over
the bounding box and push the shortcut keyboard key.
This action is applicable for shortcuts like the lock, occluded,
pinned, keyframe, and outside for skeleton tracks.</li>
<li>To use a shortcut to a specific skeleton point, hover over the
point and push the shortcut keyboard key.
The same list of shortcuts is available, with the addition of outside,
which is also applicable to individual skeleton shape elements.</li>
</ul>
<h2 id="editing-skeletons-on-the-sidebar">Editing skeletons on the sidebar</h2>
<p>In CVAT, the sidebar offers an alternative method for setting
up skeleton properties and attributes.</p>
<p>This approach is similar to that used for other
object types supported by CVAT, but with a few specific alterations:</p>
<p>An additional collapsible section is provided for
users to view a comprehensive list of skeleton parts.</p>
<div style="display: flex; align-items: flex-start;">
    <img src="../../../images/image-skeleton-track-sidebar.jpg" width="300px" />
    <img src="../../../images/image-skeleton-shape-sidebar.jpg" width="300px" />
</div>
<p>Skeleton points can have properties like <strong>Outside</strong>, <strong>Occluded</strong>, and <strong>Hidden</strong>.</p>
<p><img src="../../../images/point-properties.jpg" alt=""></p>
<p>Both <strong>Outside</strong> and <strong>Hidden</strong> make a skeleton point invisible.</p>
<ul>
<li>
<p><strong>Outside</strong> property is part of annotations.
Use it when part of the object is out of frame borders.</p>
</li>
<li>
<p><strong>Hidden</strong> makes a point hidden only for the annotator&rsquo;s
convenience, this property will not be saved between different sessions.</p>
</li>
<li>
<p><strong>Occluded</strong> keeps the point visible on the frame and usually
means that the point is still on a frame, just hidden behind another object.</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-323f715de86e05c896a98e74d23e3705">2.16 - Annotation with brush tool</h1>
    <div class="lead">Guide to annotating tasks using brush tools.</div>
	<p>With a brush tool, you can create masks for disjoint objects, that have multiple parts,
such as a house hiding behind trees, a car behind a pedestrian, or a pillar behind a
traffic sign.
The brush tool has several modes, for example: erase pixels, change brush shapes, and polygon-to-mask mode.</p>
<p>Use brush tool for Semantic (Panoptic) and Instance Image Segmentation tasks. <br>For more information about segmentation masks in CVAT, see <a href="../../../docs/manual/advanced/annotation-with-polygons/creating-mask/">Creating masks</a>.</p>
<p>See:</p>
<ul>
<li><a href="#brush-tool-menu">Brush tool menu</a></li>
<li><a href="#annotation-with-brush">Annotation with brush</a></li>
<li><a href="#annotation-with-polygon-to-mask">Annotation with polygon-to-mask</a></li>
<li><a href="#remove-underlying-pixels">Remove underlying pixels</a></li>
<li><a href="#ai-tools">AI Tools</a></li>
<li><a href="#import-and-export">Import and export</a></li>
</ul>
<h2 id="brush-tool-menu">Brush tool menu</h2>
<p>The brush tool menu appears on the top of the screen after you click <strong>Shape</strong>:</p>
<p><img src="../../../images/brushing_tool_menu.png" alt="BT Menu"></p>
<p>It has the following elements:</p>
<table>
<thead>
<tr>
<th>Element</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="../../../images/tick_icon.png" alt="Tick icon"></td>
<td><strong>Save mask</strong> saves the created  mask. The saved mask will appear on the object sidebar</td>
</tr>
<tr>
<td><img src="../../../images/brushing_tools_add_label.png" alt="Save mask and continue"></td>
<td><strong>Save mask and continue</strong> adds a new mask to the object sidebar and allows you to draw a new one immediately.</td>
</tr>
<tr>
<td><img src="../../../images/brushing_tools_icon.png" alt="Brush"></td>
<td><strong>Brush</strong>  adds new mask/ new regions to the previously added mask).</td>
</tr>
<tr>
<td><img src="../../../images/brushing_tools_erase.png" alt="Eraser"></td>
<td><strong>Eraser</strong> removes part of the mask.</td>
</tr>
<tr>
<td><img src="../../../images/brushing_tools_add_poly.png" alt="Add poly"></td>
<td><strong>Polygon</strong>  selection tool. Selection will become a mask.</td>
</tr>
<tr>
<td><img src="../../../images/brushing_tools_remove_poly.png" alt="Remove poly"></td>
<td><strong>Remove polygon selection</strong> subtracts part of the polygon selection.</td>
</tr>
<tr>
<td><img src="../../../images/brushing_tools_brush_size.png" alt="Brush size"></td>
<td><strong>Brush size</strong> in pixels. <br><strong>Note:</strong> Visible only when <strong>Brush</strong> or <strong>Eraser</strong> are selected.</td>
</tr>
<tr>
<td><img src="../../../images/brushing_tools_brush_shape.png" alt="Brush shape"></td>
<td><strong>Brush shape</strong> with two options: circle and square. <br><strong>Note:</strong> Visible only when <strong>Brush</strong> or <strong>Eraser</strong> are selected.</td>
</tr>
<tr>
<td><img src="../../../images/brushing_tools_pixels.png" alt="Pixel remove"></td>
<td><strong>Remove underlying pixels</strong>. When you are drawing or editing a mask with this tool, <br>pixels on other masks that are located at the same positions as the pixels of the <br>current mask are deleted.</td>
</tr>
<tr>
<td><img src="../../../images/brushing_tools_label_drop.png" alt="Label"></td>
<td><strong>Label</strong> that will be assigned to the newly created mask</td>
</tr>
<tr>
<td><img src="../../../images/brushing_tools_brush_move.png" alt="Move"></td>
<td><strong>Move</strong>. Click and hold to move the menu bar to the other place on the screen</td>
</tr>
</tbody>
</table>
<h2 id="annotation-with-brush">Annotation with brush</h2>
<p>To annotate with brush, do the following:</p>
<ol>
<li>
<p>From the <a href="../../../docs/manual/basics/controls-sidebar/">controls sidebar</a>, select <strong>Brush</strong> <img src="../../../images/brushing_tools_icon.png" alt="Brush icon">.</p>
</li>
<li>
<p>In the <strong>Draw new mask</strong> menu, select label for your mask, and click <strong>Shape</strong>. <br>The <strong>Brush</strong><img src="../../../images/brushing_tools_icon.png" alt="Brush"> tool will be selected by default.</p>
<p><img src="../../../images/brushing_tools_context_menu.png" alt="BT context menu"></p>
</li>
<li>
<p>With the brush, draw a mask on the object you want to label. <br>To erase selection, use <strong>Eraser</strong> <img src="../../../images/brushing_tools_erase.png" alt="Eraser"></p>
<p><img src="../../../images/brushing_tools.gif" alt="Brushing"></p>
</li>
<li>
<p>After you applied the mask, on the top menu bar click <strong>Save mask</strong> <img src="../../../images/tick_icon.png" alt="Tick icon"> <br>to finish the process (or <strong>N</strong> on the keyboard).</p>
</li>
<li>
<p>Added object will appear on the <a href="../../../docs/manual/basics/objects-sidebar/">objects sidebar</a>.</p>
</li>
</ol>
<p>To add the next object, repeat steps 1 to 5.
All added objects will be visible on the image and the  <a href="../../../docs/manual/basics/objects-sidebar/">objects sidebar</a>.</p>
<p>To save the job with all added objects, on the top menu click <strong>Save</strong> <img src="../../../images/brushing_tools_save.png" alt="Save">.</p>
<h2 id="annotation-with-polygon-to-mask">Annotation with polygon-to-mask</h2>
<p>To annotate with polygon-to-mask, do the following:</p>
<ol>
<li>
<p>From the <a href="../../../docs/manual/basics/controls-sidebar/">controls sidebar</a>, select <strong>Brush</strong> <img src="../../../images/brushing_tools_icon.png" alt="Brush icon">.</p>
</li>
<li>
<p>In the <strong>Draw new mask</strong> menu, select label for your mask, and click <strong>Shape</strong>.</p>
<p><img src="../../../images/brushing_tools_context_menu.png" alt="BT context menu"></p>
</li>
<li>
<p>In the brush tool menu, select <strong>Polygon</strong> <img src="../../../images/brushing_tools_add_poly.png" alt="Add poly">.</p>
</li>
<li>
<p>With the <strong>Polygon</strong><img src="../../../images/brushing_tools_add_poly.png" alt="Add poly"> tool, draw a mask for the object you want to label. <br>To correct selection, use <strong>Remove polygon selection</strong> <img src="../../../images/brushing_tools_remove_poly.png" alt="Remove poly">.</p>
</li>
<li>
<p>Use <strong>Save mask</strong> <img src="../../../images/tick_icon.png" alt="Tick icon"> (or <strong>N</strong> on the keyboard) <br>to switch between add/remove polygon tools:</p>
<p><img src="../../../images/brushing_tools_polygon.gif" alt="Brushing"></p>
</li>
<li>
<p>After you added the polygon selection, on the top menu bar click <strong>Save mask</strong> <img src="../../../images/tick_icon.png" alt="Tick icon"> <br>to finish the process (or <strong>N</strong> on the keyboard).</p>
</li>
<li>
<p>Click <strong>Save mask</strong> <img src="../../../images/tick_icon.png" alt="Tick icon"> again (or <strong>N</strong> on the keyboard). <br>The added object will appear on the <a href="../../../docs/manual/basics/objects-sidebar/">objects sidebar</a>.</p>
</li>
</ol>
<p>To add the next object, repeat steps 1 to 5.</p>
<p>All added objects will be visible on the image and the  <a href="../../../docs/manual/basics/objects-sidebar/">objects sidebar</a>.</p>
<p>To save the job with all added objects, on the top menu click <strong>Save</strong> <img src="../../../images/brushing_tools_save.png" alt="Save">.</p>
<h2 id="remove-underlying-pixels">Remove underlying pixels</h2>
<p>Use <strong>Remove underlying pixels</strong> tool when you want to add a mask and simultaneously delete the pixels of <br>other masks that are located at the same positions. It is a highly useful feature to avoid meticulous drawing edges twice between two different objects.</p>
<p><img src="../../../images/brushing_tools_pixel_underlying.gif" alt="Remove pixel"></p>
<h2 id="ai-tools">AI Tools</h2>
<p>You can convert <a href="../../../docs/manual/advanced/ai-tools/">AI tool</a> masks to polygons.
To do this, use the following <a href="../../../docs/manual/advanced/ai-tools/">AI tool</a> menu:</p>
<p><img src="../../../images/brushing_tool_ai.jpg" alt="Save"></p>
<ol>
<li>Go to the <strong>Detectors</strong> tab.</li>
<li>Switch toggle <strong>Masks to polygons</strong> to the right.</li>
<li>Add source and destination labels from the drop-down lists.</li>
<li>Click <strong>Annotate</strong>.</li>
</ol>
<h2 id="import-and-export">Import and export</h2>
<p>For export, see <a href="../../../docs/manual/advanced/export-import-datasets/">Export dataset</a></p>
<p>Import follows the general <a href="../../../docs/manual/advanced/export-import-datasets/">import dataset</a> procedure,
with the additional option of converting masks to polygons.</p>
<blockquote>
<p><strong>Note:</strong> This option is available for formats that work with masks only.</p>
</blockquote>
<p>To use it, when uploading the dataset, switch the <strong>Convert masks to polygon</strong> toggle to the right:</p>
<p><img src="../../../images/brushing_tools_import.png" alt="Remove pixel"></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2956283d6b6c8c0e6edfed34d5caee42">2.17 - Annotation with tags</h1>
    
	<p>It is used to annotate frames, tags are not displayed in the workspace.
Before you start, open the drop-down list in the top panel and select <code>Tag annotation</code>.</p>
<p><img src="../../../images/image183.jpg" alt=""></p>
<p>The objects sidebar will be replaced with a special panel for working with tags.
Here you can select a label for a tag and add it by clicking on the <code>Plus</code> button.
You can also customize hotkeys for each label.</p>
<p><img src="../../../images/image181.jpg" alt=""></p>
<p>If you need to use only one label for one frame, then enable the <code>Automatically go to the next frame</code>
checkbox, then after you add the tag the frame will automatically switch to the next.</p>
<p>Tags will be shown in the top left corner of the canvas. You can show/hide them in the settings.</p>
<p><img src="../../../images/image249.jpg" alt=""></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3faa555d05f5bd038991ddb04ce3064f">2.18 - Models</h1>
    
	<p>To deploy the models, you will need to install the necessary components using
<a href="../../../docs/administration/advanced/installation_automatic_annotation/">Semi-automatic and Automatic Annotation guide</a>.
To learn how to deploy the model, read <a href="../../../docs/manual/advanced/serverless-tutorial/">Serverless tutorial</a>.</p>
<p>The Models page contains a list of deep learning (DL) models deployed for semi-automatic and automatic annotation.
To open the Models page, click the Models button on the navigation bar.
The list of models is presented in the form of a table. The parameters indicated for each model are the following:</p>
<ul>
<li><code>Framework</code> the model is based on</li>
<li>model <code>Name</code></li>
<li>model <code>Type</code>:
<ul>
<li><code>detector</code> - used for automatic annotation (available in <a href="../../../docs/manual/advanced/ai-tools/#detectors">detectors</a>
and <a href="../../../docs/manual/advanced/automatic-annotation/">automatic annotation</a>)</li>
<li><code>interactor</code> - used for semi-automatic shape annotation (available in <a href="../../../docs/manual/advanced/ai-tools/#interactors">interactors</a>)</li>
<li><code>tracker</code> - used for semi-automatic track annotation (available in <a href="../../../docs/manual/advanced/ai-tools/#trackers">trackers</a>)</li>
<li><code>reid</code> - used to combine individual objects into a track (available in <a href="../../../docs/manual/advanced/automatic-annotation/">automatic annotation</a>)</li>
</ul>
</li>
<li><code>Description</code> - brief description of the model</li>
<li><code>Labels</code> - list of the supported labels (only for the models of the <code>detectors</code> type)</li>
</ul>
<p><img src="../../../images/image099.jpg" alt=""></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-da1913608df2502a9fa5f15690847249">2.19 - CVAT Analytics and QA in Cloud</h1>
    <div class="lead">Analytics and quality assessment in CVAT Cloud</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-216fb61fb3c583cf905606b6bb2cef90">2.19.1 - Automated QA, Review &amp; Honeypot</h1>
    <div class="lead">Guidelines for assessing annotation quality in CVAT automatically</div>
	<p>In CVAT, it&rsquo;s possible to evaluate the quality of annotation through
the creation of a <strong>Ground truth</strong> job, referred to as a Honeypot.
To estimate the task quality, CVAT compares all other jobs in the task against the
established <strong>Ground truth</strong> job, and calculates annotation quality
based on this comparison.</p>
<blockquote>
<p><strong>Note</strong> that quality estimation only supports
2d tasks. It supports all the annotation types except 2d cuboids.</p>
</blockquote>
<blockquote>
<p><strong>Note</strong> that tracks are considered separate shapes
and compared on a per-frame basis with other tracks and shapes.</p>
</blockquote>
<p>See:</p>
<ul>
<li><a href="#ground-truth-job">Ground truth job</a></li>
<li><a href="#managing-ground-truth-jobs-import-export-and-deletion">Managing Ground Truth jobs: Import, Export, and Deletion</a>
<ul>
<li><a href="#import">Import</a></li>
<li><a href="#export">Export</a></li>
<li><a href="#delete">Delete</a></li>
</ul>
</li>
<li><a href="#assessing-data-quality-with-ground-truth-jobs">Assessing data quality with Ground truth jobs</a>
<ul>
<li><a href="#quality-data">Quality data</a></li>
<li><a href="#annotation-quality-settings">Annotation quality settings</a></li>
<li><a href="#gt-conflicts-in-the-cvat-interface">GT conflicts in the CVAT interface</a></li>
</ul>
</li>
<li><a href="#annotation-quality--honeypot-video-tutorial">Annotation quality &amp; Honeypot video tutorial</a></li>
</ul>
<h2 id="ground-truth-job">Ground truth job</h2>
<p>A <strong>Ground truth</strong> job is a way to tell CVAT where to store
and get the &ldquo;correct&rdquo; annotations for task quality estimation.</p>
<p>To estimate task quality, you need to
create a <strong>Ground truth</strong> job in the task,
and annotate it. You don’t need to
annotate the whole dataset twice,
the annotation quality of a small part of
the data shows the quality of annotation for
the whole dataset.</p>
<p>For the quality assurance to function correctly, the <strong>Ground truth</strong> job must
have a small portion of the task frames and the frames must be chosen randomly.
Depending on the dataset size and task complexity,
<strong>5-15% of the data is typically good enough</strong> for quality estimation,
while keeping extra annotation overhead acceptable.</p>
<p>For example, in a typical <strong>task with 2000 frames</strong>, selecting <strong>just 5%</strong>,
which is 100 extra frames to annotate, <strong>is enough</strong> to estimate the
annotation quality. If the task contains <strong>only 30 frames</strong>, it&rsquo;s advisable to
select <strong>8-10 frames</strong>, which is <strong>about 30%</strong>.</p>
<p>It is more than 15% but in the case of smaller datasets,
we need more samples to estimate quality reliably.</p>
<p>To create a <strong>Ground truth</strong> job, do the following:</p>
<ol>
<li>
<p>Create a <a href="../../../docs/manual/basics/create_an_annotation_task/">task</a>, and open the task page.</p>
</li>
<li>
<p>Click <strong>+</strong>.</p>
<p><img src="../../../images/honeypot01.jpg" alt="Create job"></p>
</li>
<li>
<p>In the <strong>Add new job</strong> window, fill in the following fields:</p>
<p><img src="../../../images/honeypot02.jpg" alt="Add new job"></p>
<ul>
<li><strong>Job type</strong>: Use the default parameter <strong>Ground truth</strong>.</li>
<li><strong>Frame selection method</strong>: Use the default parameter <strong>Random</strong>.</li>
<li><strong>Quantity %</strong>: Set the desired percentage of frames for the <strong>Ground truth</strong> job.
<br><strong>Note</strong> that when you use <strong>Quantity %</strong>, the <strong>Frames</strong> field will be autofilled.</li>
<li><strong>Frame count</strong>: Set the desired number of frames for the &ldquo;ground truth&rdquo; job.
<br><strong>Note</strong> that when you use <strong>Frames</strong>, the <strong>Quantity %</strong> field will be will be autofilled.</li>
<li><strong>Seed</strong>: (Optional) If you need to make the random selection reproducible, specify this number.
It can be any integer number, the same value will yield the same random selection (given that the
frame number is unchanged). <br> <strong>Note</strong> that if you want to use a
custom frame sequence, you can do this using the server API instead,
see <a href="https://opencv.github.io/cvat/docs/api_sdk/sdk/reference/apis/jobs-api/#create">Jobs API #create</a>.</li>
</ul>
</li>
<li>
<p>Click <strong>Submit</strong>.</p>
</li>
<li>
<p>Annotate frames, save your work.</p>
</li>
<li>
<p>Change the status of the job to <strong>Completed</strong>.</p>
</li>
<li>
<p>Change <strong>Stage</strong> to <strong>Accepted</strong>.</p>
</li>
</ol>
<p>The <strong>Ground truth</strong> job will appear in the jobs list.</p>
<p><img src="../../../images/honeypot03.jpg" alt="Add new job"></p>
<h2 id="managing-ground-truth-jobs-import-export-and-deletion">Managing Ground Truth jobs: Import, Export, and Deletion</h2>
<p>Annotations from <strong>Ground truth</strong> jobs are not included in the dataset export,
they also cannot be imported during task annotations import
or with automatic annotation for the task.</p>
<p>Import, export, and delete options are available from the
job&rsquo;s menu.</p>
<p><img src="../../../images/honeypot04.jpg" alt="Add new job"></p>
<h3 id="import">Import</h3>
<p>If you want to import annotations into the <strong>Ground truth</strong> job, do the following.</p>
<ol>
<li>Open the task, and find the <strong>Ground truth</strong> job in the jobs list.</li>
<li>Click on three dots to open the menu.</li>
<li>From the menu, select <strong>Import annotations</strong>.</li>
<li>Select import format, and select file.</li>
<li>Click <strong>OK</strong>.</li>
</ol>
<blockquote>
<p><strong>Note</strong> that if there are imported annotations for the frames that exist in the task,
but are not included in the <strong>Ground truth</strong> job, they will be ignored.
This way, you don&rsquo;t need to worry about &ldquo;cleaning up&rdquo; your <strong>Ground truth</strong>
annotations for the whole dataset before importing them.
Importing annotations for the frames that are not known in the task still raises errors.</p>
</blockquote>
<h3 id="export">Export</h3>
<p>To export annotations from the <strong>Ground truth</strong> job, do the following.</p>
<ol>
<li>Open the task, and find a job in the jobs list.</li>
<li>Click on three dots to open the menu.</li>
<li>From the menu, select <strong>Export annotations</strong>.</li>
</ol>
<h3 id="delete">Delete</h3>
<p>To delete the <strong>Ground truth</strong> job, do the following.</p>
<ol>
<li>Open the task, and find the <strong>Ground truth</strong> job in the jobs list.</li>
<li>Click on three dots to open the menu.</li>
<li>From the menu, select <strong>Delete</strong>.</li>
</ol>
<h2 id="assessing-data-quality-with-ground-truth-jobs">Assessing data quality with Ground truth jobs</h2>
<p>Once you&rsquo;ve established the <strong>Ground truth</strong> job, proceed to annotate the dataset.</p>
<p>CVAT will begin the quality comparison between the annotated task and the
<strong>Ground truth</strong> job in this task once it is finished (on the <code>acceptance</code> stage and in the <code>completed</code> state).</p>
<blockquote>
<p><strong>Note</strong> that the process of quality calculation may take up to several hours, depending on
the amount of data and labeled objects, and is <strong>not updated immediately</strong> after task updates.</p>
</blockquote>
<p>To view results go to the <strong>Task</strong> &gt; <strong>Actions</strong> &gt; <strong>View analytics</strong>&gt; <strong>Performance</strong> tab.</p>
<p><img src="../../../images/honeypot05.jpg" alt="Add new job"></p>
<h3 id="quality-data">Quality data</h3>
<p>The Analytics page has the following fields:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mean annotation quality</td>
<td>Displays the average quality of annotations, which includes: the count of accurate annotations, total task annotations, ground truth annotations, accuracy rate, precision rate, and recall rate.</td>
</tr>
<tr>
<td>GT Conflicts</td>
<td>Conflicts identified during quality assessment, including extra or missing annotations. Mouse over the <strong>?</strong> icon for a detailed conflict report on your dataset.</td>
</tr>
<tr>
<td>Issues</td>
<td>Number of <a href="../../../docs/manual/advanced/review/">opened issues</a>. If no issues were reported, will show 0.</td>
</tr>
<tr>
<td>Quality report</td>
<td>Quality report in JSON format.</td>
</tr>
<tr>
<td>Ground truth job data</td>
<td>&ldquo;Information about ground truth job, including date, time, and number of issues.</td>
</tr>
<tr>
<td>List of jobs</td>
<td>List of all the jobs in the task</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h3 id="annotation-quality-settings">Annotation quality settings</h3>
<p>If you need to tweak some aspects of comparisons, you can do this from
the <strong>Annotation Quality Settings</strong> menu.</p>
<p>You can configure what overlap
should be considered low or how annotations must be compared.</p>
<p>The updated settings will take effect
on the next quality update.</p>
<p>To open <strong>Annotation Quality Settings</strong>, find
<strong>Quality report</strong> and on the right side of it, click on
three dots.</p>
<p>The following window will open.
Hover over the <strong>?</strong> marks to understand what each field represents.</p>
<p><img src="../../../images/honeypot08.jpg" alt="Add new job"></p>
<p>Annotation quality settings have the following parameters:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Min overlap threshold</td>
<td>Min overlap threshold(IoU) is used for the distinction between matched / unmatched shapes.</td>
</tr>
<tr>
<td>Low overlap threshold</td>
<td>Low overlap threshold is used for the distinction between strong/weak (low overlap) matches.</td>
</tr>
<tr>
<td>OKS Sigma</td>
<td>IoU threshold for points. The percent of the box area, used as the radius of the circle around the GT point, where the checked point is expected to be.</td>
</tr>
<tr>
<td>Relative thickness (frame side %)</td>
<td>Thickness of polylines, relative to the (image area) ^ 0.5. The distance to the boundary around the GT line inside of which the checked line points should be.</td>
</tr>
<tr>
<td>Check orientation</td>
<td>Indicates that polylines have direction.</td>
</tr>
<tr>
<td>Min similarity gain (%)</td>
<td>The minimal gain in the GT IoU between the given and reversed line directions to consider the line inverted. Only useful with the Check orientation parameter.</td>
</tr>
<tr>
<td>Compare groups</td>
<td>Enables or disables annotation group checks.</td>
</tr>
<tr>
<td>Min group match threshold</td>
<td>Minimal IoU for groups to be considered matching, used when the Compare groups are enabled.</td>
</tr>
<tr>
<td>Check object visibility</td>
<td>Check for partially-covered annotations. Masks and polygons will be compared to each other.</td>
</tr>
<tr>
<td>Min visibility threshold</td>
<td>Minimal visible area percent of the spatial annotations (polygons, masks). For reporting covered annotations, useful with the Check object visibility option.</td>
</tr>
<tr>
<td>Match only visible parts</td>
<td>Use only the visible part of the masks and polygons in comparisons.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h3 id="gt-conflicts-in-the-cvat-interface">GT conflicts in the CVAT interface</h3>
<p>To see GT Conflicts in the CVAT interface, go to <strong>Review</strong> &gt;
<strong>Issues</strong> &gt; <strong>Show ground truth annotations and conflicts</strong>.</p>
<p><img src="../../../images/honeypot06.gif" alt="GT conflict"></p>
<p>The ground truth (GT) annotation is depicted as
a dotted-line box with an associated label.</p>
<p>Upon hovering over an issue on the right-side panel with your mouse,
the corresponding GT Annotation gets highlighted.</p>
<p>Use arrows in the Issue toolbar to move between GT conflicts.</p>
<p>To create an issue related to the conflict,
right-click on the bounding box and from the
menu select the type of issue you want to create.</p>
<p><img src="../../../images/honeypot07.jpg" alt="GT conflict"></p>
<h2 id="annotation-quality--honeypot-video-tutorial">Annotation quality &amp; Honeypot video tutorial</h2>
<p>This video demonstrates the process:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/0HtBnr_CZAM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f5275c350b840af83814c4397308c7b1">2.19.2 - Manual QA and Review</h1>
    <div class="lead">Guidelines on evaluating annotation quality in CVAT manually</div>
	<p>In the demanding process of annotation, ensuring accuracy is paramount.</p>
<p>CVAT introduces a specialized <strong>Review mode</strong>, designed to streamline the
validation of annotations by pinpointing errors or discrepancies in annotation.</p>
<blockquote>
<p><strong>Note</strong>: The <strong>Review mode</strong> is not applicable for 3D tasks.</p>
</blockquote>
<p>See:</p>
<ul>
<li><a href="#review-and-report-issues-review-only-mode">Review and report issues: review only mode</a>
<ul>
<li><a href="#assigning-reviewer">Assigning reviewer</a></li>
<li><a href="#reporting-issues">Reporting issues</a></li>
<li><a href="#quick-issue">Quick issue</a></li>
<li><a href="#assigning-corrector">Assigning corrector</a></li>
<li><a href="#correcting-reported-issues">Correcting reported issues</a></li>
</ul>
</li>
<li><a href="#review-and-report-issues-review-and-correct-mode">Review and report issues: review and correct mode</a></li>
<li><a href="#issues-navigation-and-interface">Issues navigation and interface</a>
<ul>
<li><a href="#issues-tab">Issues tab</a></li>
<li><a href="#issues-workspace">Issues workspace</a></li>
<li><a href="#issues-comments">Issues comments</a></li>
</ul>
</li>
<li><a href="#manual-qa-complete-video-tutorial">Manual QA complete video tutorial</a></li>
</ul>
<h2 id="review-and-report-issues-review-only-mode">Review and report issues: review only mode</h2>
<p>Review mode is a user interface (UI) setting where a specialized
<strong>Issue</strong> tool is available. This tool allows you to identify
and describe issues with objects or areas within the frame.</p>
<blockquote>
<p><strong>Note:</strong> While in review mode, all other tools will be hidden.</p>
</blockquote>
<p><strong>Review</strong> mode screen looks like the following:</p>
<p><img src="../../../images/review_mode_screen.jpg" alt="Review mode screen"></p>
<h3 id="assigning-reviewer">Assigning reviewer</h3>
<blockquote>
<p><strong>Note</strong>: Reviewers can be assigned by project or task owner, assignee, and maintainer.</p>
</blockquote>
<p>To assign a reviewer to the job, do the following:</p>
<ol>
<li>
<p>Log in to the Owner or Maintainer account.</p>
</li>
<li>
<p>(Optional) If the person you wish to assign as a reviewer
is not a member of <strong>Organization</strong>, you
need to <a href="../../../docs/manual/advanced/organization/#invite-members-into-organization">Invite this person to the <strong>Organization</strong></a>.</p>
</li>
<li>
<p>Click on the <strong>Assignee</strong> field and select the reviewer.</p>
</li>
<li>
<p>From the <strong>Stage</strong> drop-down list, select <strong>Validation</strong>.</p>
<p><img src="../../../images/image194.jpg" alt="Assigning reviewer"></p>
</li>
</ol>
<h3 id="reporting-issues">Reporting issues</h3>
<p>To report an issue, do the following:</p>
<ol>
<li>
<p>Log in to the reviewer&rsquo;s account.</p>
</li>
<li>
<p>On the <strong>Controls</strong> sidebar, click <strong>Open and issue</strong> (<img src="../../../images/image195.jpg" alt="">).</p>
</li>
<li>
<p>Click on the area of the frame where the issue is occurring,
and the <strong>Issue report popup</strong> will appear.</p>
<p><img src="../../../images/issue_report.jpg" alt="Issue report window"></p>
</li>
<li>
<p>In the text field of the <strong>Issue report popup</strong>, enter the issue description.</p>
</li>
<li>
<p>Click <strong>Submit</strong>.</p>
</li>
</ol>
<h3 id="quick-issue">Quick issue</h3>
<p>The <strong>Quick issue</strong> function streamlines the review process.
It allows reviewers to efficiently select from a list of
previously created issues or add a new one,
facilitating a faster and more organized review.</p>
<p><img src="../../../images/image231.jpg" alt="Quick issue"></p>
<p>To create a <strong>Quick issue</strong> do the following:</p>
<ol>
<li>
<p>Right-click on the area of the frame where the issue is occurring.</p>
</li>
<li>
<p>From the popup menu select one of the following:</p>
<ul>
<li><strong>Open an issue&hellip;</strong>: to create new issue.</li>
<li><strong>Quick issue: incorrect position</strong>: to report incorrect position of the label.</li>
<li><strong>Quick issue: incorrect attribute</strong>: to report incorrect attribute of the label.</li>
<li><strong>Quick issue&hellip;</strong>: to open the list of issues that were reported by you before.</li>
</ul>
</li>
</ol>
<h3 id="assigning-corrector">Assigning corrector</h3>
<blockquote>
<p><strong>Note</strong>: Only project owners and maintainers can assign reviewers.</p>
</blockquote>
<p>To assign a corrector to the job, do the following:</p>
<ol>
<li>
<p>Log in to the Owner or Maintainer account.</p>
</li>
<li>
<p>(Optional) If the person you wish to assign as a corrector
is not a member of <strong>Organization</strong>, you
need to <a href="../../../docs/manual/advanced/organization/#invite-members-into-organization">Invite this person to the <strong>Organization</strong></a>.</p>
</li>
<li>
<p>Click on the <strong>Assignee</strong> field and select the reviewer.</p>
</li>
<li>
<p>From the <strong>Stage</strong> drop-down list, select <strong>Annotation</strong>.</p>
<p><img src="../../../images/image194_1.jpg" alt="Assigning corrector"></p>
</li>
</ol>
<h3 id="correcting-reported-issues">Correcting reported issues</h3>
<p>To correct the reported issue, do the following:</p>
<ol>
<li>
<p>Log in to the corrector account.</p>
</li>
<li>
<p>Go to the reviewed job and open it.</p>
</li>
<li>
<p>Click on the issue report, to see details of
what needs to be corrected.</p>
<p><img src="../../../images/issue_report_label.jpg" alt="Issue report label"></p>
</li>
<li>
<p>Correct annotation.</p>
</li>
<li>
<p>Add a comment to the issue report and click <strong>Resolve</strong>.</p>
<p><img src="../../../images/resolve_issue.jpg" alt="Issue report"></p>
</li>
<li>
<p>After all issues are fixed save work, go to the <strong>Menu</strong> select the <strong>Change the job state</strong> and
change state to <strong>Complete</strong>.</p>
<p><img src="../../../images/image197.jpg" alt="Change job status"></p>
</li>
</ol>
<h2 id="review-and-report-issues-review-and-correct-mode">Review and report issues: review and correct mode</h2>
<p>The person, assigned as <a href="#assigning-reviewer">assigned as reviewer</a>
can switch to correction mode and correct all annotation issues.</p>
<p>To correct annotation issues as a reviewer, do the following:</p>
<ol>
<li>
<p>Log in to the reviewer account.</p>
</li>
<li>
<p>Go to the assigned job and open it.</p>
</li>
<li>
<p>In the top right corner, from the drop-down list,
select <strong>Standard</strong>.</p>
<p><img src="../../../images/switch_to_standart_mode.jpg" alt="Change job status"></p>
</li>
</ol>
<h2 id="issues-navigation-and-interface">Issues navigation and interface</h2>
<p>This section describes navigation, interface and
comments section.</p>
<h3 id="issues-tab">Issues tab</h3>
<p>The created issue will appear on the <strong>Objects</strong> sidebar, in the <strong>Issues</strong> tab.</p>
<p><img src="../../../images/image196_detrac.jpg" alt=""></p>
<p>It has has the following elements:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Element</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Arrows</td>
<td>You can switch between issues by clicking on arrows</td>
</tr>
<tr>
<td>Hide all issues</td>
<td>Click on the eye icon to hide all issues</td>
</tr>
<tr>
<td>Hide resolved issues</td>
<td>Click on the check mark to hide only resolved issues</td>
</tr>
<tr>
<td>Ground truth</td>
<td>Show ground truth annotations and objects</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h3 id="issues-workspace">Issues workspace</h3>
<p>In the workspace, you can click on the issue, and add a
comment on the issue, remove (<strong>Remove</strong>) it, or resolve (<strong>Resolve</strong>) it.</p>
<p><img src="../../../images/image232.jpg" alt=""></p>
<p>To reopen the resolved issue, click <strong>Reopen</strong>.</p>
<p>You can easily access multiple issues created in one
location by hovering over an issue and scrolling the mouse wheel.</p>
<p><img src="../../../images/issues_scroll.gif" alt=""></p>
<h3 id="issues-comments">Issues comments</h3>
<p>You can add as many comments as needed to the issue.</p>
<p>In the Objects toolbar, only the first and last comments will be displayed</p>
<p><img src="../../../images/issue_comments.png" alt=""></p>
<p>You can copy and paste comments text.</p>
<h2 id="manual-qa-complete-video-tutorial">Manual QA complete video tutorial</h2>
<p>This video demonstrates the process:</p>
<!--lint disable maximum-line-length-->
<iframe width="560" height="315" src="https://www.youtube.com/embed/7HxCpjdQt-c?si=xIho-KJLv4b__tRo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<!--lint enable maximum-line-length-->

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-80576ce0840ea07baad18f1f64132744">2.19.3 - CVAT Team Performance &amp; Monitoring</h1>
    <div class="lead">How to monitor team activity and performance in CVAT</div>
	<p>In CVAT Cloud, you can track a variety of metrics
reflecting the team&rsquo;s productivity and the pace of annotation with
the <strong>Performance</strong> feature.</p>
<p>See:</p>
<ul>
<li><a href="#performance-dashboard">Performance dashboard</a></li>
<li><a href="#performance-video-tutorial">Performance video tutorial</a></li>
</ul>
<h2 id="performance-dashboard">Performance dashboard</h2>
<p>To open the <strong>Performance</strong> dashboard, do the following:</p>
<ol>
<li>In the top menu click on <strong>Projects</strong>/ <strong>Tasks</strong>/ <strong>Jobs</strong>.</li>
<li>Select an item from the list, and click on three dots (<img src="../../../images/openmenu.jpg" alt="Open menu">).</li>
<li>From the menu, select <strong>View analytics</strong> &gt; <strong>Performance</strong> tab.</li>
</ol>
<p><img src="../../../images/viewanalytics.jpg" alt="Open menu"></p>
<p>The following dashboard will open:</p>
<p><img src="../../../images/performance_dashboard.jpg" alt="Open menu"></p>
<p>The <strong>Performance</strong> dashboard has the following elements:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Element</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Analytics for</td>
<td><strong>Object</strong>/ <strong>Task</strong>/ <strong>Job</strong> number.</td>
</tr>
<tr>
<td>Created</td>
<td>Time when the dashboard was updated last time.</td>
</tr>
<tr>
<td>Objects</td>
<td>Graph, showing the number of annotated, updated, and deleted objects by day.</td>
</tr>
<tr>
<td>Annotation speed (objects per hour)</td>
<td>Number of objects annotated per hour.</td>
</tr>
<tr>
<td>Time</td>
<td>A drop-down list with various periods for the graph. Currently affects only the histogram data.</td>
</tr>
<tr>
<td>Annotation time (hours)</td>
<td>Shows for how long the <strong>Project</strong>/<strong>Task</strong>/<strong>Job</strong> is in <strong>In progress</strong> state.</td>
</tr>
<tr>
<td>Total objects count</td>
<td>Shows the total objects count in the task. Interpolated objects are counted.</td>
</tr>
<tr>
<td>Total annotation speed (objects per hour)</td>
<td>Shows the annotation speed in the <strong>Project</strong>/<strong>Task</strong>/<strong>Job</strong>. Interpolated objects are counted.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<p>You can rearrange elements of the dashboard by dragging and dropping each of them.</p>
<h2 id="performance-video-tutorial">Performance video tutorial</h2>
<p>This video demonstrates the process:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/W4LUq3gwLko" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-46b81ede25cce0506f702375bc768345">2.20 - OpenCV and AI Tools</h1>
    <div class="lead">Overview of semi-automatic and automatic annotation tools available in CVAT.</div>
	<p>Label and annotate your data in semi-automatic and automatic mode with the help of <strong>AI</strong> and <strong>OpenCV</strong> tools.</p>
<p>While <a href="../../../docs/manual/advanced/annotation-with-polygons/track-mode-with-polygons/">interpolation</a>
is good for annotation of the videos made by the security cameras,
<strong>AI</strong> and <strong>OpenCV</strong> tools are good for both:
videos where the camera is stable and videos, where it
moves together with the object, or movements of the object are chaotic.</p>
<p>See:</p>
<ul>
<li><a href="#interactors">Interactors</a>
<ul>
<li><a href="#ai-tools-annotate-with-interactors">AI tools: annotate with interactors</a></li>
<li><a href="#ai-tools-add-extra-points">AI tools: add extra points</a></li>
<li><a href="#ai-tools-delete-points">AI tools: delete points</a></li>
<li><a href="#opencv-intelligent-scissors">OpenCV: intelligent scissors</a></li>
<li><a href="#settings">Settings</a></li>
<li><a href="#interactors-models">Interactors models</a></li>
</ul>
</li>
<li><a href="#detectors">Detectors</a>
<ul>
<li><a href="#labels-matching">Labels matching</a></li>
<li><a href="#annotate-with-detectors">Annotate with detectors</a></li>
<li><a href="#detectors-models">Detectors models</a></li>
</ul>
</li>
<li><a href="#trackers">Trackers</a>
<ul>
<li><a href="#ai-tools-annotate-with-trackers">AI tools: annotate with trackers</a></li>
<li><a href="#opencv-annotate-with-trackers">OpenCV: annotate with trackers</a></li>
<li><a href="#when-tracking">When tracking</a></li>
<li><a href="#trackers-models">Trackers models</a></li>
</ul>
</li>
<li><a href="#opencv-histogram-equalization">OpenCV: histogram equalization</a></li>
</ul>
<h2 id="interactors">Interactors</h2>
<p>Interactors are a part of <strong>AI</strong> and <strong>OpenCV</strong> tools.</p>
<p>Use interactors to label objects in images by
creating a polygon semi-automatically.</p>
<p>When creating a polygon, you can use positive points
or negative points (for some models):</p>
<ul>
<li><strong>Positive points</strong> define the area in which the object is located.</li>
<li><strong>Negative points</strong> define the area in which the object is not located.</li>
</ul>
<p><img src="../../../images/image188_detrac.jpg" alt=""></p>
<h3 id="ai-tools-annotate-with-interactors">AI tools: annotate with interactors</h3>
<p>To annotate with interactors, do the following:</p>
<ol>
<li>Click <strong>Magic wand</strong> <img src="../../../images/image189.jpg" alt="Magic wand">, and go to the <strong>Interactors</strong> tab.</li>
<li>From the <strong>Label</strong> drop-down, select a label for the polygon.</li>
<li>From the <strong>Interactor</strong> drop-down, select a model (see <a href="#interactors-models">Interactors models</a>).
<br>Click the <strong>Question mark</strong> to see information about each model:
<br><img src="../../../images/image114_detrac.jpg" alt=""></li>
<li>(Optional) If the model returns masks, and you need to
convert masks to polygons, use the <strong>Convert masks to polygons</strong> toggle.</li>
<li>Click <strong>Interact</strong>.</li>
<li>Use the left click to add positive points and the right click to add negative points.
<br>Number of points you can add depends on the model.</li>
<li>On the top menu, click <strong>Done</strong> (or <strong>Shift+N</strong>, <strong>N</strong>).</li>
</ol>
<h3 id="ai-tools-add-extra-points">AI tools: add extra points</h3>
<blockquote>
<p><strong>Note:</strong> More points improve outline accuracy, but make shape editing harder.
Fewer points make shape editing easier, but reduce outline accuracy.</p>
</blockquote>
<p>Each model has a minimum required number of points for annotation.
Once the required number of points is reached, the request
is automatically sent to the server.
The server processes the request and adds a polygon to the frame.</p>
<p>For a more accurate outline, postpone request
to finish adding extra points first:</p>
<ol>
<li>Hold down the <strong>Ctrl</strong> key.
<br>On the top panel, the <strong>Block</strong> button will turn blue.</li>
<li>Add points to the image.</li>
<li>Release the <strong>Ctrl</strong> key, when ready.</li>
</ol>
<p>In case you used <strong>Mask to polygon</strong> when the object is finished,
you can edit it like a polygon.</p>
<p>You can change the number of points in the
polygon with the slider:</p>
<p><img src="../../../images/image224.jpg" alt=""></p>
<h3 id="ai-tools-delete-points">AI tools: delete points</h3>
<p><br>To delete a point, do the following:</p>
<ol>
<li>With the cursor, hover over the point you want to delete.</li>
<li>If the point can be deleted, it will enlarge and the cursor will turn into a cross.</li>
<li>Left-click on the point.</li>
</ol>
<h3 id="opencv-intelligent-scissors">OpenCV: intelligent scissors</h3>
<p>To use <strong>Intelligent scissors</strong>, do the following:</p>
<ol>
<li>
<p>On the menu toolbar, click <strong>OpenCV</strong><img src="../../../images/image201.jpg" alt="OpenCV"> and wait for the library to load.</p>
<p><br><img src="../../../images/image198.jpg" alt=""></p>
</li>
<li>
<p>Go to the <strong>Drawing</strong> tab, select the label, and click on the <strong>Intelligent scissors</strong> button.</p>
<p><img src="../../../images/image199.jpg" alt=""></p>
</li>
<li>
<p>Add the first point on the boundary of the allocated object. <br> You will see a line repeating the outline of the object.</p>
</li>
<li>
<p>Add the second point, so that the previous point is within the restrictive threshold.
<br>After that a line repeating the object boundary will be automatically created between the points.
<img src="../../../images/image200_detrac.jpg" alt=""></p>
</li>
<li>
<p>To finish placing points, on the top menu click <strong>Done</strong> (or <strong>N</strong> on the keyboard).</p>
</li>
</ol>
<p>As a result, a polygon will be created.</p>
<p>You can change the number of points in the
polygon with the slider:</p>
<p><img src="../../../images/image224.jpg" alt=""></p>
<p>To increase or lower the action threshold, hold <strong>Ctrl</strong> and scroll the mouse wheel.</p>
<p>During the drawing process, you can remove the last point by clicking on it with the left mouse button.</p>
<h3 id="settings">Settings</h3>
<ul>
<li>
<p>On how to adjust the polygon,
see <a href="../../../docs/manual/basics/objects-sidebar/#appearance">Objects sidebar</a>.</p>
</li>
<li>
<p>For more information about polygons in general, see
<a href="../../../docs/manual/advanced/annotation-with-polygons/">Annotation with polygons</a>.</p>
</li>
</ul>
<h3 id="interactors-models">Interactors models</h3>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Model</th>
<th>Tool</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Segment Anything Model (SAM)</td>
<td>AI Tools</td>
<td>The Segment Anything Model (SAM) produces high <br> quality object masks, and it can be used to generate <br> masks for all objects in an image. It has been trained <br>on a dataset of 11 million images and <br>1.1 billion masks, and has strong zero-shot performance on a variety of segmentation tasks. <br><br>For more information, see: <li><a href="https://github.com/facebookresearch/segment-anything">GitHub: Segment Anything</a> <li><a href="https://segment-anything.com/">Site: Segment Anything</a><li><a href="https://ai.facebook.com/research/publications/segment-anything/">Paper: Segment Anything</a></td>
<td><img src="../../../images/interactors_SAM.gif" alt=""></td>
</tr>
<tr>
<td>Deep extreme <br>cut (DEXTR)</td>
<td>AI Tool</td>
<td>This is an optimized version of the original model, <br>introduced at the end of 2017. It uses the <br>information about extreme points of an object <br>to get its mask. The mask is then converted to a polygon. <br>For now this is the fastest interactor on the CPU. <br><br>For more information, see: <li><a href="https://github.com/scaelles/DEXTR-PyTorch">GitHub: DEXTR-PyTorch</a> <li><a href="https://cvlsegmentation.github.io/dextr">Site: DEXTR-PyTorch</a><li><a href="https://arxiv.org/pdf/1711.09081.pdf">Paper: DEXTR-PyTorch</a></td>
<td><img src="../../../images/dextr_example.gif" alt=""></td>
</tr>
<tr>
<td>Feature backpropagating <br>refinement <br>scheme (f-BRS)</td>
<td>AI Tool</td>
<td>The model allows to get a mask for an <br>object using positive points (should be <br>left-clicked on the foreground), <br>and negative points (should be right-clicked <br>on the background, if necessary). <br>It is recommended to run the model on GPU, <br>if possible. <br><br>For more information, see: <li><a href="https://github.com/saic-vul/fbrs_interactive_segmentation">GitHub: f-BRS</a> <li><a href="https://arxiv.org/pdf/2001.10331.pdf">Paper: f-BRS</a></td>
<td><img src="../../../images/fbrs_example.gif" alt=""></td>
</tr>
<tr>
<td>High Resolution <br>Net (HRNet)</td>
<td>AI Tool</td>
<td>The model allows to get a mask for <br>an object using positive points (should <br>be left-clicked on the foreground), <br> and negative points (should be <br>right-clicked on the background, <br> if necessary). <br>It is recommended to run the model on GPU, <br>if possible. <br><br>For more information, see: <li><a href="https://github.com/saic-vul/ritm_interactive_segmentation">GitHub: HRNet</a> <li><a href="https://arxiv.org/pdf/2102.06583.pdf">Paper: HRNet</a></td>
<td><img src="../../../images/hrnet_example.gif" alt=""></td>
</tr>
<tr>
<td>Inside-Outside-Guidance<br>(IOG)</td>
<td>AI Tool</td>
<td>The model uses a bounding box and <br>inside/outside points to create a mask. <br>First of all, you need to create a bounding<br> box, wrapping the object. <br>Then you need to use positive <br>and negative points to say the <br>model where is <br>a foreground, and where is a background.<br>Negative points are optional. <br><br>For more information, see: <li><a href="https://github.com/shiyinzhang/Inside-Outside-Guidance">GitHub: IOG</a> <li><a href="https://openaccess.thecvf.com/content_CVPR_2020/papers/Zhang_Interactive_Object_Segmentation_With_Inside-Outside_Guidance_CVPR_2020_paper.pdf">Paper: IOG</a></td>
<td><img src="../../../images/iog_example.gif" alt=""></td>
</tr>
<tr>
<td>Intelligent scissors</td>
<td>OpenCV</td>
<td>Intelligent scissors is a CV method of creating <br>a polygon by placing points with the automatic <br>drawing of a line between them. The distance<br> between the adjacent points is limited by <br>the threshold of action, displayed as a <br>red square that is tied to the cursor. <br><br> For more information, see: <li><a href="https://docs.opencv.org/4.x/df/d6b/classcv_1_1segmentation_1_1IntelligentScissorsMB.html">Site: Intelligent Scissors Specification</a></td>
<td><img src="../../../images/intelligent_scissors.gif" alt="int scissors"></td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h2 id="detectors">Detectors</h2>
<p>Detectors are a part of <strong>AI</strong> tools.</p>
<p>Use detectors to automatically
identify and locate objects in images or videos.</p>
<h3 id="labels-matching">Labels matching</h3>
<p>Each model is trained on a dataset and supports only the dataset&rsquo;s labels.</p>
<p>For example:</p>
<ul>
<li>DL model has the label <code>car</code>.</li>
<li>Your task (or project) has the label <code>vehicle</code>.</li>
</ul>
<p>To annotate, you need to match these two labels to give
DL model a hint, that in this case <code>car</code> = <code>vehicle</code>.</p>
<p>If you have a label that is not on the list
of DL labels, you will not be able to
match them.</p>
<p>For this reason, supported DL models are suitable only for certain labels.
<br>To check the list of labels for each model, see <a href="#detectors-models">Detectors models</a>.</p>
<h3 id="annotate-with-detectors">Annotate with detectors</h3>
<p>To annotate with detectors, do the following:</p>
<ol>
<li>
<p>Click <strong>Magic wand</strong> <img src="../../../images/image189.jpg" alt="Magic wand">, and go to the <strong>Detectors</strong> tab.</p>
</li>
<li>
<p>From the <strong>Model</strong> drop-down, select model (see <a href="#detectors-models">Detectors models</a>).</p>
</li>
<li>
<p>From the left drop-down select the DL model label, from the right drop-down
select the matching label of your task.</p>
<p><img src="../../../images/image187.jpg" alt=""></p>
</li>
<li>
<p>(Optional) If the model returns masks, and you
need to convert masks to polygons, use the <strong>Convert masks to polygons</strong> toggle.</p>
</li>
<li>
<p>Click <strong>Annotate</strong>.</p>
</li>
</ol>
<p>This action will automatically annotate one frame.
For automatic annotation of multiple frames,
see <a href="../../../docs/manual/advanced/automatic-annotation/">Automatic annotation</a>.</p>
<h3 id="detectors-models">Detectors models</h3>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Model</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mask RCNN</td>
<td>The model generates polygons for each instance of an object in the image. <br><br> For more information, see: <li><a href="https://github.com/matterport/Mask_RCNN">GitHub: Mask RCNN</a> <li><a href="https://arxiv.org/pdf/1703.06870.pdf">Paper: Mask RCNN</a></td>
</tr>
<tr>
<td>Faster RCNN</td>
<td>The model generates bounding boxes for each instance of an object in the image. <br>In this model, RPN and Fast R-CNN are combined into a single network. <br><br> For more information, see: <li><a href="https://github.com/ShaoqingRen/faster_rcnn">GitHub: Faster RCNN</a> <li><a href="https://arxiv.org/pdf/1506.01497.pdf">Paper: Faster RCNN</a></td>
</tr>
<tr>
<td>YOLO v3</td>
<td>YOLO v3 is a family of object detection architectures and models pre-trained on the COCO dataset. <br><br> For more information, see: <li><a href="https://github.com/ultralytics/yolov3">GitHub: YOLO v3</a> <li><a href="https://docs.ultralytics.com/#yolov3">Site: YOLO v3</a> <li><a href="https://arxiv.org/pdf/1804.02767v1.pdf">Paper: YOLO v3</a></td>
</tr>
<tr>
<td>Semantic segmentation for ADAS</td>
<td>This is a segmentation network to classify each pixel into 20 classes. <br><br> For more information, see: <li><a href="https://docs.openvino.ai/2019_R1/_semantic_segmentation_adas_0001_description_semantic_segmentation_adas_0001.html">Site: ADAS</a></td>
</tr>
<tr>
<td>Mask RCNN with Tensorflow</td>
<td>Mask RCNN version with Tensorflow. The model generates polygons for each instance of an object in the image. <br><br> For more information, see: <li><a href="https://github.com/matterport/Mask_RCNN">GitHub: Mask RCNN</a> <li><a href="https://arxiv.org/pdf/1703.06870.pdf">Paper: Mask RCNN</a></td>
</tr>
<tr>
<td>Faster RCNN with Tensorflow</td>
<td>Faster RCNN version with Tensorflow. The model generates bounding boxes for each instance of an object in the image. <br>In this model, RPN and Fast R-CNN are combined into a single network. <br><br> For more information, see: <li><a href="https://docs.openvino.ai/2021.4/omz_models_model_faster_rcnn_inception_v2_coco.html">Site: Faster RCNN with Tensorflow</a> <li><a href="https://arxiv.org/pdf/1506.01497.pdf">Paper: Faster RCNN</a></td>
</tr>
<tr>
<td>RetinaNet</td>
<td>Pytorch implementation of RetinaNet object detection. <br> <br><br> For more information, see: <li><a href="https://paperswithcode.com/lib/detectron2/retinanet">Specification: RetinaNet</a> <li><a href="https://arxiv.org/pdf/1708.02002.pdf">Paper: RetinaNet</a><li><a href="https://detectron2.readthedocs.io/en/latest/tutorials/training.html">Documentation: RetinaNet</a></td>
</tr>
<tr>
<td>Face Detection</td>
<td>Face detector based on MobileNetV2 as a backbone for indoor and outdoor scenes shot by a front-facing camera. <br> <br><br> For more information, see: <li><a href="https://docs.openvino.ai/latest/omz_models_model_face_detection_0205.html">Site: Face Detection 0205</a></td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h2 id="trackers">Trackers</h2>
<p>Trackers are part of <strong>AI</strong> and <strong>OpenCV</strong> tools.</p>
<p>Use trackers to identify and label
objects in a video or image sequence
that are moving or changing over time.</p>
<h3 id="ai-tools-annotate-with-trackers">AI tools: annotate with trackers</h3>
<p>To annotate with trackers, do the following:</p>
<ol>
<li>
<p>Click <strong>Magic wand</strong> <img src="../../../images/image189.jpg" alt="Magic wand">, and go to the <strong>Trackers</strong> tab.</p>
<p><br><img src="../../../images/trackers_tab.jpg" alt="Start tracking an object"></p>
</li>
<li>
<p>From the <strong>Label</strong> drop-down, select the label for the object.</p>
</li>
<li>
<p>From <strong>Tracker</strong> drop-down, select tracker.</p>
</li>
<li>
<p>Click <strong>Track</strong>, and annotate the objects with the bounding box in the first frame.</p>
</li>
<li>
<p>Go to the top menu and click <strong>Next</strong> (or the <strong>F</strong> on the keyboard)
to move to the next frame.
<br>All annotated objects will be automatically tracked.</p>
</li>
</ol>
<h3 id="opencv-annotate-with-trackers">OpenCV: annotate with trackers</h3>
<p>To annotate with trackers, do the following:</p>
<ol>
<li>
<p>On the menu toolbar, click <strong>OpenCV</strong><img src="../../../images/image201.jpg" alt="OpenCV"> and wait for the library to load.</p>
<p><br><img src="../../../images/image198.jpg" alt=""></p>
</li>
<li>
<p>Go to the <strong>Tracker</strong> tab, select the label, and click <strong>Tracking</strong>.</p>
<p><br><img src="../../../images/image242.jpg" alt="Start tracking an object"></p>
</li>
<li>
<p>From the <strong>Label</strong> drop-down, select the label for the object.</p>
</li>
<li>
<p>From <strong>Tracker</strong> drop-down, select tracker.</p>
</li>
<li>
<p>Click <strong>Track</strong>.</p>
</li>
<li>
<p>To move to the next frame, on the top menu click the <strong>Next</strong> button (or <strong>F</strong> on the keyboard).</p>
</li>
</ol>
<p>All annotated objects will be automatically tracked when you move to the next frame.</p>
<h3 id="when-tracking">When tracking</h3>
<ul>
<li>
<p>To enable/disable tracking, use <strong>Tracker switcher</strong> on the sidebar.</p>
<p><img src="../../../images/tracker_switcher.jpg" alt="Tracker switcher"></p>
</li>
<li>
<p>Trackable objects have an indication on canvas with a model name.</p>
<p><img src="../../../images/tracker_indication_detrac.jpg" alt="Tracker indication"></p>
</li>
<li>
<p>You can follow the tracking by the messages appearing at the top.</p>
<p><img src="../../../images/tracker_pop-up_window.jpg" alt="Tracker pop-up window"></p>
</li>
</ul>
<h3 id="trackers-models">Trackers models</h3>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Model</th>
<th>Tool</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>TrackerMIL</td>
<td>OpenCV</td>
<td>TrackerMIL model is not bound to <br>labels and can be used for any <br>object. It is a fast client-side model <br>designed to track simple non-overlapping objects. <br><br>For more information, see: <li><a href="https://learnopencv.com/tag/mil/">Article: Object Tracking using OpenCV</a></td>
<td><img src="../../../images/tracker_mil_detrac.gif" alt="Annotation using a tracker"></td>
</tr>
<tr>
<td>SiamMask</td>
<td>AI Tools</td>
<td>Fast online Object Tracking and Segmentation. The trackable object will <br>be tracked automatically if the previous frame <br>was the latest keyframe for the object. <br><br>For more information, see:<li> <a href="https://github.com/foolwood/SiamMask">GitHub: SiamMask</a> <li> <a href="https://arxiv.org/pdf/1812.05050.pdf">Paper: SiamMask</a></td>
<td><img src="../../../images/tracker_ai_tools.gif" alt="Annotation using a tracker"></td>
</tr>
<tr>
<td>Transformer Tracking (TransT)</td>
<td>AI Tools</td>
<td>Simple and efficient online tool for object tracking and segmentation. <br>If the previous frame was the latest keyframe <br>for the object, the trackable object will be tracked automatically.<br>This is a modified version of the PyTracking <br> Python framework based on Pytorch<br> <br><br>For more information, see: <li> <a href="https://github.com/chenxin-dlut/TransT">GitHub: TransT</a><li> <a href="https://arxiv.org/pdf/2103.15436.pdf">Paper: TransT</a></td>
<td><img src="../../../images/tracker_transit.gif" alt="Annotation using a tracker"></td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h2 id="opencv-histogram-equalization">OpenCV: histogram equalization</h2>
<p><strong>Histogram equalization</strong> improves
the contrast by stretching the intensity range.</p>
<p>It increases the global contrast of images
when its usable data is represented by close contrast values.</p>
<p>It is useful in images with backgrounds
and foregrounds that are bright or dark.</p>
<p>To improve the contrast of the image, do the following:</p>
<ol>
<li>In the <strong>OpenCV</strong> menu, go to the <strong>Image</strong> tab.</li>
<li>Click on <strong>Histogram equalization</strong> button.
<br><img src="../../../images/image221.jpg" alt=""></li>
</ol>
<p><strong>Histogram equalization</strong> will improve
contrast on current and following
frames.</p>
<p>Example of the result:</p>
<p><img src="../../../images/image222.jpg" alt=""></p>
<p>To disable <strong>Histogram equalization</strong>, click on the button again.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ea08163bba95655dc41bf95a12621935">2.21 - Automatic annotation</h1>
    <div class="lead">Automatic annotation of tasks</div>
	<p>Automatic annotation in CVAT is a tool that you can use
to automatically pre-annotate your data with pre-trained models.</p>
<p>CVAT can use models from the following sources:</p>
<ul>
<li><a href="#models">Pre-installed models</a>.</li>
<li>Models integrated from <a href="#adding-models-from-hugging-face-and-roboflow">Hugging Face and Roboflow</a>.</li>
<li><a href="../../../docs/manual/advanced/serverless-tutorial/">Self-hosted models deployed with Nuclio</a>.</li>
</ul>
<p>The following table describes the available options:</p>
<table>
<thead>
<tr>
<th></th>
<th>Self-hosted</th>
<th>Cloud</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Price</strong></td>
<td>Free</td>
<td>See <a href="https://www.cvat.ai/pricing/cloud">Pricing</a></td>
</tr>
<tr>
<td><strong>Models</strong></td>
<td>You have to add models</td>
<td>You can use pre-installed models</td>
</tr>
<tr>
<td><strong>Hugging Face &amp; Roboflow <br>integration</strong></td>
<td>Not supported</td>
<td>Supported</td>
</tr>
</tbody>
</table>
<p>See:</p>
<ul>
<li><a href="#running-automatic-annotation">Running Automatic annotation</a></li>
<li><a href="#labels-matching">Labels matching</a></li>
<li><a href="#models">Models</a></li>
<li><a href="#adding-models-from-hugging-face-and-roboflow">Adding models from Hugging Face and Roboflow</a></li>
</ul>
<h2 id="running-automatic-annotation">Running Automatic annotation</h2>
<p>To start automatic annotation, do the following:</p>
<ol>
<li>
<p>On the top menu, click <strong>Tasks</strong>.</p>
</li>
<li>
<p>Find the task you want to annotate and click <strong>Action</strong> &gt; <strong>Automatic annotation</strong>.</p>
<p><img src="../../../images/image119_detrac.jpg" alt=""></p>
</li>
<li>
<p>In the Automatic annotation dialog, from the drop-down list, select a <a href="#models">model</a>.</p>
</li>
<li>
<p><a href="#labels-matching">Match the labels</a> of the model and the task.</p>
</li>
<li>
<p>(Optional) In case you need the model to return masks as polygons, switch toggle <strong>Return masks as polygons</strong>.</p>
</li>
<li>
<p>(Optional) In case you need to remove all previous annotations, switch toggle <strong>Clean old annotations</strong>.</p>
<p><img src="../../../images/image120.jpg" alt=""></p>
</li>
<li>
<p>Click <strong>Annotate</strong>.</p>
</li>
</ol>
<p>CVAT will show the progress of annotation on the progress bar.</p>
<p><img src="../../../images/image121_detrac.jpg" alt="Progress bar"></p>
<p>You can stop the automatic annotation at any moment by clicking cancel.</p>
<h2 id="labels-matching">Labels matching</h2>
<p>Each model is trained on a dataset and supports only the dataset&rsquo;s labels.</p>
<p>For example:</p>
<ul>
<li>DL model has the label <code>car</code>.</li>
<li>Your task (or project) has the label <code>vehicle</code>.</li>
</ul>
<p>To annotate, you need to match these two labels to give
CVAT a hint that, in this case, <code>car</code> = <code>vehicle</code>.</p>
<p>If you have a label that is not on the list
of DL labels, you will not be able to
match them.</p>
<p>For this reason, supported DL models are suitable only
for certain labels.</p>
<p>To check the list of labels for each model, see <a href="#models">Models</a>
papers and official documentation.</p>
<h2 id="models">Models</h2>
<p>Automatic annotation uses pre-installed and added models.</p>
<blockquote>
<p>For self-hosted solutions,
you need to <a href="../../../docs/administration/advanced/installation_automatic_annotation/">install Automatic Annotation first</a>
and <a href="../../../docs/manual/advanced/models/">add models</a>.</p>
</blockquote>
<p>List of pre-installed models:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Model</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Attributed face detection</td>
<td>Three OpenVINO models work together: <br><br><li> <a href="https://docs.openvino.ai/2022.3/omz_models_model_face_detection_0205.html">Face Detection 0205</a>: face detector based on MobileNetV2 as a backbone with a FCOS head for indoor and outdoor scenes shot by a front-facing camera. <li><a href="https://docs.openvino.ai/2022.3/omz_models_model_emotions_recognition_retail_0003.html#emotions-recognition-retail-0003">Emotions recognition retail 0003</a>: fully convolutional network for recognition of five emotions (‘neutral’, ‘happy’, ‘sad’, ‘surprise’, ‘anger’). <li><a href="https://docs.openvino.ai/2022.3/omz_models_model_age_gender_recognition_retail_0013.html">Age gender recognition retail 0013</a>: fully convolutional network for simultaneous Age/Gender recognition. The network can recognize the age of people in the [18 - 75] years old range; it is not applicable for children since their faces were not in the training set.</td>
</tr>
<tr>
<td>RetinaNet R101</td>
<td>RetinaNet is a one-stage object detection model that utilizes a focal loss function to address class imbalance during training. Focal loss applies a modulating term to the cross entropy loss to focus learning on hard negative examples. RetinaNet is a single, unified network composed of a backbone network and two task-specific subnetworks. <br><br>For more information, see: <li><a href="https://paperswithcode.com/lib/detectron2/retinanet">Site: RetinaNET</a></td>
</tr>
<tr>
<td>Text detection</td>
<td>Text detector based on PixelLink architecture with MobileNetV2, depth_multiplier=1.4 as a backbone for indoor/outdoor scenes. <br><br> For more information, see: <li><a href="https://docs.openvino.ai/2022.3/omz_models_model_text_detection_0004.html">Site: OpenVINO Text detection 004</a></td>
</tr>
<tr>
<td>YOLO v3</td>
<td>YOLO v3 is a family of object detection architectures and models pre-trained on the COCO dataset. <br><br> For more information, see: <li><a href="https://docs.openvino.ai/2022.3/omz_models_model_yolo_v3_tf.html">Site: YOLO v3</a></td>
</tr>
<tr>
<td>YOLO v7</td>
<td>YOLOv7 is an advanced object detection model that outperforms other detectors in terms of both speed and accuracy. It can process frames at a rate ranging from 5 to 160 frames per second (FPS) and achieves the highest accuracy with 56.8% average precision (AP) among real-time object detectors running at 30 FPS or higher on the V100 graphics processing unit (GPU). <br><br> For more information, see: <li><a href="https://github.com/WongKinYiu/yolov7">GitHub: YOLO v7</a> <li><a href="https://arxiv.org/pdf/2207.02696.pdf">Paper: YOLO v7</a></td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h2 id="adding-models-from-hugging-face-and-roboflow">Adding models from Hugging Face and Roboflow</h2>
<p>In case you did not find the model you need, you can add a model
of your choice from <a href="https://huggingface.co/">Hugging Face</a>
or <a href="https://roboflow.com/">Roboflow</a>.</p>
<blockquote>
<p><strong>Note</strong>, that you cannot add models from Hugging Face and Roboflow to self-hosted CVAT.</p>
</blockquote>
<!--lint disable maximum-line-length-->
<p>For more information,
see <a href="https://www.cvat.ai/post/integrating-hugging-face-and-roboflow-models">Streamline annotation by integrating Hugging Face and Roboflow models</a>.</p>
<p>This video demonstrates the process:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/SbU3aB65W5s" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<!--lint enable maximum-line-length-->

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1f09c1323a230c32411755398c44c32b">2.22 - Specification for annotators</h1>
    <div class="lead">Learn how to easily create and add specification for annotators using the Guide feature.</div>
	<p>The <strong>Guide</strong> feature provides a built-in markdown editor that
allows you to create specification for annotators.</p>
<p>Once you create and submit the specification,
it will be accessible from the annotation interface (see below).</p>
<p>You can attach the specification to <strong>Projects</strong> or to <strong>Tasks</strong>.</p>
<p>The attachment procedure is the same for individual users and organizations.</p>
<p>See:</p>
<ul>
<li><a href="#adding-specification-to-project">Adding specification to Project</a>
<ul>
<li><a href="#editing-rights">Editing rights</a></li>
</ul>
</li>
<li><a href="#adding-specification-to-task">Adding specification to Task</a>
<ul>
<li><a href="#editing-rights-1">Editing rights</a></li>
</ul>
</li>
<li><a href="#access-to-specification-for-annotators">Access to specification for annotators</a></li>
<li><a href="#markdown-editor-guide">Markdown editor guide</a></li>
<li><a href="#specification-for-annotators-video-tutorial">Specification for annotators&rsquo; video tutorial</a></li>
</ul>
<h2 id="adding-specification-to-project">Adding specification to Project</h2>
<p>To add specification to the <strong>Projects</strong>, do the following:</p>
<ol>
<li>Go to the <strong>Projects</strong> page and click on the project to which you want to add specification.</li>
<li>Under the <strong>Project description</strong>, click <strong>Edit</strong>.</li>
</ol>
<p><img src="../../../images/project_spec.jpg" alt="Project specification"></p>
<ol start="3">
<li>Add instruction to the <a href="#markdown-editor-guide">Markdown editor</a>, and click <strong>Submit</strong>.</li>
</ol>
<h3 id="editing-rights">Editing rights</h3>
<ul>
<li><strong>For individual users</strong>: only the project owner and the project assignee can edit the specification.</li>
<li><strong>For organizations</strong>: specification additionally can be edited by the organization owner and maintainer</li>
</ul>
<p><img src="../../../images/editor_access_rights_1.jpg" alt="Editor rights"></p>
<h2 id="adding-specification-to-task">Adding specification to Task</h2>
<p>To add specification to the <strong>Task</strong>, do the following:</p>
<ol>
<li>
<p>Go to the <strong>Tasks</strong> page and click on the task to which you want to add specification.</p>
</li>
<li>
<p>Under the <strong>Task description</strong>, click <strong>Edit</strong>.</p>
<p><img src="../../../images/task_spec.jpg" alt="Task specification"></p>
</li>
<li>
<p>Add instruction to the <a href="#markdown-editor-guide">Markdown editor</a>, and click <strong>Submit</strong>.</p>
</li>
</ol>
<h3 id="editing-rights-1">Editing rights</h3>
<ul>
<li><strong>For individual users</strong>: only the task owner and task assignee can edit the specification.</li>
<li><strong>For organizations</strong>: only the task owner, maintainer, and task assignee can edit the specification.</li>
</ul>
<p><img src="../../../images/editor_access_rights_2.jpg" alt="Editor rights"></p>
<h2 id="access-to-specification-for-annotators">Access to specification for annotators</h2>
<p>The specification is opened automatically when the job has <code>new annotation</code> state.
It means, that it will open when the assigned user begins working on the first
job within a <strong>Project</strong> or <strong>Task</strong>.</p>
<p>The specifications will not automatically reopen
if the user moves to another job within the same <strong>Project</strong> or <strong>Task</strong>.</p>
<p>If a <strong>Project</strong> or <strong>Task</strong> is reassigned to another annotator, the specifications will
automatically be shown when the annotator opens the first job but will
not reappear for subsequent jobs.</p>
<p>To enable the option for specifications to always open automatically,
append the <code>?openGuide</code> parameter to the end of the job URL you share with the annotator:</p>
<pre tabindex="0"><code>/tasks/&lt;task_id&gt;/jobs/&lt;job_id&gt;?openGuide
</code></pre><p>For example:</p>
<pre tabindex="0"><code>https://app.cvat.ai/tasks/taskID/jobs/jobID?openGuide
</code></pre><p>To open specification manually, do the following:</p>
<ol>
<li>Open the job to see the annotation interface.</li>
<li>In the top right corner, click <strong>Guide button</strong>(<img src="../../../images/guide_icon.jpg" alt="Guide Icon">).</li>
</ol>
<h2 id="markdown-editor-guide">Markdown editor guide</h2>
<p>The markdown editor for <strong>Guide</strong> has two panes.
Add instructions to the left pane, and the editor
will immediately show the formatted result on the right.</p>
<p><img src="../../../images/markdown_editor.jpg" alt="Markdown editor"></p>
<p>You can write in raw markdown or use the toolbar on the top of the editor.</p>
<p><img src="../../../images/editor_toolbar.jpg" alt="Markdown editor"></p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Element</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Text formatting: bold, cursive, and strikethrough.</td>
</tr>
<tr>
<td>2</td>
<td>Insert a horizontal rule (horizontal line).</td>
</tr>
<tr>
<td>3</td>
<td>Add a title, heading, or subheading. It provides a drop-down list to select the title level (from 1 to 6).</td>
</tr>
<tr>
<td>4</td>
<td>Add a link. <br><strong>Note:</strong> If you left-click on the link, it will open in the same window.</td>
</tr>
<tr>
<td>5</td>
<td>Add a quote.</td>
</tr>
<tr>
<td>6</td>
<td>Add a single line of code.</td>
</tr>
<tr>
<td>7</td>
<td>Add a block of code.</td>
</tr>
<tr>
<td>8</td>
<td>Add a comment. The comment is only visible to Guide editors and remains invisible to annotators.</td>
</tr>
<tr>
<td>9</td>
<td>Add a picture. To use this option, first, upload the picture to an external resource and then add the link in the editor. Alternatively, you can drag and drop a picture into the editor, which will upload it to the CVAT server and add it to the specification.</td>
</tr>
<tr>
<td>10</td>
<td>Add a list: bullet list, numbered list, and checklist.</td>
</tr>
<tr>
<td>11</td>
<td>Hide the editor pane: options to hide the right pane, show both panes or hide the left pane.</td>
</tr>
<tr>
<td>12</td>
<td>Enable full-screen mode.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h2 id="specification-for-annotators-video-tutorial">Specification for annotators&rsquo; video tutorial</h2>
<p>Video tutorial on how to use the <strong>Guide</strong> feature.</p>
<!--lint disable maximum-line-length-->
<iframe width="560" height="315" src="https://www.youtube.com/embed/hAN9UGRvwOk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<!--lint enable maximum-line-length-->

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-824358cc96f8eb0510c3fef15f4323dd">2.23 - Backup Task and Project</h1>
    
	<h2 id="overview">Overview</h2>
<p>In CVAT you can backup tasks and projects.
This can be used to backup a task or project on your PC or to transfer to another server.</p>
<h2 id="create-backup">Create backup</h2>
<p>To backup a task or project, open the action menu and select <code>Backup Task</code> or <code>Backup Project</code>.</p>
<p><img src="../../../images/image219.jpg" alt=""></p>
<p>You can backup a project or a task locally on your PC or using an <a href="../../../docs/manual/basics/attach-cloud-storage/">attached cloud storage</a>.</p>
<p>(Optional) Specify the name in the <code>Custom name</code> text field for backup, otherwise the file of backup name
will be given by the mask <code>project_&lt;project_name&gt;_backup_&lt;date&gt;_&lt;time&gt;.zip</code> for the projects
and <code>task_&lt;task_name&gt;_backup_&lt;date&gt;_&lt;time&gt;.zip</code> for the tasks.</p>
<p><img src="../../../images/image253.jpg" alt=""></p>
<p>If you want to save a backup to a specific <a href="../../../docs/manual/basics/attach-cloud-storage/">attached cloud storage</a>,
you should additionally turn off the switch <code>Use default settings</code>, select the <code>Cloud storage</code> value
in the <code>Target storage</code> and select this storage in the list of the attached cloud storages.</p>
<h2 id="create-backup-apis">Create backup APIs</h2>
<ul>
<li>endpoints:
<ul>
<li><code>/tasks/{id}/backup</code></li>
<li><code>/projects/{id}/backup</code></li>
</ul>
</li>
<li>method: <code>GET</code></li>
<li>responses: 202, 201 with zip archive payload</li>
</ul>
<h3 id="upload-backup-apis">Upload backup APIs</h3>
<ul>
<li>endpoints:
<ul>
<li><code>/api/tasks/backup</code></li>
<li><code>/api/projects/backup</code></li>
</ul>
</li>
<li>method: <code>POST</code></li>
<li>Content-Type: <code>multipart/form-data</code></li>
<li>responses: 202, 201 with json payload</li>
</ul>
<h2 id="create-from-backup">Create from backup</h2>
<p>To create a task or project from a backup, go to the tasks or projects page,
click the <code>Create from backup</code> button and select the archive you need.</p>
<p><img src="../../../images/image220.jpg" alt=""></p>
<p>As a result, you&rsquo;ll get a task containing data, parameters, and annotations of
the previously exported task.</p>
<h2 id="backup-file-structure">Backup file structure</h2>
<p>As a result, you&rsquo;ll get a zip archive containing data,
task or project and task specification and annotations with the following structure:</p>

  
  
<ul class="nav nav-tabs" id="tabs-0" role="tablist">
  <li class="nav-item">
      <button class="nav-link active"
          id="tabs-00-00-tab" data-bs-toggle="tab" data-bs-target="#tabs-00-00" role="tab"
          aria-controls="tabs-00-00" aria-selected="true">
        Task Backup Structure
      </button>
    </li><li class="nav-item">
      <button class="nav-link"
          id="tabs-00-01-tab" data-bs-toggle="tab" data-bs-target="#tabs-00-01" role="tab"
          aria-controls="tabs-00-01" aria-selected="false">
        Project Backup Structure
      </button>
    </li>
</ul>

<div class="tab-content" id="tabs-0-content">
    <div class="tab-pane fade show active"
        id="tabs-00-00" role="tabpanel" aria-labelled-by="tabs-00-00-tab" tabindex="0">
        <pre tabindex="0"><code>    .
    ├── data
    │   └── {user uploaded data}
    ├── task.json
    └── annotations.json
  </code></pre>
    </div>
    <div class="tab-pane fade"
        id="tabs-00-01" role="tabpanel" aria-labelled-by="tabs-00-01-tab" tabindex="0">
        <pre tabindex="0"><code>    .
    ├── task_{id}
    │   ├── data
    │   │   └── {user uploaded data}
    │   ├── task.json
    │   └── annotations.json
    └── project.json
  </code></pre>
    </div>
</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-492ccd9aa01a223cf7b7ec967f649d61">2.24 - Frame deleting</h1>
    <div class="lead">This section explains how to delete and restore a frame from a task.</div>
	<h1 id="delete-frame">Delete frame</h1>
<p>You can delete the current frame from a task.
This frame will not be presented either in the UI or in the exported annotation.
Thus, it is possible to mark corrupted frames that are not subject to annotation.</p>
<ol>
<li>
<p>Go to the Job annotation view and click on the <strong>Delete frame</strong> button (<strong>Alt</strong>+<strong>Del</strong>).</p>
<blockquote>
<p><strong>Note:</strong> When you delete with the shortcut,
the frame will be deleted immediately without additional confirmation.</p>
</blockquote>
<p><img src="../../../images/image245.jpg" alt=""></p>
</li>
<li>
<p>After that you will be asked to confirm frame deleting.</p>
<blockquote>
<p><strong>Note:</strong> all annotations from that frame will be deleted, unsaved annotations
will be saved and the frame will be invisible in the annotation view (Until you make it visible in the settings).
If there is some overlap in the task and the deleted frame falls within this interval,
then this will cause this frame to become unavailable in another job as well.</p>
</blockquote>
</li>
<li>
<p>When you delete a frame in a job with tracks, you may need to adjust some tracks manually. Common adjustments are:</p>
<ul>
<li>Add keyframes at the edges of the deleted interval for the interpolation to look correct;</li>
<li>Move the keyframe start or end keyframe to the correct side of the deleted interval.</li>
</ul>
</li>
</ol>
<h1 id="configure-deleted-frames-visibility-and-navigation">Configure deleted frames visibility and navigation</h1>
<p>If you need to enable showing the deleted frames, you can do it in the settings.</p>
<ol>
<li>
<p>Go to the settings and chose <strong>Player</strong> settings.</p>
<p><img src="../../../images/image246.jpg" alt=""></p>
</li>
<li>
<p>Click on the <strong>Show deleted frames</strong> checkbox. And close the settings dialog.</p>
<p><img src="../../../images/image247.jpg" alt=""></p>
</li>
<li>
<p>Then you will be able to navigate through deleted frames.
But annotation tools will be unavailable. Deleted frames differ in the corresponding overlay.</p>
</li>
<li>
<p>There are view ways to navigate through deleted frames without enabling this option:</p>
<ul>
<li>Go to the frame via direct navigation methods: navigation slider or frame input field,</li>
<li>Go to the frame via the direct link.</li>
</ul>
</li>
<li>
<p>Navigation with step will not count deleted frames.</p>
</li>
</ol>
<h1 id="restore-deleted-frame">Restore deleted frame</h1>
<p>You can also restore deleted frames in the task.</p>
<ol>
<li>
<p>Turn on deleted frames visibility, as it was told in the previous part,
and go to the deleted frame you want to restore.</p>
<p><img src="../../../images/image248.jpg" alt=""></p>
</li>
<li>
<p>Click on the <strong>Restore</strong> icon. The frame will be restored immediately.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7d23ef5b2e47d5ef18660f1ece8daf0d">2.25 - Join and slice tools</h1>
    <div class="lead">This section explains how to slice or join several labels</div>
	<p>In CVAT you can modify shapes by either joining multiple shapes into
a single label or slicing a single label into several shapes.</p>
<p>This document provides guidance on how to perform these operations effectively.</p>
<p>See:</p>
<ul>
<li><a href="#joining-cvat-labels">Joining CVAT labels</a></li>
<li><a href="#slicing-cvat-labels">Slicing CVAT labels</a></li>
</ul>
<h2 id="joining-masks">Joining masks</h2>
<p>The <strong>Join masks</strong> tool (<img src="../../../images/join-masks-icon.jpg" alt="Join masks tool icon">),
is specifically designed to work with mask annotations.</p>
<p>This tool is useful in scenarios where a single object
in an image is annotated with multiple shapes,
and there is a need to merge these shapes into a single one.</p>
<p><img src="../../../images/joining-tool-01.jpg" alt="Join masks"></p>
<p>To join masks, do the following:</p>
<ol>
<li>From the <a href="../../../docs/manual/basics/controls-sidebar/#edit"><strong>Edit</strong></a> block,
select <strong>Join masks</strong> <img src="../../../images/join-masks-icon.jpg" alt="Join masks tool icon">.</li>
<li>Click on the canvas area, to select masks that you want to join.</li>
<li>(Optional) To remove the selection click the mask one more time.</li>
<li>Click again on <strong>Join masks</strong><img src="../../../images/join-masks-icon.jpg" alt="Join masks tool icon">
(<strong>J</strong>) to execute the join operation.</li>
</ol>
<p>Upon completion, the selected masks will be joined into a single mask.</p>
<p><img src="../../../images/joining-tool-02.gif" alt="Join masks gif"></p>
<h2 id="slicing-polygons-and-masks">Slicing polygons and masks</h2>
<p>The <strong>Slice mask/polygon</strong> (<img src="../../../images/slicing-tool-icon.jpg" alt="Slicing tool icon">)
is compatible with both mask and polygon annotations.</p>
<p>This tool is useful in scenarios where multiple objects in an image
are annotated with one shape,
and there is a need to slice this shape into multiple parts.</p>
<blockquote>
<p><strong>Note:</strong> The shape can be sliced only in two parts
at a time. Use the slice tool several times
to split a shape to as many parts as you need.</p>
</blockquote>
<p><img src="../../../images/slicing-tool-01.jpg" alt="Slicing tool"></p>
<p>To slice mask or polygon, do the following:</p>
<ol>
<li>From the <a href="../../../docs/manual/basics/controls-sidebar/#edit"><strong>Edit</strong></a> block,
select <strong>Slice mask/polygon</strong> <img src="../../../images/slicing-tool-icon.jpg" alt="Slicing tool icon">.</li>
<li>Click on the shape you intend to slice.
A black contour will appear around the selected shape.</li>
<li>Set an initial point for slicing by clicking on the contour.</li>
<li>Draw a line across the shape to define the slicing path.
<br>Hold Shift to add points automatically on cursor movement.
<br> <strong>Note</strong>: The line cannot cross itself.
<br> <strong>Note</strong>: The line cannot cross the contour more than twice.</li>
<li>(Optional)&gt; Right-click to cancel the latest point.</li>
<li>Click on the contour (<strong>Alt</strong>+<strong>J</strong>) (outside the contour) to finalize the slicing.</li>
</ol>
<p><img src="../../../images/slicing-tool-02.gif" alt="Slicing tool"></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-695864af5f32b0608f5d2b9e9572f851">2.26 - Import datasets and upload annotation</h1>
    <div class="lead">This section explains how to download and upload datasets (including annotation, images, and metadata) of projects, tasks, and jobs.</div>
	<h2 id="export-dataset">Export dataset</h2>
<p>You can export a dataset to a project, task or job.</p>
<ol>
<li>
<p>To download the latest annotations, you have to save all changes first.
Click the <code>Save</code> button. There is a <code>Ctrl+S</code> shortcut to save annotations quickly.</p>
<p><img src="../../../images/image028.jpg" alt=""></p>
</li>
<li>
<p>After that, click the <code>Menu</code> button.
Exporting and importing of task and project datasets takes place through the <code>Action</code> menu.</p>
</li>
<li>
<p>Press the <code>Export task dataset</code> button.</p>
<p><img src="../../../images/image225.jpg" alt=""></p>
</li>
<li>
<p>Choose the format for exporting the dataset. Exporting and importing is available in:</p>
<ul>
<li>
<p>Standard CVAT formats:</p>
<ul>
<li>
<p><a href="../../../docs/manual/advanced/xml_format/#interpolation">CVAT for video</a>
choose if the task is created in interpolation mode.</p>
</li>
<li>
<p><a href="../../../docs/manual/advanced/xml_format/#annotation">CVAT for images</a>
choose if a task is created in annotation mode.</p>
<br>
</li>
</ul>
</li>
<li>
<p>And also in formats from the <a href="../../../docs/manual/advanced/formats/">list of annotation formats supported by CVAT</a>.</p>
</li>
<li>
<p>For 3D tasks, the following formats are available:</p>
<ul>
<li><a href="http://www.cvlibs.net/datasets/kitti/raw_data.php">Kitti Raw Format 1.0</a></li>
<li>Sly Point Cloud Format 1.0  - Supervisely Point Cloud dataset</li>
</ul>
</li>
</ul>
<br>
</li>
<li>
<p>To download images with the dataset, enable the <code>Save images</code> option.</p>
</li>
<li>
<p>(Optional) To name the resulting archive, use the <code>Custom name</code> field.</p>
</li>
<li>
<p>You can choose a storage for dataset export by selecting a target storage <code>Local</code> or <code>Cloud storage</code>.
The default settings are the settings that had been selected when the project was created
(for example, if you specified a local storage when you created the project,
then by default, you will be prompted to export the dataset to your PC).
You can find out the default value by hovering the mouse over the <code>?</code>.
Learn more about <a href="../../../docs/manual/basics/attach-cloud-storage/">attach cloud storage</a>.</p>
</li>
</ol>
<h2 id="import-dataset">Import dataset</h2>
<p>You can import dataset only to a project. In this case, the data will be split into subsets.
To import a dataset, do the following on the <code>Project</code> page:</p>
<p><img src="../../../images/image238.jpg" alt=""></p>
<ul>
<li>Open the <code>Actions</code> menu.</li>
<li>Press the <code>Import dataset</code> button.</li>
<li>Select the dataset format (if you did not specify a custom name during export,
the format will be in the archive name).</li>
<li>Drag the file to the file upload area or click on the upload area to select the file through the explorer.</li>
</ul>
<p><img src="../../../images/image250.jpg" alt=""></p>
<ul>
<li>You can also import a dataset from an attached cloud storage.
Here you should select the annotation format, then select a cloud storage from the list or use default settings
if you have already specified required cloud storage for task or project
and specify a zip archive to the text field <code>File name</code>.</li>
</ul>
<p>During the import process, you will be able to track the progress of the import.</p>
<h2 id="upload-annotations">Upload annotations</h2>
<p><img src="../../../images/image251.jpg" alt=""></p>
<p>In the task or job you can upload an annotation. For this select the item <code>Upload annotation</code>
in the menu <code>Action</code> of the task or in the job <code>Menu</code> on the <code>Top panel</code> select the format in which you plan
to upload the annotation and select the annotation file or archive via explorer.</p>
<p><img src="../../../images/image252.jpg" alt=""></p>
<p>Or you can also use the attached cloud storage to upload the annotation file.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f588fe2ead0d52f7dc13ab44434d9446">2.27 - Export annotations and data from CVAT</h1>
    <div class="lead">List of data export formats formats supported by CVAT.</div>
	<p>In CVAT, you have the option to export data in various formats.
The choice of export format depends on the type of annotation as
well as the intended future use of the dataset.</p>
<p>See:</p>
<ul>
<li><a href="#data-export-formats">Data export formats</a></li>
<li><a href="#exporting-dataset-in-cvat">Exporting dataset in CVAT</a>
<ul>
<li><a href="#exporting-dataset-from-task">Exporting dataset from Task</a></li>
<li><a href="#exporting-dataset-from-job">Exporting dataset from Job</a></li>
</ul>
</li>
<li><a href="#data-export-video-tutorial">Data export video tutorial</a></li>
</ul>
<h2 id="data-export-formats">Data export formats</h2>
<p>The table below outlines the available formats for data export in CVAT.</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Format</th>
<th>Type</th>
<th>Annotation Type</th>
<th>Models</th>
<th>Shapes</th>
<th>Attributes</th>
<th>Video Tracks</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="format-camvid">CamVid 1.0</a></td>
<td>.txt <br>.png</td>
<td>Semantic <br>Segmentation</td>
<td>U-Net, SegNet, DeepLab, <br>PSPNet, FCN, Mask R-CNN, <br>ICNet, ERFNet, HRNet, <br>V-Net, and others.</td>
<td>Polygons</td>
<td>Not supported</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="format-cityscapes">Cityscapes 1.0</a></td>
<td>.txt<br>.png</td>
<td>Semantic<br>Segmentation</td>
<td>U-Net, SegNet, DeepLab, <br>PSPNet, FCN, ERFNet, <br>ICNet, Mask R-CNN, HRNet, <br>ENet, and others.</td>
<td>Polygons</td>
<td>Specific attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="format-coco">COCO 1.0</a></td>
<td>JSON</td>
<td>Detection, Semantic <br>Segmentation</td>
<td>YOLO (You Only Look Once), <br>Faster R-CNN, Mask R-CNN, SSD (Single Shot MultiBox Detector), <br> RetinaNet, EfficientDet, UNet, <br>DeepLabv3+, CenterNet, Cascade R-CNN, and others.</td>
<td>Bounding Boxes, Polygons</td>
<td>Specific attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="coco-keypoints">COCO Keypoings 1.0</a></td>
<td>.xml</td>
<td>Keypoints</td>
<td>OpenPose, PoseNet, AlphaPose, <br> SPM (Single Person Model), <br>Mask R-CNN with Keypoint Detection:, and others.</td>
<td>Skeletons</td>
<td>Specific attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="../../../docs/manual/advanced/formats/format-cvat/#cvat-for-videos-export">CVAT for images 1.1</a></td>
<td>.xml</td>
<td>Universal format<br> for all types of <br>annotations.</td>
<td>Universal format<br> for all types of <br>models.</td>
<td>Bounding Boxes, Polygons, <br>Polylines, Points, Cuboids, <br>Skeletons, Tags.</td>
<td>All attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="../../../docs/manual/advanced/formats/format-cvat/#cvat-for-videos-export">CVAT for video 1.1</a></td>
<td>.xml</td>
<td>Universal format<br> for all types of <br>annotations.</td>
<td>Universal format<br> for all types of <br>annotations.</td>
<td>Bounding Boxes, Polygons, <br>Polylines, Points, Cuboids, <br>Skeletons, Tags, Tracks.</td>
<td>All attributes</td>
<td>Supported</td>
</tr>
<tr>
<td><a href="format-datumaro">Datumaro 1.0</a></td>
<td>JSON</td>
<td>Universal format<br> for all types of <br>annotations.</td>
<td>Universal format<br> for all types of <br>models.</td>
<td>Bounding Boxes, Polygons, <br>Polylines, Points, Cuboids, <br>Skeletons, Tags, Tracks.</td>
<td>All attributes</td>
<td>Supported</td>
</tr>
<tr>
<td><a href="format-icdar">ICDAR</a><br> Includes ICDAR Recognition 1.0, <br>ICDAR Detection 1.0, <br>and ICDAR Segmentation 1.0 <br>descriptions.</td>
<td>.txt</td>
<td>Text recognition, <br>Text detection, <br>Text segmentation</td>
<td>EAST: Efficient and Accurate <br>Scene Text Detector, CRNN, Mask TextSpotter, TextSnake, <br>and others.</td>
<td>Tag, Bounding Boxes, Polygons</td>
<td>Specific attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="format-imagenet">ImageNet 1.0</a></td>
<td>.jpg <br>.txt</td>
<td>Semantic Segmentation, <br>Classification, <br>Detection</td>
<td>VGG (VGG16, VGG19), Inception, YOLO, Faster R-CNN , U-Net, and others</td>
<td>Tags</td>
<td>No attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="format-kitti">KITTI 1.0</a></td>
<td>.txt <br>.png</td>
<td>Semantic Segmentation, Detection, 3D</td>
<td>PointPillars, SECOND, AVOD, YOLO, DeepSORT, PWC-Net, ORB-SLAM, and others.</td>
<td>Bounding Boxes, Polygons</td>
<td>Specific attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="format-labelme">LabelMe 3.0</a></td>
<td>.xml</td>
<td>Compatibility, <br>Semantic Segmentation</td>
<td>U-Net, Mask R-CNN, Fast R-CNN,<br> Faster R-CNN, DeepLab, YOLO, <br>and others.</td>
<td>Bounding Boxes, Polygons</td>
<td>Supported (Polygons)</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="format-lfw">LFW 1.0</a></td>
<td>.txt</td>
<td>Verification, <br>Face recognition</td>
<td>OpenFace, VGGFace &amp; VGGFace2, <br>FaceNet, ArcFace, <br>and others.</td>
<td>Tags, Skeletons</td>
<td>Specific attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="format-market1501">Market-1501 1.0</a></td>
<td>.txt</td>
<td>Re-identification</td>
<td>Triplet Loss Networks, <br>Deep ReID models, and others.</td>
<td>Bounding Boxes</td>
<td>Specific attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="format-mot">MOT 1.0</a></td>
<td>.txt</td>
<td>Video Tracking, <br>Detection</td>
<td>SORT, MOT-Net, IOU Tracker, <br>and others.</td>
<td>Bounding Boxes, Tracks</td>
<td>Specific attributes</td>
<td>Supported</td>
</tr>
<tr>
<td><a href="format-mots">MOTS PNG 1.0</a></td>
<td>.png<br>.txt</td>
<td>Video Tracking, <br>Detection</td>
<td>SORT, MOT-Net, IOU Tracker, <br>and others.</td>
<td>Bounding Boxes, Tracks, Masks</td>
<td>Specific attributes</td>
<td>Supported</td>
</tr>
<tr>
<td><a href="format-openimages">Open Images 1.0</a></td>
<td>.csv</td>
<td>Detection, <br>Classification, <br>Semantic Segmentaion</td>
<td>Faster R-CNN, YOLO, U-Net, <br>CornerNet, and others.</td>
<td>Bounding Boxes, Tags, Polygons</td>
<td>Specific attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="format-voc">PASCAL VOC 1.0</a></td>
<td>.xml</td>
<td>Classification, Detection</td>
<td>Faster R-CNN, SSD, YOLO, <br>AlexNet, and others.</td>
<td>Bounding Boxes, Tags, Polygons</td>
<td>Specific attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="format-smask">Segmentation Mask 1.0</a></td>
<td>.txt</td>
<td>Semantic Segmentation</td>
<td>Faster R-CNN, SSD, YOLO, <br>AlexNet, and others.</td>
<td>Polygons</td>
<td>No attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="format-vggface2">VGGFace2 1.0</a></td>
<td>.csv</td>
<td>Face recognition</td>
<td>VGGFace, ResNet, Inception, <br> and others.</td>
<td>Bounding Boxes, Points</td>
<td>No attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="format-widerface">WIDER Face 1.0</a></td>
<td>.txt</td>
<td>Detection</td>
<td>SSD (Single Shot MultiBox Detector), Faster R-CNN, YOLO, <br>and others.</td>
<td>Bounding Boxes, Tags</td>
<td>Specific attributes</td>
<td>Not supported</td>
</tr>
<tr>
<td><a href="format-yolo">YOLO 1.0</a></td>
<td>.txt</td>
<td>Detection</td>
<td>YOLOv1, YOLOv2 (YOLO9000), <br>YOLOv3, YOLOv4, and others.</td>
<td>Bounding Boxes</td>
<td>No attributes</td>
<td>Not supported</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<h2 id="exporting-dataset-in-cvat">Exporting dataset in CVAT</h2>
<h3 id="exporting-dataset-from-task">Exporting dataset from Task</h3>
<p>To export the dataset from the task, follow these steps:</p>
<ol>
<li>
<p>Open Task.</p>
</li>
<li>
<p>Go to <strong>Actions</strong> &gt; <strong>Export task dataset.</strong></p>
</li>
<li>
<p>Choose the desired format from the list of available options.</p>
</li>
<li>
<p>(Optional) Toggle the <strong>Save images</strong> switch if you
wish to include images in the export.</p>
<blockquote>
<p><strong>Note</strong>: The <strong>Save images</strong> option is a <strong>paid feature</strong>.</p>
</blockquote>
<p><img src="../../../images/export_job_as_dataset_dialog.png" alt="Save images option"></p>
</li>
<li>
<p>Input a name for the resulting <code>.zip</code> archive.</p>
</li>
<li>
<p>Click <strong>OK</strong> to initiate the export.</p>
</li>
</ol>
<h3 id="exporting-dataset-from-job">Exporting dataset from Job</h3>
<p>To export a dataset from Job follow these steps:</p>
<ol>
<li>
<p>Navigate to <strong>Menu</strong> &gt; <strong>Export job dataset</strong>.</p>
<p><img src="../../../images/export_job_as_dataset_menu.png" alt="Export dataset"></p>
</li>
<li>
<p>Choose the desired format from the list of available options.</p>
</li>
<li>
<p>(Optional) Toggle the <strong>Save images</strong> switch
if you wish to include images in the export.</p>
<blockquote>
<p><strong>Note</strong>: The <strong>Save images</strong> option is a <strong>paid feature</strong>.</p>
</blockquote>
<p><img src="../../../images/export_job_as_dataset_dialog.png" alt="Save images option"></p>
</li>
<li>
<p>Input a name for the resulting <code>.zip</code> archive.</p>
</li>
<li>
<p>Click <strong>OK</strong> to initiate the export.</p>
</li>
</ol>
<h2 id="data-export-video-tutorial">Data export video tutorial</h2>
<p>For more information on the process, see the following tutorial:</p>
<!--lint disable maximum-line-length-->
<iframe width="560" height="315" src="https://www.youtube.com/embed/gzjVpVV9orE?si=2tiBIqts8nk_byTH" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<!--lint enable maximum-line-length-->

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-bb85520cf3910fc2c5223b25cd27fb23">2.27.1 - CVAT for image</h1>
    <div class="lead">How to export and import data in CVAT for image format</div>
	<p>This is CVAT&rsquo;s native annotation format,
which fully supports all of CVAT&rsquo;s annotation features.
It is ideal for creating data backups.</p>
<p>For more information, see:</p>
<ul>
<li><a href="../../../docs/manual/advanced/xml_format/">Format specification</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/cvat_dataset">Dataset examples</a></li>
</ul>
<h2 id="cvat-for-image-export">CVAT for image export</h2>
<p>For export of images:</p>
<ul>
<li>Supported annotations: Bounding Boxes, Polygons, Polylines,
Points, Cuboids, Skeletons, Tags, Tracks</li>
<li>Attributes: Supported.</li>
<li>Tracks: Supported (tracks are split by frames).</li>
</ul>
<p>The downloaded file is a zip archive with following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── images/
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   ├── img1.png
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   └── img2.jpg
</span></span><span style="display:flex;"><span>└── annotations.xml
</span></span></code></pre></div><h2 id="cvat-for-video-export">CVAT for video export</h2>
<p>For export of images:</p>
<ul>
<li>Supported annotations: Bounding Boxes, Polygons, Polylines,
Points, Cuboids, Skeletons, Tags, Tracks</li>
<li>Attributes: Supported.</li>
<li>Tracks: Supported (tracks are split by frames).</li>
<li>Shapes are exported as single-frame tracks</li>
</ul>
<p>Downloaded file is a zip archive with following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── images/
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   ├── frame_000000.png
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   └── frame_000001.png
</span></span><span style="display:flex;"><span>└── annotations.xml
</span></span></code></pre></div><h2 id="cvat-loader">CVAT loader</h2>
<p>Uploaded file: either an XML file or a
.zip file containing the aforementioned structures.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-56305e87b0babeca60c43bc357abdecd">2.27.2 - Datumaro</h1>
    <div class="lead">How to export and import data in Datumaro format</div>
	<p>Datumaro serves as a versatile format capable of handling complex
dataset and annotation transformations,
format conversions, dataset statistics, and merging, among other features.
It functions as the dataset support provider within CVAT.
Essentially, anything you can do in CVAT, you can also achieve
in Datumaro, but with the added benefit of specialized dataset operations.</p>
<p>For more information, see:</p>
<ul>
<li><a href="https://github.com/cvat-ai/datumaro/">Datumaro specification</a></li>
</ul>
<h1 id="export-annotations-in-datumaro-format">Export annotations in Datumaro format</h1>
<p>For export of images: any 2D shapes, tags</p>
<ul>
<li>Supported annotations: Bounding Boxes, Polygons.</li>
<li>Attributes: Supported.</li>
<li>Tracks: Supported.</li>
</ul>
<p>The downloaded file is a zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── annotations/
</span></span><span style="display:flex;"><span>│   └── default.json <span style="color:#8f5902;font-style:italic"># fully description of classes and all dataset items</span>
</span></span><span style="display:flex;"><span>└── images/ <span style="color:#8f5902;font-style:italic"># if the option `save images` was selected</span>
</span></span><span style="display:flex;"><span>    └── default
</span></span><span style="display:flex;"><span>        ├── image1.jpg
</span></span><span style="display:flex;"><span>        ├── image2.jpg
</span></span><span style="display:flex;"><span>        ├── ...
</span></span></code></pre></div><h1 id="import-annotations-in-datumaro-format">Import annotations in Datumaro format</h1>
<ul>
<li>supported annotations: any 2D shapes, labels</li>
<li>supported attributes: any</li>
</ul>
<p>Uploaded file: a zip archive of the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;archive_name&gt;.zip/
</span></span><span style="display:flex;"><span>└── annotations/
</span></span><span style="display:flex;"><span>    ├── subset1.json <span style="color:#8f5902;font-style:italic"># fully description of classes and all dataset items</span>
</span></span><span style="display:flex;"><span>    └── subset2.json <span style="color:#8f5902;font-style:italic"># fully description of classes and all dataset items</span>
</span></span></code></pre></div><p>JSON annotations files in the <code>annotations</code> directory should have similar structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;info&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{},</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;categories&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;label&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;labels&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;label_0&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;parent&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;label_1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;parent&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;items&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;id&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;img1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;annotations&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;id&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;polygon&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{},</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;group&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;label_id&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;points&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1.0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">3.0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">4.0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">5.0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">6.0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">7.0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">8.0</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;z_order&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;id&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;bbox&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{},</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;group&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;label_id&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;z_order&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;bbox&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1.0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">3.0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">4.0</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;id&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;mask&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{},</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;group&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;label_id&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;rle&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;counts&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;d0d0:F\\0&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;size&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;z_order&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-89565d26b6237565243f9fbdb1c69506">2.27.3 - LabelMe</h1>
    <div class="lead">How to export and import data in LabelMe format</div>
	<p>The LabelMe format is often used for image segmentation tasks in computer vision.
While it may not be specifically tied to any particular models,
it&rsquo;s designed to be versatile and can be easily converted to formats
that are compatible with popular frameworks like TensorFlow or PyTorch.</p>
<p>For more information, see:</p>
<ul>
<li><a href="http://labelme.csail.mit.edu/Release3.0">LabelMe</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/labelme_dataset">Dataset examples</a></li>
</ul>
<h2 id="labelme-export">LabelMe export</h2>
<p>For export of images:</p>
<ul>
<li>Supported annotations: Bounding Boxes, Polygons.</li>
<li>Attributes: Supported for Polygons.</li>
<li>Tracks: Not supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── img1.jpg
</span></span><span style="display:flex;"><span>└── img1.xml
</span></span></code></pre></div><h2 id="labelme-import">LabelMe import</h2>
<p>Uploaded file: a zip archive of the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── Masks/
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   ├── img1_mask1.png
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   └── img1_mask2.png
</span></span><span style="display:flex;"><span>├── img1.xml
</span></span><span style="display:flex;"><span>├── img2.xml
</span></span><span style="display:flex;"><span>└── img3.xml
</span></span></code></pre></div><ul>
<li>supported annotations: Rectangles, Polygons, Masks (as polygons)</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-684a69f071dbb7f0c74bfa7aa048bc55">2.27.4 - MOT</h1>
    <div class="lead">How to export and import data in MOT format</div>
	<p>The MOT (Multiple Object Tracking) sequence format is widely
used for evaluating multi-object tracking algorithms, particularly in
the domains of pedestrian tracking, vehicle tracking, and more.
The MOT sequence format essentially contains frames of video
along with annotations that specify object locations and identities over time.</p>
<p>For more information, see:</p>
<ul>
<li><a href="https://arxiv.org/pdf/1906.04567.pdf">MOT sequence paper</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/mot_dataset">Dataset examples</a></li>
</ul>
<h2 id="mot-export">MOT export</h2>
<p>For export of images and videos:</p>
<ul>
<li>Supported annotations: Bounding Boxes, Tracks.</li>
<li>Attributes: <code>visibility</code> (number), <code>ignored</code> (checkbox)</li>
<li>Tracks: Supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── img1/
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   ├── image1.jpg
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   └── image2.jpg
</span></span><span style="display:flex;"><span>└── gt/
</span></span><span style="display:flex;"><span>    ├── labels.txt
</span></span><span style="display:flex;"><span>    └── gt.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># labels.txt</span>
</span></span><span style="display:flex;"><span>cat
</span></span><span style="display:flex;"><span>dog
</span></span><span style="display:flex;"><span>person
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># gt.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># frame_id, track_id, x, y, w, h, &#34;not ignored&#34;, class_id, visibility, &lt;skipped&gt;</span>
</span></span><span style="display:flex;"><span>1,1,1363,569,103,241,1,1,0.86014
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><h2 id="mot-import">MOT import</h2>
<p>Uploaded file: a zip archive of the structure above or:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>archive.zip/
</span></span><span style="display:flex;"><span>└── gt/
</span></span><span style="display:flex;"><span>    └── gt.txt
</span></span><span style="display:flex;"><span>    └── labels.txt <span style="color:#8f5902;font-style:italic"># optional, mandatory for non-official labels</span>
</span></span></code></pre></div><ul>
<li>supported annotations: Rectangle tracks</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6d73c8045cca651d4c33c37c54bee1eb">2.27.5 - MOTS</h1>
    <div class="lead">How to export and import data in MOTS format</div>
	<p>The MOT (Multiple Object Tracking) sequence format is widely
used for evaluating multi-object tracking algorithms, particularly in
the domains of pedestrian tracking, vehicle tracking, and more.
The MOT sequence format essentially contains frames of video
along with annotations that specify object locations and identities over time.</p>
<p>This version encoded as .png. Supports masks.</p>
<p>For more information, see:</p>
<ul>
<li><a href="https://www.vision.rwth-aachen.de/page/mots">MOTS PNG Specification</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/mots_dataset">Dataset examples</a></li>
</ul>
<h2 id="mots-png-export">MOTS PNG export</h2>
<p>For export of images and videos:</p>
<ul>
<li>Supported annotations: Bounding Boxes, Tracks.</li>
<li>Attributes: <code>visibility</code> (number), <code>ignored</code> (checkbox).</li>
<li>Tracks: Supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>└── &lt;any_subset_name&gt;/
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">|</span>   images/
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">|</span>   ├── image1.jpg
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">|</span>   └── image2.jpg
</span></span><span style="display:flex;"><span>    └── instances/
</span></span><span style="display:flex;"><span>        ├── labels.txt
</span></span><span style="display:flex;"><span>        ├── image1.png
</span></span><span style="display:flex;"><span>        └── image2.png
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># labels.txt</span>
</span></span><span style="display:flex;"><span>cat
</span></span><span style="display:flex;"><span>dog
</span></span><span style="display:flex;"><span>person
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><ul>
<li>supported annotations: Rectangle and Polygon tracks</li>
</ul>
<h2 id="mots-png-import">MOTS PNG import</h2>
<p>Uploaded file: a zip archive of the structure above</p>
<ul>
<li>supported annotations: Polygon tracks</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-290a597e3f293c37b49f23700c1c7029">2.27.6 - COCO</h1>
    <div class="lead">How to export and import data in COCO format</div>
	<p>A widely-used machine learning structure, the COCO dataset is instrumental
for tasks involving object identification and image segmentation.
This format is compatible with projects that employ bounding boxes or
polygonal image annotations.</p>
<p>For more information, see:</p>
<ul>
<li><a href="http://cocodataset.org/#format-data">COCO Object Detection site</a></li>
<li><a href="https://openvinotoolkit.github.io/datumaro/stable/docs/data-formats/formats/coco.html">Format specification</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/coco_dataset">Dataset examples</a></li>
</ul>
<h2 id="coco-export">COCO export</h2>
<p>For export of images and videos:</p>
<ul>
<li>Supported annotations: Bounding Boxes, Polygons.</li>
<li>Attributes:
<ul>
<li><code>is_crowd</code> This can either be a checkbox or an integer
(with values of 0 or 1). It indicates that the instance
(or group of objects) should include an RLE-encoded mask in the <code>segmentation</code> field.
All shapes within the group coalesce into a single, overarching mask,
with the largest shape setting the properties for the entire object group.</li>
<li><code>score</code>: This numerical field represents the annotation <code>score</code>.</li>
<li>Arbitrary attributes: These will be stored within the <code>attributes</code>
section of the annotation.</li>
</ul>
</li>
<li>Tracks: Not supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<pre tabindex="0"><code>archive.zip/
├── images/
│   ├── train/
│   │   ├── &lt;image_name1.ext&gt;
│   │   ├── &lt;image_name2.ext&gt;
│   │   └── ...
│   └── val/
│       ├── &lt;image_name1.ext&gt;
│       ├── &lt;image_name2.ext&gt;
│       └── ...
└── annotations/
   ├── &lt;task&gt;_&lt;subset_name&gt;.json
   └── ...
</code></pre><p>When exporting a dataset from a Project, subset names will mirror those used within the project itself.
Otherwise, a singular default subset will be created to house all the dataset information.
The <task> section aligns with one of the specific COCO tasks,
such as <code>instances</code>, <code>panoptic</code>, <code>image_info</code>, <code>labels</code>, <code>captions</code>, or <code>stuff</code>.</p>
<h2 id="coco-import">COCO import</h2>
<p>Uplod format: a single unpacked <code>*.json</code> or a zip archive with the structure described above or
<a href="https://openvinotoolkit.github.io/datumaro/latest/docs/data-formats/formats/coco.html#import-coco-dataset">here</a>
(without images).</p>
<ul>
<li>supported annotations: Polygons, Rectangles (if the <code>segmentation</code> field is empty)</li>
<li>supported tasks: <code>instances</code>, <code>person_keypoints</code> (only segmentations will be imported), <code>panoptic</code></li>
</ul>
<h2 id="how-to-create-a-task-from-ms-coco-dataset">How to create a task from MS COCO dataset</h2>
<ol>
<li>
<p>Download the <a href="https://openvinotoolkit.github.io/datumaro/latest/docs/data-formats/formats/coco.html#import-coco-dataset">MS COCO dataset</a>.</p>
<p>For example <code>val images</code> and <code>instances</code> annotations</p>
</li>
<li>
<p>Create a CVAT task with the following labels:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>person bicycle car motorcycle airplane bus train truck boat <span style="color:#4e9a06">&#34;traffic light&#34;</span> <span style="color:#4e9a06">&#34;fire hydrant&#34;</span> <span style="color:#4e9a06">&#34;stop sign&#34;</span> <span style="color:#4e9a06">&#34;parking meter&#34;</span> bench bird cat dog horse sheep cow elephant bear zebra giraffe backpack umbrella handbag tie suitcase frisbee skis snowboard <span style="color:#4e9a06">&#34;sports ball&#34;</span> kite <span style="color:#4e9a06">&#34;baseball bat&#34;</span> <span style="color:#4e9a06">&#34;baseball glove&#34;</span> skateboard surfboard <span style="color:#4e9a06">&#34;tennis racket&#34;</span> bottle <span style="color:#4e9a06">&#34;wine glass&#34;</span> cup fork knife spoon bowl banana apple sandwich orange broccoli carrot <span style="color:#4e9a06">&#34;hot dog&#34;</span> pizza donut cake chair couch <span style="color:#4e9a06">&#34;potted plant&#34;</span> bed <span style="color:#4e9a06">&#34;dining table&#34;</span> toilet tv laptop mouse remote keyboard <span style="color:#4e9a06">&#34;cell phone&#34;</span> microwave oven toaster sink refrigerator book clock vase scissors <span style="color:#4e9a06">&#34;teddy bear&#34;</span> <span style="color:#4e9a06">&#34;hair drier&#34;</span> toothbrush
</span></span></code></pre></div></li>
<li>
<p>Select <code>val2017.zip</code> as data
(See <a href="../../../docs/manual/basics/creating_an_annotation_task/">Creating an annotation task</a>
guide for details)</p>
</li>
<li>
<p>Unpack <code>annotations_trainval2017.zip</code></p>
</li>
<li>
<p>click <code>Upload annotation</code> button,
choose <code>COCO 1.1</code> and select <code>instances_val2017.json</code>
annotation file. It can take some time.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b1da59e4956bad77b6489a96875a5ab0">2.27.7 - COCO Keypoints</h1>
    <div class="lead">How to export and import data in COCO Keypoints format</div>
	<p>The COCO Keypoints format is designed specifically for human pose estimation tasks, where the objective
is to identify and localize body joints (keypoints) on a human figure within an image.</p>
<p>This specialized format is used with a variety of state-of-the-art models focused on pose estimation.</p>
<p>For more information, see:</p>
<ul>
<li><a href="https://cocodataset.org/#keypoints-2020">COCO Keypoint site</a></li>
<li><a href="https://openvinotoolkit.github.io/datumaro/latest/docs/data-formats/formats/coco.html">Format specification</a></li>
<li><a href="https://openvinotoolkit.github.io/datumaro/latest/docs/data-formats/formats/coco.html#import-coco-dataset">Example of the archive</a></li>
</ul>
<h2 id="coco-keypoints-export">COCO Keypoints export</h2>
<p>For export of images:</p>
<ul>
<li>Supported annotations: Skeletons</li>
<li>Attributes:
<ul>
<li><code>is_crowd</code> This can either be a checkbox or an integer
(with values of 0 or 1). It indicates that the instance
(or group of objects) should include an RLE-encoded mask in the <code>segmentation</code> field.
All shapes within the group coalesce into a single, overarching mask,
with the largest shape setting the properties for the entire object group.</li>
<li><code>score</code>: This numerical field represents the annotation <code>score</code>.</li>
<li>Arbitrary attributes: These will be stored within the <code>attributes</code>
section of the annotation.</li>
</ul>
</li>
<li>Tracks: Not supported.</li>
</ul>
<p>Downloaded file is a .zip archive with the following structure:</p>
<pre tabindex="0"><code>archive.zip/
├── images/
│
│   ├── &lt;image_name1.ext&gt;
│   ├── &lt;image_name2.ext&gt;
│   └── ...
├──&lt;annotations&gt;.xml
</code></pre><h2 id="coco-import">COCO import</h2>
<p>Uploaded file: a single unpacked <code>*.json</code> or a zip archive with the structure described
<a href="https://openvinotoolkit.github.io/datumaro/latest/docs/data-formats/formats/coco.html#import-coco-dataset">here</a>
(without images).</p>
<ul>
<li>supported annotations: Skeletons</li>
</ul>
<p><code>person_keypoints</code>,</p>
<p>Support for COCO tasks via Datumaro is described <a href="https://openvinotoolkit.github.io/datumaro/latest/docs/data-formats/formats/coco.html#export-to-other-formats">here</a>
For example, <a href="https://github.com/openvinotoolkit/cvat/issues/2910#issuecomment-726077582">support for COCO keypoints over Datumaro</a>:</p>
<ol>
<li>Install <a href="https://github.com/openvinotoolkit/datumaro">Datumaro</a>
<code>pip install datumaro</code></li>
<li>Export the task in the <code>Datumaro</code> format, unzip</li>
<li>Export the Datumaro project in <code>coco</code> / <code>coco_person_keypoints</code> formats
<code>datum export -f coco -p path/to/project [-- --save-images]</code></li>
</ol>
<p>This way, one can export CVAT points as single keypoints or
keypoint lists (without the <code>visibility</code> COCO flag).</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-94f134e11587c913b9a0a9ea83f89beb">2.27.8 - Pascal VOC</h1>
    <div class="lead">How to export and import data in Pascal VOC format</div>
	<p>The Pascal VOC (Visual Object Classes) format
is one of the earlier established benchmarks for object classification and detection,
which provides a standardized image data set for object class recognition.</p>
<p>The export data format is XML-based and has been widely adopted in computer vision tasks.</p>
<p>For more information, see:</p>
<ul>
<li><a href="http://host.robots.ox.ac.uk/pascal/VOC/">Pascal VOC</a></li>
<li><a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2012/devkit_doc.pdf">Format specification</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/voc_dataset">Dataset examples</a></li>
</ul>
<h2 id="pascal-voc-export">Pascal VOC export</h2>
<p>For export of images:</p>
<ul>
<li>Supported annotations: Bounding Boxes (detection),
Tags (classification), Polygons (segmentation)</li>
<li>Attributes:
<ul>
<li><code>occluded</code> as both UI option and a separate attribute.</li>
<li><code>truncated</code> and <code>difficult</code> must be defined for labels as <code>checkbox</code>.</li>
<li>Arbitrary attributes in the <code>attributes</code> section of XML files.</li>
</ul>
</li>
<li>Tracks: Not supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── JPEGImages/
</span></span><span style="display:flex;"><span>│   ├── &lt;image_name1&gt;.jpg
</span></span><span style="display:flex;"><span>│   ├── &lt;image_name2&gt;.jpg
</span></span><span style="display:flex;"><span>│   └── &lt;image_nameN&gt;.jpg
</span></span><span style="display:flex;"><span>├── Annotations/
</span></span><span style="display:flex;"><span>│   ├── &lt;image_name1&gt;.xml
</span></span><span style="display:flex;"><span>│   ├── &lt;image_name2&gt;.xml
</span></span><span style="display:flex;"><span>│   └── &lt;image_nameN&gt;.xml
</span></span><span style="display:flex;"><span>├── ImageSets/
</span></span><span style="display:flex;"><span>│   └── Main/
</span></span><span style="display:flex;"><span>│       └── default.txt
</span></span><span style="display:flex;"><span>└── labelmap.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># labelmap.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># label : color_rgb : &#39;body&#39; parts : actions</span>
</span></span><span style="display:flex;"><span>background:::
</span></span><span style="display:flex;"><span>aeroplane:::
</span></span><span style="display:flex;"><span>bicycle:::
</span></span><span style="display:flex;"><span>bird:::
</span></span></code></pre></div><h2 id="pascal-voc-import">Pascal VOC import</h2>
<p>Supported attributes: action attributes (import only, should be defined as <code>checkbox</code> -es)</p>
<p>Uploaded file: a zip archive of the structure declared above or the following:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── &lt;image_name1&gt;.xml
</span></span><span style="display:flex;"><span>├── &lt;image_name2&gt;.xml
</span></span><span style="display:flex;"><span>└── &lt;image_nameN&gt;.xml
</span></span></code></pre></div><p>It must be possible for CVAT to match the frame name and file name
from annotation <code>.xml</code> file (the <code>filename</code> tag, e. g.
<code>&lt;filename&gt;2008_004457.jpg&lt;/filename&gt;</code> ).</p>
<p>There are 2 options:</p>
<ol>
<li>
<p>full match between frame name and file name from annotation <code>.xml</code>
(in cases when task was created from images or image archive).</p>
</li>
<li>
<p>match by frame number. File name should be <code>&lt;number&gt;.jpg</code>
or <code>frame_000000.jpg</code>. It should be used when task was created from video.</p>
</li>
</ol>
<h2 id="how-to-create-a-task-from-pascal-voc-dataset">How to create a task from Pascal VOC dataset</h2>
<ol>
<li>
<p>Download the Pascal Voc dataset (Can be downloaded from the
<a href="http://host.robots.ox.ac.uk/pascal/VOC/">PASCAL VOC website</a>)</p>
</li>
<li>
<p>Create a CVAT task with the following labels:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aeroplane bicycle bird boat bottle bus car cat chair cow diningtable
</span></span><span style="display:flex;"><span>dog horse motorbike person pottedplant sheep sofa train tvmonitor
</span></span></code></pre></div><p>You can add <code>~checkbox=difficult:false ~checkbox=truncated:false</code>
attributes for each label if you want to use them.</p>
<p>Select interesting image files
(See <a href="../../../docs/manual/basics/creating_an_annotation_task/">Creating an annotation task</a> guide for details)</p>
</li>
<li>
<p>zip the corresponding annotation files</p>
</li>
<li>
<p>click <code>Upload annotation</code> button, choose <code>Pascal VOC ZIP 1.1</code></p>
<p>and select the zip file with annotations from previous step.
It may take some time.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0c5d17d5590514f46eebca33f1932956">2.27.9 - Segmentation Mask</h1>
    <div class="lead">How to export and import data in Segmentation Mask format</div>
	<p>Segmentation masks format is often used in the training of models for tasks
like semantic segmentation, instance segmentation, and panoptic segmentation.</p>
<p>Segmentation Mask in CVAT is
a format created by CVAT engineers
inside the <a href="docs/manual/advanced/formats/format-voc/">Pascal VOC</a></p>
<h2 id="segmentation-mask-export">Segmentation mask export</h2>
<p>For export of images:</p>
<ul>
<li>Supported annotations: Bounding Boxes, Polygons.</li>
<li>Attributes: Not supported.</li>
<li>Tracks: Not supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── labelmap.txt <span style="color:#8f5902;font-style:italic"># optional, required for non-VOC labels</span>
</span></span><span style="display:flex;"><span>├── ImageSets/
</span></span><span style="display:flex;"><span>│   └── Segmentation/
</span></span><span style="display:flex;"><span>│       └── default.txt <span style="color:#8f5902;font-style:italic"># list of image names without extension</span>
</span></span><span style="display:flex;"><span>├── SegmentationClass/ <span style="color:#8f5902;font-style:italic"># merged class masks</span>
</span></span><span style="display:flex;"><span>│   ├── image1.png
</span></span><span style="display:flex;"><span>│   └── image2.png
</span></span><span style="display:flex;"><span>└── SegmentationObject/ <span style="color:#8f5902;font-style:italic"># merged instance masks</span>
</span></span><span style="display:flex;"><span>    ├── image1.png
</span></span><span style="display:flex;"><span>    └── image2.png
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># labelmap.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># label : color (RGB) : &#39;body&#39; parts : actions</span>
</span></span><span style="display:flex;"><span>background:0,128,0::
</span></span><span style="display:flex;"><span>aeroplane:10,10,128::
</span></span><span style="display:flex;"><span>bicycle:10,128,0::
</span></span><span style="display:flex;"><span>bird:0,108,128::
</span></span><span style="display:flex;"><span>boat:108,0,100::
</span></span><span style="display:flex;"><span>bottle:18,0,8::
</span></span><span style="display:flex;"><span>bus:12,28,0::
</span></span></code></pre></div><p>The mask is a <code>png</code> image that can have either 1 or 3 channels.
Each pixel in the image has a color that corresponds to a specific label.
The colors are generated according to the Pascal VOC <a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2012/htmldoc/devkit_doc.html#sec:voclabelcolormap">
algorithm</a>.
By default, the color <code>(0, 0, 0)</code> is used to represent the background.</p>
<h2 id="segmentation-mask-import">Segmentation mask import</h2>
<p>Uploaded file: a zip archive of the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>  taskname.zip/
</span></span><span style="display:flex;"><span>  ├── labelmap.txt <span style="color:#8f5902;font-style:italic"># optional, required for non-VOC labels</span>
</span></span><span style="display:flex;"><span>  ├── ImageSets/
</span></span><span style="display:flex;"><span>  │   └── Segmentation/
</span></span><span style="display:flex;"><span>  │       └── &lt;any_subset_name&gt;.txt
</span></span><span style="display:flex;"><span>  ├── SegmentationClass/
</span></span><span style="display:flex;"><span>  │   ├── image1.png
</span></span><span style="display:flex;"><span>  │   └── image2.png
</span></span><span style="display:flex;"><span>  └── SegmentationObject/
</span></span><span style="display:flex;"><span>      ├── image1.png
</span></span><span style="display:flex;"><span>      └── image2.png
</span></span></code></pre></div><p>It is also possible to import grayscale (1-channel) PNG masks.
For grayscale masks provide a list of labels with the number of lines equal
to the maximum color index on images. The lines must be in the right order
so that line index is equal to the color index. Lines can have arbitrary,
but different, colors. If there are gaps in the used color
indices in the annotations, they must be filled with arbitrary dummy labels.
Example:</p>
<pre tabindex="0"><code>q:0,128,0:: # color index 0
aeroplane:10,10,128:: # color index 1
_dummy2:2,2,2:: # filler for color index 2
_dummy3:3,3,3:: # filler for color index 3
boat:108,0,100:: # color index 3
...
_dummy198:198,198,198:: # filler for color index 198
_dummy199:199,199,199:: # filler for color index 199
...
the last label:12,28,0:: # color index 200
</code></pre><ul>
<li>supported shapes: Polygons</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-325950f41f3ace02cd43a9a49e738e12">2.27.10 - YOLO</h1>
    <div class="lead">How to export and import data in YOLO format</div>
	<p>YOLO, which stands for &ldquo;You Only Look Once,&rdquo; is a renowned framework
predominantly utilized for real-time object detection tasks.
Its efficiency and speed make it an ideal choice for many applications.
While YOLO has its unique data format,
this format can be tailored to suit other object detection models as well.</p>
<p>For more information, see:</p>
<ul>
<li><a href="https://pjreddie.com/darknet/yolo/">YOLO Specification</a></li>
<li><a href="https://github.com/AlexeyAB/darknet#how-to-train-to-detect-your-custom-objects">Format specification</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/yolo_dataset">Dataset examples</a></li>
</ul>
<h2 id="yolo-export">YOLO export</h2>
<p>For export of images:</p>
<ul>
<li>Supported annotations: Bounding Boxes.</li>
<li>Attributes: Not supported.</li>
<li>Tracks: Not supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>archive.zip/
</span></span><span style="display:flex;"><span>├── obj.data
</span></span><span style="display:flex;"><span>├── obj.names
</span></span><span style="display:flex;"><span>├── obj_&lt;subset&gt;_data
</span></span><span style="display:flex;"><span>│   ├── image1.txt
</span></span><span style="display:flex;"><span>│   └── image2.txt
</span></span><span style="display:flex;"><span>└── train.txt <span style="color:#8f5902;font-style:italic"># list of subset image paths</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># the only valid subsets are: train, valid</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># train.txt and valid.txt:</span>
</span></span><span style="display:flex;"><span>obj_&lt;subset&gt;_data/image1.jpg
</span></span><span style="display:flex;"><span>obj_&lt;subset&gt;_data/image2.jpg
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># obj.data:</span>
</span></span><span style="display:flex;"><span><span style="color:#000">classes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#8f5902;font-style:italic"># optional</span>
</span></span><span style="display:flex;"><span><span style="color:#000">names</span> <span style="color:#ce5c00;font-weight:bold">=</span> obj.names
</span></span><span style="display:flex;"><span><span style="color:#000">train</span> <span style="color:#ce5c00;font-weight:bold">=</span> train.txt
</span></span><span style="display:flex;"><span><span style="color:#000">valid</span> <span style="color:#ce5c00;font-weight:bold">=</span> valid.txt <span style="color:#8f5902;font-style:italic"># optional</span>
</span></span><span style="display:flex;"><span><span style="color:#000">backup</span> <span style="color:#ce5c00;font-weight:bold">=</span> backup/ <span style="color:#8f5902;font-style:italic"># optional</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># obj.names:</span>
</span></span><span style="display:flex;"><span>cat
</span></span><span style="display:flex;"><span>dog
</span></span><span style="display:flex;"><span>airplane
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># image_name.txt:</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># label_id - id from obj.names</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># cx, cy - relative coordinates of the bbox center</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># rw, rh - relative size of the bbox</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># label_id cx cy rw rh</span>
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">1</span> 0.3 0.8 0.1 0.3
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">2</span> 0.7 0.2 0.3 0.1
</span></span></code></pre></div><p>Each annotation file, with the <code>.txt</code> extension,
is named to correspond with its associated image file.</p>
<p>For example, <code>frame_000001.txt</code> serves as the annotation for the
<code>frame_000001.jpg</code> image.</p>
<p>The structure of the <code>.txt</code> file is as follows:
each line describes a label and a bounding box
in the format <code>label_id cx cy w h</code>.
The file <code>obj.names</code> contains an ordered list of label names.</p>
<h2 id="yolo-import">YOLO import</h2>
<p>Uploaded file: a zip archive of the same structure as above
It must be possible to match the CVAT frame (image name)
and annotation file name. There are 2 options:</p>
<ol>
<li>
<p>full match between image name and name of annotation <code>*.txt</code> file
(in cases when a task was created from images or archive of images).</p>
</li>
<li>
<p>match by frame number (if CVAT cannot match by name). File name
should be in the following format <code>&lt;number&gt;.jpg</code> .
It should be used when task was created from a video.</p>
</li>
</ol>
<h2 id="how-to-create-a-task-from-yolo-formatted-dataset-from-voc-for-example">How to create a task from YOLO formatted dataset (from VOC for example)</h2>
<ol>
<li>
<p>Follow the official <a href="https://pjreddie.com/darknet/yolo/">guide</a> (see Training YOLO on VOC section)
and prepare the YOLO formatted annotation files.</p>
</li>
<li>
<p>Zip train images</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>zip images.zip -j -@ &lt; train.txt
</span></span></code></pre></div></li>
<li>
<p>Create a CVAT task with the following labels:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aeroplane bicycle bird boat bottle bus car cat chair cow diningtable dog
</span></span><span style="display:flex;"><span>horse motorbike person pottedplant sheep sofa train tvmonitor
</span></span></code></pre></div><p>Select images. zip as data. Most likely you should use <code>share</code>
functionality because size of images. zip is more than 500Mb.
See <a href="../../../docs/manual/basics/creating_an_annotation_task/">Creating an annotation task</a>
guide for details.</p>
</li>
<li>
<p>Create <code>obj.names</code> with the following content:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aeroplane
</span></span><span style="display:flex;"><span>bicycle
</span></span><span style="display:flex;"><span>bird
</span></span><span style="display:flex;"><span>boat
</span></span><span style="display:flex;"><span>bottle
</span></span><span style="display:flex;"><span>bus
</span></span><span style="display:flex;"><span>car
</span></span><span style="display:flex;"><span>cat
</span></span><span style="display:flex;"><span>chair
</span></span><span style="display:flex;"><span>cow
</span></span><span style="display:flex;"><span>diningtable
</span></span><span style="display:flex;"><span>dog
</span></span><span style="display:flex;"><span>horse
</span></span><span style="display:flex;"><span>motorbike
</span></span><span style="display:flex;"><span>person
</span></span><span style="display:flex;"><span>pottedplant
</span></span><span style="display:flex;"><span>sheep
</span></span><span style="display:flex;"><span>sofa
</span></span><span style="display:flex;"><span>train
</span></span><span style="display:flex;"><span>tvmonitor
</span></span></code></pre></div></li>
<li>
<p>Zip all label files together (we need to add only label files that correspond to the train subset):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat train.txt <span style="color:#000;font-weight:bold">|</span> <span style="color:#204a87;font-weight:bold">while</span> <span style="color:#204a87">read</span> p<span style="color:#000;font-weight:bold">;</span> <span style="color:#204a87;font-weight:bold">do</span> <span style="color:#204a87">echo</span> <span style="color:#4e9a06">${</span><span style="color:#000">p</span><span style="color:#000;font-weight:bold">%/*/*</span><span style="color:#4e9a06">}</span>/labels/<span style="color:#4e9a06">${${</span><span style="color:#000">p</span><span style="color:#000;font-weight:bold">##*/</span><span style="color:#4e9a06">}</span><span style="color:#000;font-weight:bold">%%.*</span><span style="color:#4e9a06">}</span>.txt<span style="color:#000;font-weight:bold">;</span> <span style="color:#204a87;font-weight:bold">done</span> <span style="color:#000;font-weight:bold">|</span> zip labels.zip -j -@ obj.names
</span></span></code></pre></div></li>
<li>
<p>Click <code>Upload annotation</code> button, choose <code>YOLO 1.1</code> and select the zip
file with labels from the previous step.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-37ea47d7e7cb5ab2516a949cad325f19">2.27.11 - ImageNet</h1>
    <div class="lead">How to export and import data in ImageNet format</div>
	<p>The ImageNet is typically used for a variety of computer vision tasks,
including but not limited to image classification, object detection,
and segmentation.</p>
<p>It is widely recognized and used in the training and
benchmarking of various machine learning models.</p>
<p>For more information, see:</p>
<ul>
<li><a href="http://www.image-net.org">ImageNet site</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/imagenet_dataset">Dataset examples</a></li>
</ul>
<h2 id="imagenet-export">ImageNet export</h2>
<p>For export of images:</p>
<ul>
<li>Supported annotations: Tags.</li>
<li>Attributes: Not supported.</li>
<li>Tracks: Not supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># if we save images:</span>
</span></span><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── label1/
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   ├── label1_image1.jpg
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   └── label1_image2.jpg
</span></span><span style="display:flex;"><span>└── label2/
</span></span><span style="display:flex;"><span>    ├── label2_image1.jpg
</span></span><span style="display:flex;"><span>    ├── label2_image3.jpg
</span></span><span style="display:flex;"><span>    └── label2_image4.jpg
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># if we keep only annotation:</span>
</span></span><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── &lt;any_subset_name&gt;.txt
</span></span><span style="display:flex;"><span>└── synsets.txt
</span></span></code></pre></div><h2 id="imagenet-import">ImageNet import</h2>
<p>Uploaded file: a zip archive of the structure above</p>
<ul>
<li>supported annotations: Labels</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f3e3abb5b13d6f59f5100a9d8ae3645f">2.27.12 - Wider Face</h1>
    <div class="lead">How to export and import data in Wider Face format</div>
	<p>The WIDER Face dataset is widely used for face detection tasks.
Many popular models for object detection and face detection
specifically are trained on this dataset for benchmarking and deployment.</p>
<p>For more information, see:</p>
<ul>
<li><a href="http://shuoyang1213.me/WIDERFACE/">WIDER Face Specification</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/widerface_dataset">Dataset examples</a></li>
</ul>
<h2 id="wider-face-export">WIDER Face export</h2>
<p>For export of images:</p>
<ul>
<li>Supported annotations: Bounding Boxes (with attributes), Tags.</li>
<li>Attributes:
<ul>
<li><code>blur</code>, <code>expression</code>, <code>illumination</code>, <code>pose</code>, <code>invalid</code></li>
<li><code>occluded</code> (both the annotation property &amp; an attribute).</li>
</ul>
</li>
<li>Tracks: Not supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── labels.txt <span style="color:#8f5902;font-style:italic"># optional</span>
</span></span><span style="display:flex;"><span>├── wider_face_split/
</span></span><span style="display:flex;"><span>│   └── wider_face_&lt;any_subset_name&gt;_bbx_gt.txt
</span></span><span style="display:flex;"><span>└── WIDER_&lt;any_subset_name&gt;/
</span></span><span style="display:flex;"><span>    └── images/
</span></span><span style="display:flex;"><span>        ├── 0--label0/
</span></span><span style="display:flex;"><span>        │   └── 0_label0_image1.jpg
</span></span><span style="display:flex;"><span>        └── 1--label1/
</span></span><span style="display:flex;"><span>            └── 1_label1_image2.jpg
</span></span></code></pre></div><h2 id="wider-face-import">WIDER Face import</h2>
<p>Uploaded file: a zip archive of the structure above</p>
<ul>
<li>supported annotations: Rectangles (with attributes), Labels</li>
<li>supported attributes:
<ul>
<li><code>blur</code>, <code>expression</code>, <code>illumination</code>, <code>occluded</code>, <code>pose</code>, <code>invalid</code></li>
</ul>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-bdc4a2c3af1233a5e9cdef14bd683a14">2.27.13 - CamVid</h1>
    <div class="lead">How to export and import data in CamVid format</div>
	<p>The CamVid (Cambridge-driving Labeled Video Database) format is most commonly used
in the realm of semantic segmentation tasks. It is particularly useful for training
and evaluating models for autonomous driving and other vision-based robotics
applications.</p>
<p>For more information, see:</p>
<ul>
<li><a href="http://mi.eng.cam.ac.uk/research/projects/VideoRec/CamVid/">CamVid Specification</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/camvid_dataset">Dataset examples</a></li>
</ul>
<h2 id="camvid-export">CamVid export</h2>
<p>For export of images and videos:</p>
<ul>
<li>Supported annotations: Bounding Boxes, Polygons.</li>
<li>Attributes: Not supported.</li>
<li>Tracks: Not supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── label_colors.txt <span style="color:#8f5902;font-style:italic"># optional, required for non-CamVid labels</span>
</span></span><span style="display:flex;"><span>├── &lt;any_subset_name&gt;/
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   ├── image1.png
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   └── image2.png
</span></span><span style="display:flex;"><span>├── &lt;any_subset_name&gt;annot/
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   ├── image1.png
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   └── image2.png
</span></span><span style="display:flex;"><span>└── &lt;any_subset_name&gt;.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># label_colors.txt (with color value type)</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># if you want to manually set the color for labels, configure label_colors.txt as follows:</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># color (RGB) label</span>
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> Void
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">64</span> <span style="color:#0000cf;font-weight:bold">128</span> <span style="color:#0000cf;font-weight:bold">64</span> Animal
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">192</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">128</span> Archway
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">128</span> <span style="color:#0000cf;font-weight:bold">192</span> Bicyclist
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">128</span> <span style="color:#0000cf;font-weight:bold">64</span> Bridge
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># label_colors.txt (without color value type)</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># if you do not manually set the color for labels, it will be set automatically:</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># label</span>
</span></span><span style="display:flex;"><span>Void
</span></span><span style="display:flex;"><span>Animal
</span></span><span style="display:flex;"><span>Archway
</span></span><span style="display:flex;"><span>Bicyclist
</span></span><span style="display:flex;"><span>Bridge
</span></span></code></pre></div><p>A mask in the CamVid dataset is typically a <strong>.png</strong>
image with either one or three channels.</p>
<p>In this image, each pixel is assigned a specific color
that corresponds to a particular label.</p>
<p>By default, the color <code>(0, 0, 0)</code>—or <code>black</code>—is used
to represent the background.</p>
<h2 id="camvid-import">CamVid import</h2>
<p>For import of images:</p>
<ul>
<li>Uploaded file: a <em>.zip</em> archive of the structure above</li>
<li>supported annotations: Polygons</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e5cb2753d48cd08b4ee4ff9e10696658">2.27.14 - VGGFace2</h1>
    <div class="lead">How to export and import data in VGGFace2 format</div>
	<p>The VGGFace2 is primarily designed for face recognition tasks and is
most commonly used with deep learning models specifically designed for face recognition,
verification, and similar tasks.</p>
<p>For more information, see:</p>
<ul>
<li><a href="https://github.com/ox-vgg/vgg_face2">VGGFace2 Github</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/vgg_face2_dataset">Dataset examples</a></li>
</ul>
<h2 id="vggface2-export">VGGFace2 export</h2>
<p>For export of images:</p>
<ul>
<li>Supported annotations: Bounding Boxes, Points (landmarks - groups of 5 points).</li>
<li>Attributes: Not supported.</li>
<li>Tracks: Not supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── labels.txt <span style="color:#8f5902;font-style:italic"># optional</span>
</span></span><span style="display:flex;"><span>├── &lt;any_subset_name&gt;/
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   ├── label0/
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   <span style="color:#000;font-weight:bold">|</span>   └── image1.jpg
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>   └── label1/
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>       └── image2.jpg
</span></span><span style="display:flex;"><span>└── bb_landmark/
</span></span><span style="display:flex;"><span>    ├── loose_bb_&lt;any_subset_name&gt;.csv
</span></span><span style="display:flex;"><span>    └── loose_landmark_&lt;any_subset_name&gt;.csv
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># labels.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># n000001 car</span>
</span></span><span style="display:flex;"><span>label0 &lt;class0&gt;
</span></span><span style="display:flex;"><span>label1 &lt;class1&gt;
</span></span></code></pre></div><h2 id="vggface2-import">VGGFace2 import</h2>
<p>Uploaded file: a zip archive of the structure above</p>
<ul>
<li>supported annotations: Rectangles, Points (landmarks - groups of 5 points)</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b43e1ff431da6854eb46bb51b712cc0b">2.27.15 - Market-1501</h1>
    <div class="lead">How to export and import data in Market-1501 format</div>
	<p>The Market-1501 dataset is widely used for person re-identification tasks.
It is a challenging dataset that has gained significant attention
in the computer vision community.</p>
<p>For more information, see:</p>
<ul>
<li><a href="https://www.aitribune.com/dataset/2018051063">Market-1501</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/market1501_dataset">Dataset examples</a></li>
</ul>
<h2 id="market-1501-export">Market-1501 export</h2>
<p>For export of images:</p>
<ul>
<li>Supported annotations: Bounding Boxes</li>
<li>Attributes: <code>query</code> (checkbox), <code>person_id</code> (number), <code>camera_id</code>(number).</li>
<li>Tracks: Not supported.</li>
</ul>
<p>Th downloaded file is a .zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>├── bounding_box_&lt;any_subset_name&gt;/
</span></span><span style="display:flex;"><span>│   └── image_name_1.jpg
</span></span><span style="display:flex;"><span>└── query
</span></span><span style="display:flex;"><span>    ├── image_name_2.jpg
</span></span><span style="display:flex;"><span>    └── image_name_3.jpg
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># if we keep only annotation:</span>
</span></span><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>└── images_&lt;any_subset_name&gt;.txt
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># images_&lt;any_subset_name&gt;.txt</span>
</span></span><span style="display:flex;"><span>query/image_name_1.jpg
</span></span><span style="display:flex;"><span>bounding_box_&lt;any_subset_name&gt;/image_name_2.jpg
</span></span><span style="display:flex;"><span>bounding_box_&lt;any_subset_name&gt;/image_name_3.jpg
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># image_name = 0001_c1s1_000015_00.jpg</span>
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">0001</span> - person id
</span></span><span style="display:flex;"><span>c1 - camera id <span style="color:#ce5c00;font-weight:bold">(</span>there are totally <span style="color:#0000cf;font-weight:bold">6</span> cameras<span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>s1 - sequence
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">000015</span> - frame number in sequence
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">00</span> - means that this bounding box is the first one among the several
</span></span></code></pre></div><h2 id="market-1501-import">Market-1501 import</h2>
<p>Uploaded file: a zip archive of the structure above</p>
<ul>
<li>supported annotations: Label <code>market-1501</code> with attributes (<code>query</code>, <code>person_id</code>, <code>camera_id</code>)</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-58cc638fb0d2a3516ec0e834a1eb3973">2.27.16 - ICDAR13/15</h1>
    <div class="lead">How to export and import data in ICDAR13/15 format</div>
	<p>ICDAR 13/15 formats are typically used for text detection and recognition tasks
and OCR (Optical Character Recognition).</p>
<p>These formats are usually paired with specialized text detection and recognition models.</p>
<p>For more information, see:</p>
<ul>
<li><a href="https://rrc.cvc.uab.es/?ch=2">ICDAR13/15</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/icdar_dataset">Dataset examples</a></li>
</ul>
<h2 id="icdar1315-export">ICDAR13/15 export</h2>
<p>For export of images:</p>
<ul>
<li><strong>ICDAR Recognition 1.0</strong> (Text recognition):
<ul>
<li>Supported annotations: Tag <code>icdar</code></li>
<li>Attributes: <code>caption</code>.</li>
</ul>
</li>
<li><strong>ICDAR Detection 1.0</strong> (Text detection):
<ul>
<li>Supported annotations: Bounding Boxes, Polygons with lavel <code>icdar</code>
added in constructor.</li>
<li>Attributes: <code>text</code>.</li>
</ul>
</li>
<li><strong>ICDAR Segmentation 1.0</strong> (Text segmentation):
<ul>
<li>Supported annotations: Bounding Boxes, Polygons with label <code>icdar</code>
added in constructor.</li>
<li>Attributes: <code>index</code>, <code>text</code>, <code>color</code>, <code>center</code></li>
</ul>
</li>
<li>Tracks: Not supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># text recognition task</span>
</span></span><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>└── word_recognition/
</span></span><span style="display:flex;"><span>    └── &lt;any_subset_name&gt;/
</span></span><span style="display:flex;"><span>        ├── images
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">|</span>   ├── word1.png
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">|</span>   └── word2.png
</span></span><span style="display:flex;"><span>        └── gt.txt
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># text localization task</span>
</span></span><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>└── text_localization/
</span></span><span style="display:flex;"><span>    └── &lt;any_subset_name&gt;/
</span></span><span style="display:flex;"><span>        ├── images
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">|</span>   ├── img_1.png
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">|</span>   └── img_2.png
</span></span><span style="display:flex;"><span>        ├── gt_img_1.txt
</span></span><span style="display:flex;"><span>        └── gt_img_1.txt
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#text segmentation task</span>
</span></span><span style="display:flex;"><span>taskname.zip/
</span></span><span style="display:flex;"><span>└── text_localization/
</span></span><span style="display:flex;"><span>    └── &lt;any_subset_name&gt;/
</span></span><span style="display:flex;"><span>        ├── images
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">|</span>   ├── 1.png
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">|</span>   └── 2.png
</span></span><span style="display:flex;"><span>        ├── 1_GT.bmp
</span></span><span style="display:flex;"><span>        ├── 1_GT.txt
</span></span><span style="display:flex;"><span>        ├── 2_GT.bmp
</span></span><span style="display:flex;"><span>        └── 2_GT.txt
</span></span></code></pre></div><h2 id="icdar1315-import">ICDAR13/15 import</h2>
<p>Uploaded file: a zip archive of the structure above</p>
<p><strong>Word recognition task</strong>:</p>
<ul>
<li>supported annotations: Label <code>icdar</code> with attribute <code>caption</code></li>
</ul>
<p><strong>Text localization task</strong>:</p>
<ul>
<li>supported annotations: Rectangles and Polygons with label <code>icdar</code>
and attribute <code>text</code></li>
</ul>
<p><strong>Text segmentation task</strong>:</p>
<ul>
<li>supported annotations: Rectangles and Polygons with label <code>icdar</code>
and attributes <code>index</code>, <code>text</code>, <code>color</code>, <code>center</code></li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-30f91a45fc1a90a5d4185adb88f285cf">2.27.17 - Open Images</h1>
    <div class="lead">How to export and import data in Open Images format</div>
	<p>The Open Images format is based on a large-scale, diverse dataset
that contains object detection, object segmentation, visual relationship,
and localized narratives annotations.</p>
<p>Its export data format is compatible with many object detection and segmentation models.</p>
<p>For more information, see:</p>
<ul>
<li><a href="https://storage.googleapis.com/openimages/web/index.html">Open Images site</a></li>
<li><a href="https://storage.googleapis.com/openimages/web/download.html">Format specification</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/open_images_dataset">Dataset examples</a></li>
</ul>
<h2 id="open-images-export">Open Images export</h2>
<p>For export of images:</p>
<ul>
<li>
<p>Supported annotations: Bounding Boxes (detection),
Tags (classification), Polygons (segmentation).</p>
</li>
<li>
<p>Supported attributes:</p>
<ul>
<li>Tags: <code>score</code> must be defined for labels as <code>text</code> or <code>number</code>.
The confidence level from 0 to 1.</li>
<li>Bounding boxes: <br><code>score</code> must be defined for labels as <code>text</code> or <code>number</code>.
The confidence level from 0 to 1. <br> <code>occluded</code> as both UI option
and a separate attribute. Whether the object is occluded by another object. <br><code>truncated</code>
must be defined for labels as <code>checkbox</code>. Whether the object extends beyond the boundary of the image.
<br><code>is_group_of</code> must be defined for labels as <code>checkbox</code>. Whether the object
represents a group of objects of the same class. <br><code>is_depiction</code> must be
defined for labels as <code>checkbox</code>. Whether the object is a depiction (such as a drawing)
rather than a real object. <br><code>is_inside</code> must be defined
for labels as <code>checkbox</code>. Whether the object is seen from the inside.</li>
<li>Masks:
<br><code>box_id</code> must be defined for labels as <code>text</code>. An identifier for
the bounding box associated with the mask.
<br><code>predicted_iou</code> must be defined for labels as <code>text</code> or <code>number</code>.
Predicted IoU value with respect to the ground truth.</li>
</ul>
</li>
<li>
<p>Tracks: Not supported.</p>
</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<pre tabindex="0"><code>└─ taskname.zip/
    ├── annotations/
    │   ├── bbox_labels_600_hierarchy.json
    │   ├── class-descriptions.csv
    |   ├── images.meta  # additional file with information about image sizes
    │   ├── &lt;subset_name&gt;-image_ids_and_rotation.csv
    │   ├── &lt;subset_name&gt;-annotations-bbox.csv
    │   ├── &lt;subset_name&gt;-annotations-human-imagelabels.csv
    │   └── &lt;subset_name&gt;-annotations-object-segmentation.csv
    ├── images/
    │   ├── subset1/
    │   │   ├── &lt;image_name101.jpg&gt;
    │   │   ├── &lt;image_name102.jpg&gt;
    │   │   └── ...
    │   ├── subset2/
    │   │   ├── &lt;image_name201.jpg&gt;
    │   │   ├── &lt;image_name202.jpg&gt;
    │   │   └── ...
    |   ├── ...
    └── masks/
        ├── subset1/
        │   ├── &lt;mask_name101.png&gt;
        │   ├── &lt;mask_name102.png&gt;
        │   └── ...
        ├── subset2/
        │   ├── &lt;mask_name201.png&gt;
        │   ├── &lt;mask_name202.png&gt;
        │   └── ...
        ├── ...
</code></pre><h2 id="open-images-import">Open Images import</h2>
<p>Uploaded file: a zip archive of the following structure:</p>
<pre tabindex="0"><code>└─ upload.zip/
    ├── annotations/
    │   ├── bbox_labels_600_hierarchy.json
    │   ├── class-descriptions.csv
    |   ├── images.meta  # optional, file with information about image sizes
    │   ├── &lt;subset_name&gt;-image_ids_and_rotation.csv
    │   ├── &lt;subset_name&gt;-annotations-bbox.csv
    │   ├── &lt;subset_name&gt;-annotations-human-imagelabels.csv
    │   └── &lt;subset_name&gt;-annotations-object-segmentation.csv
    └── masks/
        ├── subset1/
        │   ├── &lt;mask_name101.png&gt;
        │   ├── &lt;mask_name102.png&gt;
        │   └── ...
        ├── subset2/
        │   ├── &lt;mask_name201.png&gt;
        │   ├── &lt;mask_name202.png&gt;
        │   └── ...
        ├── ...
</code></pre><p>Image ids in the <code>&lt;subset_name&gt;-image_ids_and_rotation.csv</code> should match with
image names in the task.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f65edfb2f20864caafe1b7854693d809">2.27.18 - Cityscapes</h1>
    <div class="lead">How to export and import data in Cityscapes format</div>
	<p>The Cityscapes format is a widely-used standard in the field of computer vision,
particularly for tasks involving semantic and instance segmentation in urban scenes.
This dataset format typically comprises high-resolution images of
cityscapes along with detailed pixel-level annotations.</p>
<p>Each pixel is labeled with a category such as &ldquo;road,&rdquo; &ldquo;pedestrian,&rdquo; or &ldquo;vehicle,&rdquo; making
it a valuable resource for training and validating machine learning
models aimed at understanding urban environments. It&rsquo;s a go-to choice
for researchers and professionals working on autonomous vehicles,
robotics, and smart cities.</p>
<p>For more information, see:</p>
<ul>
<li><a href="https://www.cityscapes-dataset.com/login/">Cityscapes site</a></li>
<li><a href="https://github.com/mcordts/cityscapesScripts#the-cityscapes-dataset">Cityscapes format specification</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/cityscapes_dataset">Cityscapes dataset examples</a></li>
</ul>
<h1 id="cityscapes-export">Cityscapes export</h1>
<p>For export of images:</p>
<ul>
<li>Supported annotations: Polygons (segmentation), Bounding Boxes.</li>
<li>Attributes:
<ul>
<li><code>is_crowd</code> boolean, should be defined for labels as <code>checkbox</code>.
Specifies if the annotation label can distinguish between different instances.
If False, the annotation id field encodes the instance id.</li>
</ul>
</li>
<li>Tracks: Not supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<pre tabindex="0"><code>.
├── label_color.txt
├── gtFine
│   ├── &lt;subset_name&gt;
│   │   └── &lt;city_name&gt;
│   │       ├── image_0_gtFine_instanceIds.png
│   │       ├── image_0_gtFine_color.png
│   │       ├── image_0_gtFine_labelIds.png
│   │       ├── image_1_gtFine_instanceIds.png
│   │       ├── image_1_gtFine_color.png
│   │       ├── image_1_gtFine_labelIds.png
│   │       ├── ...
└── imgsFine  # if saving images was requested
    └── leftImg8bit
        ├── &lt;subset_name&gt;
        │   └── &lt;city_name&gt;
        │       ├── image_0_leftImg8bit.png
        │       ├── image_1_leftImg8bit.png
        │       ├── ...
</code></pre><ul>
<li><code>label_color.txt</code> a file that describes the color for each label</li>
</ul>
<pre tabindex="0"><code># label_color.txt example
# r g b label_name
0 0 0 background
0 255 0 tree
...
</code></pre><ul>
<li><code>*_gtFine_color.png</code> class labels encoded by its color.</li>
<li><code>*_gtFine_labelIds.png</code> class labels are encoded by its index.</li>
<li><code>*_gtFine_instanceIds.png</code> class and instance labels encoded
by an instance ID. The pixel values encode class and the individual instance:
the integer part of a division by 1000 of each ID provides class ID,
the remainder is the instance ID. If a certain annotation describes multiple
instances, then the pixels have the regular ID of that class</li>
</ul>
<h1 id="cityscapes-annotations-import">Cityscapes annotations import</h1>
<p>Uploaded file: a zip archive with the following structure:</p>
<pre tabindex="0"><code>.
├── label_color.txt # optional
└── gtFine
    └── &lt;city_name&gt;
        ├── image_0_gtFine_instanceIds.png
        ├── image_1_gtFine_instanceIds.png
        ├── ...
</code></pre><h1 id="creating-task-with-cityscapes-dataset">Creating task with Cityscapes dataset</h1>
<p>Create a task with the labels you need
or you can use the labels and colors of the original dataset.
To work with the Cityscapes format, you must have a black color label
for the background.</p>
<p>Original Cityscapes color map:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JSON" data-lang="JSON"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;unlabeled&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#000000&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;egovehicle&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#000000&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;rectificationborder&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#000000&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;outofroi&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#000000&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;static&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#000000&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;dynamic&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#6f4a00&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;ground&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#510051&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;road&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#804080&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;sidewalk&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#f423e8&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;parking&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#faaaa0&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;railtrack&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#e6968c&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;building&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#464646&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;wall&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#66669c&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;fence&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#be9999&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;guardrail&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#b4a5b4&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;bridge&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#966464&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;tunnel&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#96785a&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;pole&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#999999&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;polegroup&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#999999&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;trafficlight&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#faaa1e&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;trafficsign&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#dcdc00&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;vegetation&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#6b8e23&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;terrain&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#98fb98&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;sky&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#4682b4&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;person&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#dc143c&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;rider&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#ff0000&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;car&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#00008e&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;truck&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#000046&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;bus&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#003c64&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;caravan&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#00005a&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;trailer&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#00006e&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;train&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#005064&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;motorcycle&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#0000e6&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;bicycle&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#770b20&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;licenseplate&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;color&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;#00000e&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">&#34;attributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[]}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></div></details>
<p>Upload images when creating a task:</p>
<pre tabindex="0"><code>images.zip/
    ├── image_0.jpg
    ├── image_1.jpg
    ├── ...
</code></pre><p>After creating the task, upload the Cityscapes annotations as described
in the previous section.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e59afed4c76bed95d3d4665d87dfe316">2.27.19 - KITTI</h1>
    <div class="lead">How to export and import data in KITTI format</div>
	<p>The KITTI format is widely used for a range of computer
vision tasks related to autonomous driving, including
but not limited to 3D object detection, multi-object tracking,
and scene flow estimation. Given its special focus on
automotive scenes, the KITTI format is generally
used with models that are designed or adapted for these types of tasks.</p>
<p>For more information, see:</p>
<ul>
<li><a href="http://www.cvlibs.net/datasets/kitti/">KITTI site</a></li>
<li><a href="https://s3.eu-central-1.amazonaws.com/avg-kitti/devkit_object.zip">Format specification for KITTI detection</a></li>
<li><a href="https://s3.eu-central-1.amazonaws.com/avg-kitti/devkit_semantics.zip">Format specification for KITTI segmentation</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/kitti_dataset">Dataset examples</a></li>
</ul>
<h2 id="kitti-annotations-export">KITTI annotations export</h2>
<p>For export of images:</p>
<ul>
<li>Supported annotations: Bounding Boxes (detection), Polygons (segmentation).</li>
<li>Supported attributes:
<ul>
<li><code>occluded</code> (Available both as a UI option and a separate attribute)
Denotes that a major portion of the object within
the bounding box is obstructed by another object.</li>
<li><code>truncated</code> (Only applicable to bounding boxes)
Must be represented as <code>checkboxes</code> for labels.
Suggests that the bounding box does not
encompass the entire object; some part is cut off.</li>
<li><code>is_crowd</code> (Only valid for polygons). Should be indicated
using <code>checkboxes</code> for labels.
Signifies that the annotation encapsulates
multiple instances of the same object class.</li>
</ul>
</li>
<li>Tracks: Not supported.</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<pre tabindex="0"><code>└─ annotations.zip/
    ├── label_colors.txt # list of pairs r g b label_name
    ├── labels.txt # list of labels
    └── default/
        ├── label_2/ # left color camera label files
        │   ├── &lt;image_name_1&gt;.txt
        │   ├── &lt;image_name_2&gt;.txt
        │   └── ...
        ├── instance/ # instance segmentation masks
        │   ├── &lt;image_name_1&gt;.png
        │   ├── &lt;image_name_2&gt;.png
        │   └── ...
        ├── semantic/ # semantic segmentation masks (labels are encoded by its id)
        │   ├── &lt;image_name_1&gt;.png
        │   ├── &lt;image_name_2&gt;.png
        │   └── ...
        └── semantic_rgb/ # semantic segmentation masks (labels are encoded by its color)
            ├── &lt;image_name_1&gt;.png
            ├── &lt;image_name_2&gt;.png
            └── ...
</code></pre><h2 id="kitti-annotations-import">KITTI annotations import</h2>
<p>You can upload KITTI annotations in two ways:
rectangles for the detection task and
masks for the segmentation task.</p>
<p>For detection tasks the uploading archive should have the following structure:</p>
<pre tabindex="0"><code>└─ annotations.zip/
    ├── labels.txt # optional, labels list for non-original detection labels
    └── &lt;subset_name&gt;/
        ├── label_2/ # left color camera label files
        │   ├── &lt;image_name_1&gt;.txt
        │   ├── &lt;image_name_2&gt;.txt
        │   └── ...
</code></pre><p>For segmentation tasks the uploading archive should have the following structure:</p>
<pre tabindex="0"><code>└─ annotations.zip/
    ├── label_colors.txt # optional, color map for non-original segmentation labels
    └── &lt;subset_name&gt;/
        ├── instance/ # instance segmentation masks
        │   ├── &lt;image_name_1&gt;.png
        │   ├── &lt;image_name_2&gt;.png
        │   └── ...
        ├── semantic/ # optional, semantic segmentation masks (labels are encoded by its id)
        │   ├── &lt;image_name_1&gt;.png
        │   ├── &lt;image_name_2&gt;.png
        │   └── ...
        └── semantic_rgb/ # optional, semantic segmentation masks (labels are encoded by its color)
            ├── &lt;image_name_1&gt;.png
            ├── &lt;image_name_2&gt;.png
            └── ...
</code></pre><p>All annotation files and masks should have structures
that are described in the original format specification.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d60ccc455bb490af89647d5fccd200ef">2.27.20 - LFW</h1>
    <div class="lead">How to export and import data in LFW format</div>
	<p>The Labeled Faces in the Wild (LFW) format
is primarily used for face verification and face recognition tasks.
The LFW format is designed to be straightforward and
is compatible with a variety of machine learning and deep learning frameworks.</p>
<p>For more information, see:</p>
<ul>
<li><a href="http://vis-www.cs.umass.edu/lfw/">LFW site</a></li>
<li><a href="http://vis-www.cs.umass.edu/lfw/README.txt">Format specification</a></li>
<li><a href="https://github.com/cvat-ai/datumaro/tree/v0.3/tests/assets/lfw_dataset">Dataset examples</a></li>
</ul>
<h1 id="export-lfw-annotation">Export LFW annotation</h1>
<p>For export of images:</p>
<ul>
<li>
<p>Supported annotations: Tags, Skeletons.</p>
</li>
<li>
<p>Attributes:</p>
<ul>
<li><code>negative_pairs</code> (should be defined for labels as <code>text</code>):
list of image names with mismatched persons.</li>
<li><code>positive_pairs</code> (should be defined for labels as <code>text</code>):
list of image names with matched persons.</li>
</ul>
</li>
<li>
<p>Tracks: Not supported.</p>
</li>
</ul>
<p>The downloaded file is a .zip archive with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;archive_name&gt;.zip/
</span></span><span style="display:flex;"><span>    └── images/ <span style="color:#8f5902;font-style:italic"># if the option save images was selected</span>
</span></span><span style="display:flex;"><span>    │    ├── name1/
</span></span><span style="display:flex;"><span>    │    │   ├── name1_0001.jpg
</span></span><span style="display:flex;"><span>    │    │   ├── name1_0002.jpg
</span></span><span style="display:flex;"><span>    │    │   ├── ...
</span></span><span style="display:flex;"><span>    │    ├── name2/
</span></span><span style="display:flex;"><span>    │    │   ├── name2_0001.jpg
</span></span><span style="display:flex;"><span>    │    │   ├── name2_0002.jpg
</span></span><span style="display:flex;"><span>    │    │   ├── ...
</span></span><span style="display:flex;"><span>    │    ├── ...
</span></span><span style="display:flex;"><span>    ├── landmarks.txt
</span></span><span style="display:flex;"><span>    ├── pairs.txt
</span></span><span style="display:flex;"><span>    └── people.txt
</span></span></code></pre></div><h1 id="import-lfw-annotation">Import LFW annotation</h1>
<p>The uploaded annotations file should be a zip file with the following structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;archive_name&gt;.zip/
</span></span><span style="display:flex;"><span>    └── annotations/
</span></span><span style="display:flex;"><span>        ├── landmarks.txt <span style="color:#8f5902;font-style:italic"># list with landmark points for each image</span>
</span></span><span style="display:flex;"><span>        ├── pairs.txt <span style="color:#8f5902;font-style:italic"># list of matched and mismatched pairs of person</span>
</span></span><span style="display:flex;"><span>        └── people.txt <span style="color:#8f5902;font-style:italic"># optional file with a list of persons name</span>
</span></span></code></pre></div><p>Full information about the content of annotation files is available
<a href="http://vis-www.cs.umass.edu/lfw/README.txt">here</a></p>
<h1 id="example-create-task-with-images-and-upload-lfw-annotations-into-it">Example: create task with images and upload LFW annotations into it</h1>
<p>This is one of the possible ways to create a task and add LFW annotations for it.</p>
<ul>
<li>On the task creation page:
<ul>
<li>Add labels that correspond to the names of the persons.</li>
<li>For each label define <code>text</code> attributes with names <code>positive_pairs</code> and
<code>negative_pairs</code></li>
<li>Add images using zip archive from local repository:</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>images.zip/
</span></span><span style="display:flex;"><span>    ├── name1_0001.jpg
</span></span><span style="display:flex;"><span>    ├── name1_0002.jpg
</span></span><span style="display:flex;"><span>    ├── ...
</span></span><span style="display:flex;"><span>    ├── name1_&lt;N&gt;.jpg
</span></span><span style="display:flex;"><span>    ├── name2_0001.jpg
</span></span><span style="display:flex;"><span>    ├── ...
</span></span></code></pre></div><ul>
<li>On the annotation page:
Upload annotation -&gt; LFW 1.0 -&gt; choose archive with structure
that described in the <a href="#import-lfw-annotation">import section</a>.</li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f698bff22886f6eda6cdad45220469c4">2.28 - XML annotation format</h1>
    
	<!--lint disable heading-style-->
<p>When you want to download annotations from Computer Vision Annotation Tool (CVAT)
you can choose one of several data formats. The document describes XML annotation format.
Each format has X.Y version (e.g. 1.0). In general the major version (X) is incremented when the data format has
incompatible changes and the minor version (Y) is incremented when the data format is slightly modified
(e.g. it has one or several extra fields inside meta information).
The document will describe all changes for all versions of XML annotation format.</p>
<h2 id="version-11">Version 1.1</h2>
<p>There are two different formats for images and video tasks at the moment.
The both formats have a common part which is described below. From the previous version <code>flipped</code> tag was added.
Also <code>original_size</code> tag was added for interpolation mode to specify frame size.
In annotation mode each image tag has <code>width</code> and <code>height</code> attributes for the same purpose.</p>
<p>For what is <code>rle</code>, see <a href="https://en.wikipedia.org/wiki/Run-length_encoding">Run-length encoding</a></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;annotations&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;version&gt;</span>1.1<span style="color:#204a87;font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;meta&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;task&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;id&gt;</span>Number: id of the task<span style="color:#204a87;font-weight:bold">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>String: some task name<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;size&gt;</span>Number: count of frames/images in the task<span style="color:#204a87;font-weight:bold">&lt;/size&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;mode&gt;</span>String: interpolation or annotation<span style="color:#204a87;font-weight:bold">&lt;/mode&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;overlap&gt;</span>Number: number of overlapped frames between segments<span style="color:#204a87;font-weight:bold">&lt;/overlap&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;bugtracker&gt;</span>String: URL on an page which describe the task<span style="color:#204a87;font-weight:bold">&lt;/bugtracker&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;flipped&gt;</span>Boolean: were images of the task flipped? (True/False)<span style="color:#204a87;font-weight:bold">&lt;/flipped&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;created&gt;</span>String: date when the task was created<span style="color:#204a87;font-weight:bold">&lt;/created&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;updated&gt;</span>String: date when the task was updated<span style="color:#204a87;font-weight:bold">&lt;/updated&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;labels&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>String: name of the label (e.g. car, person)<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;type&gt;</span>String: any, bbox, cuboid, cuboid_3d, ellipse, mask, polygon, polyline, points, skeleton, tag<span style="color:#204a87;font-weight:bold">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&lt;attribute&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>String: attribute name<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">&lt;mutable&gt;</span>Boolean: mutable (allow different values between frames)<span style="color:#204a87;font-weight:bold">&lt;/mutable&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">&lt;input_type&gt;</span>String: select, checkbox, radio, number, text<span style="color:#204a87;font-weight:bold">&lt;/input_type&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">&lt;default_value&gt;</span>String: default value<span style="color:#204a87;font-weight:bold">&lt;/default_value&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">&lt;values&gt;</span>String: possible values, separated by newlines
</span></span><span style="display:flex;"><span>ex. value 2
</span></span><span style="display:flex;"><span>ex. value 3<span style="color:#204a87;font-weight:bold">&lt;/values&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;svg&gt;</span>String: label representation in svg, only for skeletons<span style="color:#204a87;font-weight:bold">&lt;/svg&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;parent&gt;</span>String: label parent name, only for skeletons<span style="color:#204a87;font-weight:bold">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/labels&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;segments&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;segment&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;id&gt;</span>Number: id of the segment<span style="color:#204a87;font-weight:bold">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;start&gt;</span>Number: first frame<span style="color:#204a87;font-weight:bold">&lt;/start&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;stop&gt;</span>Number: last frame<span style="color:#204a87;font-weight:bold">&lt;/stop&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;url&gt;</span>String: URL (e.g. http://cvat.example.com/?id=213)<span style="color:#204a87;font-weight:bold">&lt;/url&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/segment&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/segments&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;owner&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;username&gt;</span>String: the author of the task<span style="color:#204a87;font-weight:bold">&lt;/username&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;email&gt;</span>String: email of the author<span style="color:#204a87;font-weight:bold">&lt;/email&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/owner&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;original_size&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;width&gt;</span>Number: frame width<span style="color:#204a87;font-weight:bold">&lt;/width&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;height&gt;</span>Number: frame height<span style="color:#204a87;font-weight:bold">&lt;/height&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/original_size&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/task&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;dumped&gt;</span>String: date when the annotation was dumped<span style="color:#204a87;font-weight:bold">&lt;/dumped&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;/meta&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;/annotations&gt;</span>
</span></span></code></pre></div><h3 id="annotation">Annotation</h3>
<p>Below you can find description of the data format for images tasks.
On each image it is possible to have many different objects. Each object can have multiple attributes.
If an annotation task is created with <code>z_order</code> flag then each object will have <code>z_order</code> attribute which is used
to draw objects properly when they are intersected (if <code>z_order</code> is bigger the object is closer to camera).
In previous versions of the format only <code>box</code> shape was available.
In later releases <code>mask</code>, <code>polygon</code>, <code>polyline</code>, <code>points</code>, <code>skeletons</code> and <code>tags</code> were added.
Please see below for more details:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;annotations&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;image</span> <span style="color:#c4a000">id=</span><span style="color:#4e9a06">&#34;Number: id of the image (the index in lexical order of images)&#34;</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;String: path to the image&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#c4a000">width=</span><span style="color:#4e9a06">&#34;Number: image width&#34;</span> <span style="color:#c4a000">height=</span><span style="color:#4e9a06">&#34;Number: image height&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;box</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;String: the associated label&#34;</span> <span style="color:#c4a000">xtl=</span><span style="color:#4e9a06">&#34;Number: float&#34;</span> <span style="color:#c4a000">ytl=</span><span style="color:#4e9a06">&#34;Number: float&#34;</span> <span style="color:#c4a000">xbr=</span><span style="color:#4e9a06">&#34;Number: float&#34;</span> <span style="color:#c4a000">ybr=</span><span style="color:#4e9a06">&#34;Number: float&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;Number: z-order of the object&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;attribute</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;String: an attribute name&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>String: the attribute value<span style="color:#204a87;font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span>      ...
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/box&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polygon</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;String: the associated label&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;x0,y0;x1,y1;...&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;Number: z-order of the object&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;attribute</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;String: an attribute name&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>String: the attribute value<span style="color:#204a87;font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span>      ...
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polygon&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polyline</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;String: the associated label&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;x0,y0;x1,y1;...&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;Number: z-order of the object&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;attribute</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;String: an attribute name&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>String: the attribute value<span style="color:#204a87;font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span>      ...
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polyline&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polyline</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;String: the associated label&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;x0,y0;x1,y1;...&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;Number: z-order of the object&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;attribute</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;String: an attribute name&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>String: the attribute value<span style="color:#204a87;font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span>      ...
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polyline&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;String: the associated label&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;x0,y0;x1,y1;...&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;Number: z-order of the object&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;attribute</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;String: an attribute name&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>String: the attribute value<span style="color:#204a87;font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span>      ...
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;tag</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;String: the associated label&#34;</span> <span style="color:#c4a000">source=</span><span style="color:#4e9a06">&#34;manual or auto&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;attribute</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;String: an attribute name&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>String: the attribute value<span style="color:#204a87;font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span>      ...
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/tag&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;skeleton</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;String: the associated label&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;Number: z-order of the object&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;String: the associated label&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;x0,y0;x1,y1&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;attribute</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;String: an attribute name&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>String: the attribute value<span style="color:#204a87;font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      ...
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;attribute</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;String: an attribute name&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>String: the attribute value<span style="color:#204a87;font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span>      ...
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/skeleton&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;mask</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;String: the associated label&#34;</span> <span style="color:#c4a000">source=</span><span style="color:#4e9a06">&#34;manual or auto&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">rle=</span><span style="color:#4e9a06">&#34;RLE mask&#34;</span> <span style="color:#c4a000">left=</span><span style="color:#4e9a06">&#34;Number: left coordinate of the image where the mask begins&#34;</span> <span style="color:#c4a000">top=</span><span style="color:#4e9a06">&#34;Number: top coordinate of the image where the mask begins&#34;</span> <span style="color:#c4a000">width=</span><span style="color:#4e9a06">&#34;Number: width of the mask&#34;</span> <span style="color:#c4a000">height=</span><span style="color:#4e9a06">&#34;Number: height of the mask&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;Number: z-order of the object&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/mask&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;/image&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;/annotations&gt;</span>
</span></span></code></pre></div><p>Example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;annotations&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;version&gt;</span>1.1<span style="color:#204a87;font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;meta&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;task&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;id&gt;</span>4<span style="color:#204a87;font-weight:bold">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>segmentation<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;size&gt;</span>27<span style="color:#204a87;font-weight:bold">&lt;/size&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;mode&gt;</span>annotation<span style="color:#204a87;font-weight:bold">&lt;/mode&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;overlap&gt;</span>0<span style="color:#204a87;font-weight:bold">&lt;/overlap&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;bugtracker&gt;&lt;/bugtracker&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;flipped&gt;</span>False<span style="color:#204a87;font-weight:bold">&lt;/flipped&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;created&gt;</span>2018-09-25 11:34:24.617558+03:00<span style="color:#204a87;font-weight:bold">&lt;/created&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;updated&gt;</span>2018-09-25 11:38:27.301183+03:00<span style="color:#204a87;font-weight:bold">&lt;/updated&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;labels&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>car<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>traffic_line<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>wheel<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>plate<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>s1<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;type&gt;</span>skeleton<span style="color:#204a87;font-weight:bold">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;svg&gt;</span><span style="color:#ce5c00">&amp;lt;</span>line x1=&#34;36.87290954589844&#34; y1=&#34;47.732025146484375&#34; x2=&#34;86.87290954589844&#34; y2=&#34;10.775501251220703&#34; stroke=&#34;black&#34; data-type=&#34;edge&#34; data-node-from=&#34;2&#34; stroke-width=&#34;0.5&#34; data-node-to=&#34;3&#34;<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>/line<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>line x1=&#34;25.167224884033203&#34; y1=&#34;22.64841079711914&#34; x2=&#34;36.87290954589844&#34; y2=&#34;47.732025146484375&#34; stroke=&#34;black&#34; data-type=&#34;edge&#34; data-node-from=&#34;1&#34; stroke-width=&#34;0.5&#34; data-node-to=&#34;2&#34;<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>/line<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>circle r=&#34;1.5&#34; stroke=&#34;black&#34; fill=&#34;#b3b3b3&#34; cx=&#34;25.167224884033203&#34; cy=&#34;22.64841079711914&#34; stroke-width=&#34;0.1&#34; data-type=&#34;element node&#34; data-element-id=&#34;1&#34; data-node-id=&#34;1&#34; data-label-name=&#34;1&#34;<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>/circle<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>circle r=&#34;1.5&#34; stroke=&#34;black&#34; fill=&#34;#b3b3b3&#34; cx=&#34;36.87290954589844&#34; cy=&#34;47.732025146484375&#34; stroke-width=&#34;0.1&#34; data-type=&#34;element node&#34; data-element-id=&#34;2&#34; data-node-id=&#34;2&#34; data-label-name=&#34;2&#34;<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>/circle<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>circle r=&#34;1.5&#34; stroke=&#34;black&#34; fill=&#34;#b3b3b3&#34; cx=&#34;86.87290954589844&#34; cy=&#34;10.775501251220703&#34; stroke-width=&#34;0.1&#34; data-type=&#34;element node&#34; data-element-id=&#34;3&#34; data-node-id=&#34;3&#34; data-label-name=&#34;3&#34;<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>/circle<span style="color:#ce5c00">&amp;gt;</span><span style="color:#204a87;font-weight:bold">&lt;/svg&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>1<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;type&gt;</span>points<span style="color:#204a87;font-weight:bold">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;parent&gt;</span>s1<span style="color:#204a87;font-weight:bold">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>2<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;type&gt;</span>points<span style="color:#204a87;font-weight:bold">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;parent&gt;</span>s1<span style="color:#204a87;font-weight:bold">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>3<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;type&gt;</span>points<span style="color:#204a87;font-weight:bold">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;parent&gt;</span>s1<span style="color:#204a87;font-weight:bold">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/labels&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;segments&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;segment&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;id&gt;</span>4<span style="color:#204a87;font-weight:bold">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;start&gt;</span>0<span style="color:#204a87;font-weight:bold">&lt;/start&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;stop&gt;</span>26<span style="color:#204a87;font-weight:bold">&lt;/stop&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;url&gt;</span>http://localhost:8080/?id=4<span style="color:#204a87;font-weight:bold">&lt;/url&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/segment&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/segments&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;owner&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;username&gt;</span>admin<span style="color:#204a87;font-weight:bold">&lt;/username&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;email&gt;&lt;/email&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/owner&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/task&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;dumped&gt;</span>2018-09-25 11:38:28.799808+03:00<span style="color:#204a87;font-weight:bold">&lt;/dumped&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;/meta&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;image</span> <span style="color:#c4a000">id=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;filename000.jpg&#34;</span> <span style="color:#c4a000">width=</span><span style="color:#4e9a06">&#34;1600&#34;</span> <span style="color:#c4a000">height=</span><span style="color:#4e9a06">&#34;1200&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;box</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;plate&#34;</span> <span style="color:#c4a000">xtl=</span><span style="color:#4e9a06">&#34;797.33&#34;</span> <span style="color:#c4a000">ytl=</span><span style="color:#4e9a06">&#34;870.92&#34;</span> <span style="color:#c4a000">xbr=</span><span style="color:#4e9a06">&#34;965.52&#34;</span> <span style="color:#c4a000">ybr=</span><span style="color:#4e9a06">&#34;928.94&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;4&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/box&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polygon</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;car&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;561.30,916.23;561.30,842.77;554.72,761.63;553.62,716.67;565.68,677.20;577.74,566.45;547.04,559.87;536.08,542.33;528.40,520.40;541.56,512.72;559.10,509.43;582.13,506.14;588.71,464.48;583.23,448.03;587.61,434.87;594.19,431.58;609.54,399.78;633.66,369.08;676.43,294.52;695.07,279.17;703.84,279.17;735.64,268.20;817.88,264.91;923.14,266.01;997.70,274.78;1047.04,283.55;1063.49,289.04;1090.90,330.70;1111.74,371.27;1135.86,397.59;1147.92,428.29;1155.60,435.97;1157.79,451.32;1156.69,462.28;1159.98,491.89;1163.27,522.59;1173.14,513.82;1199.46,516.01;1224.68,521.49;1225.77,544.52;1207.13,568.64;1181.91,576.32;1178.62,582.90;1177.53,619.08;1186.30,680.48;1199.46,711.19;1206.03,733.12;1203.84,760.53;1197.26,818.64;1199.46,840.57;1203.84,908.56;1192.88,930.49;1184.10,939.26;1162.17,944.74;1139.15,960.09;1058.01,976.54;1028.40,969.96;1002.09,972.15;931.91,974.35;844.19,972.15;772.92,972.15;729.06,967.77;713.71,971.06;685.20,973.25;659.98,968.86;644.63,984.21;623.80,983.12;588.71,985.31;560.20,966.67&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;1&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polygon&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polyline</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;traffic_line&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;462.10,0.00;126.80,1200.00&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;3&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polyline&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polyline</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;traffic_line&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;1212.40,0.00;1568.66,1200.00&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;2&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polyline&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;wheel&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;574.90,939.48;1170.16,907.90;1130.69,445.26;600.16,459.48&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;5&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;tag</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;good_frame&#34;</span> <span style="color:#c4a000">source=</span><span style="color:#4e9a06">&#34;manual&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/tag&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;skeleton</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;s1&#34;</span> <span style="color:#c4a000">source=</span><span style="color:#4e9a06">&#34;manual&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;0&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">source=</span><span style="color:#4e9a06">&#34;manual&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;54.47,94.81&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;2&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">source=</span><span style="color:#4e9a06">&#34;manual&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;68.02,162.34&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;3&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">source=</span><span style="color:#4e9a06">&#34;manual&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;125.87,62.85&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/skeleton&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;mask</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;car&#34;</span> <span style="color:#c4a000">source=</span><span style="color:#4e9a06">&#34;manual&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">rle=</span><span style="color:#4e9a06">&#34;3, 5, 7, 7, 5, 9, 3, 11, 2, 11, 2, 12, 1, 12, 1, 26, 1, 12, 1, 12, 2, 11, 3, 9, 5, 7, 7, 5, 3&#34;</span> <span style="color:#c4a000">left=</span><span style="color:#4e9a06">&#34;707&#34;</span> <span style="color:#c4a000">top=</span><span style="color:#4e9a06">&#34;888&#34;</span> <span style="color:#c4a000">width=</span><span style="color:#4e9a06">&#34;13&#34;</span> <span style="color:#c4a000">height=</span><span style="color:#4e9a06">&#34;15&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;0&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/mask&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;/image&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;/annotations&gt;</span>
</span></span></code></pre></div><h3 id="interpolation">Interpolation</h3>
<p>Below you can find description of the data format for video tasks.
The annotation contains tracks. Each track corresponds to an object which can be presented on multiple frames.
The same object cannot be presented on the same frame in multiple locations.
Each location of the object can have multiple attributes even if an attribute is immutable for the object it will be
cloned for each location (a known redundancy).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;annotations&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;track</span> <span style="color:#c4a000">id=</span><span style="color:#4e9a06">&#34;Number: id of the track (doesn&#39;t have any special meeting)&#34;</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;String: the associated label&#34;</span> <span style="color:#c4a000">source=</span><span style="color:#4e9a06">&#34;manual or auto&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;box</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;Number: frame&#34;</span> <span style="color:#c4a000">xtl=</span><span style="color:#4e9a06">&#34;Number: float&#34;</span> <span style="color:#c4a000">ytl=</span><span style="color:#4e9a06">&#34;Number: float&#34;</span> <span style="color:#c4a000">xbr=</span><span style="color:#4e9a06">&#34;Number: float&#34;</span> <span style="color:#c4a000">ybr=</span><span style="color:#4e9a06">&#34;Number: float&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;attribute</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;String: an attribute name&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>String: the attribute value<span style="color:#204a87;font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span>      ...
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/box&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polygon</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;Number: frame&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;x0,y0;x1,y1;...&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;attribute</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;String: an attribute name&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>String: the attribute value<span style="color:#204a87;font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polygon&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polyline</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;Number: frame&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;x0,y0;x1,y1;...&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;attribute</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;String: an attribute name&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>String: the attribute value<span style="color:#204a87;font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polyline&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;Number: frame&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;x0,y0;x1,y1;...&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;attribute</span> <span style="color:#c4a000">name=</span><span style="color:#4e9a06">&#34;String: an attribute name&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>String: the attribute value<span style="color:#204a87;font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;mask</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;Number: frame&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">rle=</span><span style="color:#4e9a06">&#34;RLE mask&#34;</span> <span style="color:#c4a000">left=</span><span style="color:#4e9a06">&#34;Number: left coordinate of the image where the mask begins&#34;</span> <span style="color:#c4a000">top=</span><span style="color:#4e9a06">&#34;Number: top coordinate of the image where the mask begins&#34;</span> <span style="color:#c4a000">width=</span><span style="color:#4e9a06">&#34;Number: width of the mask&#34;</span> <span style="color:#c4a000">height=</span><span style="color:#4e9a06">&#34;Number: height of the mask&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;Number: z-order of the object&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/mask&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;/track&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;track</span> <span style="color:#c4a000">id=</span><span style="color:#4e9a06">&#34;Number: id of the track (doesn&#39;t have any special meeting)&#34;</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;String: the associated label&#34;</span> <span style="color:#c4a000">source=</span><span style="color:#4e9a06">&#34;manual or auto&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;skeleton</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;Number: frame&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;String: the associated label&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;Number: 0 - False, 1 - True&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;x0,y0;x1,y1&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      ...
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/skeleton&gt;</span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;/track&gt;</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;/annotations&gt;</span>
</span></span></code></pre></div><p>Example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;annotations&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;version&gt;</span>1.1<span style="color:#204a87;font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;meta&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;task&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;id&gt;</span>5<span style="color:#204a87;font-weight:bold">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>interpolation<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;size&gt;</span>4620<span style="color:#204a87;font-weight:bold">&lt;/size&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;mode&gt;</span>interpolation<span style="color:#204a87;font-weight:bold">&lt;/mode&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;overlap&gt;</span>5<span style="color:#204a87;font-weight:bold">&lt;/overlap&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;bugtracker&gt;&lt;/bugtracker&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;flipped&gt;</span>False<span style="color:#204a87;font-weight:bold">&lt;/flipped&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;created&gt;</span>2018-09-25 12:32:09.868194+03:00<span style="color:#204a87;font-weight:bold">&lt;/created&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;updated&gt;</span>2018-09-25 16:05:05.619841+03:00<span style="color:#204a87;font-weight:bold">&lt;/updated&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;labels&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>person<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>car<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>s1<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;type&gt;</span>skeleton<span style="color:#204a87;font-weight:bold">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;svg&gt;</span><span style="color:#ce5c00">&amp;lt;</span>line x1=&#34;36.87290954589844&#34; y1=&#34;47.732025146484375&#34; x2=&#34;86.87290954589844&#34; y2=&#34;10.775501251220703&#34; stroke=&#34;black&#34; data-type=&#34;edge&#34; data-node-from=&#34;2&#34; stroke-width=&#34;0.5&#34; data-node-to=&#34;3&#34;<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>/line<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>line x1=&#34;25.167224884033203&#34; y1=&#34;22.64841079711914&#34; x2=&#34;36.87290954589844&#34; y2=&#34;47.732025146484375&#34; stroke=&#34;black&#34; data-type=&#34;edge&#34; data-node-from=&#34;1&#34; stroke-width=&#34;0.5&#34; data-node-to=&#34;2&#34;<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>/line<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>circle r=&#34;1.5&#34; stroke=&#34;black&#34; fill=&#34;#b3b3b3&#34; cx=&#34;25.167224884033203&#34; cy=&#34;22.64841079711914&#34; stroke-width=&#34;0.1&#34; data-type=&#34;element node&#34; data-element-id=&#34;1&#34; data-node-id=&#34;1&#34; data-label-name=&#34;1&#34;<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>/circle<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>circle r=&#34;1.5&#34; stroke=&#34;black&#34; fill=&#34;#b3b3b3&#34; cx=&#34;36.87290954589844&#34; cy=&#34;47.732025146484375&#34; stroke-width=&#34;0.1&#34; data-type=&#34;element node&#34; data-element-id=&#34;2&#34; data-node-id=&#34;2&#34; data-label-name=&#34;2&#34;<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>/circle<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>circle r=&#34;1.5&#34; stroke=&#34;black&#34; fill=&#34;#b3b3b3&#34; cx=&#34;86.87290954589844&#34; cy=&#34;10.775501251220703&#34; stroke-width=&#34;0.1&#34; data-type=&#34;element node&#34; data-element-id=&#34;3&#34; data-node-id=&#34;3&#34; data-label-name=&#34;3&#34;<span style="color:#ce5c00">&amp;gt;&amp;lt;</span>/circle<span style="color:#ce5c00">&amp;gt;</span><span style="color:#204a87;font-weight:bold">&lt;/svg&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>1<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;type&gt;</span>points<span style="color:#204a87;font-weight:bold">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;parent&gt;</span>s1<span style="color:#204a87;font-weight:bold">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>2<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;type&gt;</span>points<span style="color:#204a87;font-weight:bold">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;parent&gt;</span>s1<span style="color:#204a87;font-weight:bold">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;label&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;name&gt;</span>3<span style="color:#204a87;font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;type&gt;</span>points<span style="color:#204a87;font-weight:bold">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;/attributes&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;parent&gt;</span>s1<span style="color:#204a87;font-weight:bold">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/label&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/labels&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;segments&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;segment&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;id&gt;</span>5<span style="color:#204a87;font-weight:bold">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;start&gt;</span>0<span style="color:#204a87;font-weight:bold">&lt;/start&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;stop&gt;</span>4619<span style="color:#204a87;font-weight:bold">&lt;/stop&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&lt;url&gt;</span>http://localhost:8080/?id=5<span style="color:#204a87;font-weight:bold">&lt;/url&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;/segment&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/segments&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;owner&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;username&gt;</span>admin<span style="color:#204a87;font-weight:bold">&lt;/username&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;email&gt;&lt;/email&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/owner&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;original_size&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;width&gt;</span>640<span style="color:#204a87;font-weight:bold">&lt;/width&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&lt;height&gt;</span>480<span style="color:#204a87;font-weight:bold">&lt;/height&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/original_size&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/task&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;dumped&gt;</span>2018-09-25 16:05:07.134046+03:00<span style="color:#204a87;font-weight:bold">&lt;/dumped&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;/meta&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;track</span> <span style="color:#c4a000">id=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;car&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polygon</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;324.79,213.16;323.74,227.90;347.42,237.37;371.11,217.37;350.05,190.00;318.47,191.58&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polygon&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polygon</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;324.79,213.16;323.74,227.90;347.42,237.37;371.11,217.37;350.05,190.00;318.47,191.58&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polygon&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polygon</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;6&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;305.32,237.90;312.16,207.90;352.69,206.32;355.32,233.16;331.11,254.74&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polygon&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polygon</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;7&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;305.32,237.90;312.16,207.90;352.69,206.32;355.32,233.16;331.11,254.74&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polygon&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polygon</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;13&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;313.74,233.16;331.11,220.00;359.53,243.16;333.21,283.16;287.95,274.74&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polygon&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;polygon</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;14&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;313.74,233.16;331.11,220.00;359.53,243.16;333.21,283.16;287.95,274.74&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/polygon&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;/track&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;track</span> <span style="color:#c4a000">id=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;s1&#34;</span> <span style="color:#c4a000">source=</span><span style="color:#4e9a06">&#34;manual&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;skeleton</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;0&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;112.07,258.59&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;2&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;127.87,333.23&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;3&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;195.37,223.27&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/skeleton&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;skeleton</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;0&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;112.07,258.59&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;2&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;127.87,333.23&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;3&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;195.37,223.27&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/skeleton&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;skeleton</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;6&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;0&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;120.07,270.59&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;2&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;140.87,350.23&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;3&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;210.37,260.27&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/skeleton&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;skeleton</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;7&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;0&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;120.07,270.59&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;2&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;140.87,350.23&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;3&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;210.37,260.27&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/skeleton&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;skeleton</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;13&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;0&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;112.07,258.59&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;2&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;127.87,333.23&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;3&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;195.37,223.27&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/skeleton&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;skeleton</span> <span style="color:#c4a000">frame=</span><span style="color:#4e9a06">&#34;14&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">z_order=</span><span style="color:#4e9a06">&#34;0&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;112.07,258.59&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;2&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;127.87,333.23&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;points</span> <span style="color:#c4a000">label=</span><span style="color:#4e9a06">&#34;3&#34;</span> <span style="color:#c4a000">outside=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">occluded=</span><span style="color:#4e9a06">&#34;0&#34;</span> <span style="color:#c4a000">keyframe=</span><span style="color:#4e9a06">&#34;1&#34;</span> <span style="color:#c4a000">points=</span><span style="color:#4e9a06">&#34;195.37,223.27&#34;</span><span style="color:#204a87;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&lt;/points&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&lt;/skeleton&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&lt;/track&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&lt;/annotations&gt;</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-77171fcfcdf5ea7519669685c24e95c3">2.29 - Shortcuts</h1>
    <div class="lead">List of available mouse and keyboard shortcuts.</div>
	<p>Many UI elements have shortcut hints. Put your pointer to a required element to see it.</p>
<p><img src="../../../images/image075.jpg" alt=""></p>
<table>
<thead>
<tr>
<th>Shortcut</th>
<th>Common</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><em>Main functions</em></td>
</tr>
<tr>
<td><code>F1</code></td>
<td>Open/hide the list of available shortcuts</td>
</tr>
<tr>
<td><code>F2</code></td>
<td>Go to the settings page or go back</td>
</tr>
<tr>
<td><code>Ctrl+S</code></td>
<td>Go to the settings page or go back</td>
</tr>
<tr>
<td><code>Ctrl+Z</code></td>
<td>Cancel the latest action related with objects</td>
</tr>
<tr>
<td><code>Ctrl+Shift+Z</code> or <code>Ctrl+Y</code></td>
<td>Cancel undo action</td>
</tr>
<tr>
<td>Hold <code>Mouse Wheel</code></td>
<td>To move an image frame (for example, while drawing)</td>
</tr>
<tr>
<td></td>
<td><em>Player</em></td>
</tr>
<tr>
<td><code>F</code></td>
<td>Go to the next frame</td>
</tr>
<tr>
<td><code>D</code></td>
<td>Go to the previous frame</td>
</tr>
<tr>
<td><code>V</code></td>
<td>Go forward with a step</td>
</tr>
<tr>
<td><code>C</code></td>
<td>Go backward with a step</td>
</tr>
<tr>
<td><code>Right</code></td>
<td>Search the next frame that satisfies to the filters <br> or next frame which contain any objects</td>
</tr>
<tr>
<td><code>Left</code></td>
<td>Search the previous frame that satisfies to the filters <br> or previous frame which contain any objects</td>
</tr>
<tr>
<td><code>Space</code></td>
<td>Start/stop automatic changing frames</td>
</tr>
<tr>
<td><code>`</code> or <code>~</code></td>
<td>Focus on the element to change the current frame</td>
</tr>
<tr>
<td></td>
<td><em>Modes</em></td>
</tr>
<tr>
<td><code>N</code></td>
<td>Repeat the latest procedure of drawing with the same parameters</td>
</tr>
<tr>
<td><code>M</code></td>
<td>Activate or deactivate mode to merging shapes</td>
</tr>
<tr>
<td><code>Alt+M</code></td>
<td>Activate or deactivate mode to splitting shapes</td>
</tr>
<tr>
<td><code>G</code></td>
<td>Activate or deactivate mode to grouping shapes</td>
</tr>
<tr>
<td><code>Shift+G</code></td>
<td>Reset group for selected shapes (in group mode)</td>
</tr>
<tr>
<td><code>Esc</code></td>
<td>Cancel any active canvas mode</td>
</tr>
<tr>
<td></td>
<td><em>Image operations</em></td>
</tr>
<tr>
<td><code>Ctrl+R</code></td>
<td>Change image angle (add 90 degrees)</td>
</tr>
<tr>
<td><code>Ctrl+Shift+R</code></td>
<td>Change image angle (subtract 90 degrees)</td>
</tr>
<tr>
<td></td>
<td><em>Operations with objects</em></td>
</tr>
<tr>
<td><code>Ctrl</code></td>
<td>Switch automatic bordering for polygons and polylines during drawing/editing</td>
</tr>
<tr>
<td>Hold <code>Ctrl</code></td>
<td>When the shape is active and fix it</td>
</tr>
<tr>
<td><code>Alt+Click</code> on point</td>
<td>Deleting a point (used when hovering over a point of polygon, polyline, points)</td>
</tr>
<tr>
<td><code>Shift+Click</code> on point</td>
<td>Editing a shape (used when hovering over a point of polygon, polyline or points)</td>
</tr>
<tr>
<td><code>Right-Click</code> on shape</td>
<td>Display of an object element from objects sidebar</td>
</tr>
<tr>
<td><code>T+L</code></td>
<td>Change locked state for all objects in the sidebar</td>
</tr>
<tr>
<td><code>L</code></td>
<td>Change locked state for an active object</td>
</tr>
<tr>
<td><code>T+H</code></td>
<td>Change hidden state for objects in the sidebar</td>
</tr>
<tr>
<td><code>H</code></td>
<td>Change hidden state for an active object</td>
</tr>
<tr>
<td><code>Q</code> or <code>/</code></td>
<td>Change occluded property for an active object</td>
</tr>
<tr>
<td><code>Del</code> or <code>Shift+Del</code></td>
<td>Delete an active object. Use shift to force delete of locked objects</td>
</tr>
<tr>
<td><code>-</code> or <code>_</code></td>
<td>Put an active object &ldquo;farther&rdquo; from the user (decrease z axis value)</td>
</tr>
<tr>
<td><code>+</code> or <code>=</code></td>
<td>Put an active object &ldquo;closer&rdquo; to the user (increase z axis value)</td>
</tr>
<tr>
<td><code>Ctrl+C</code></td>
<td>Copy shape to CVAT internal clipboard</td>
</tr>
<tr>
<td><code>Ctrl+V</code></td>
<td>Paste a shape from internal CVAT clipboard</td>
</tr>
<tr>
<td>Hold <code>Ctrl</code> while pasting</td>
<td>When pasting shape from the buffer for multiple pasting.</td>
</tr>
<tr>
<td><code>Ctrl+B</code></td>
<td>Make a copy of the object on the following frames</td>
</tr>
<tr>
<td><code>Ctrl+(0..9)</code></td>
<td>Changes a label for an activated object or for the next drawn object if no objects are activated</td>
</tr>
<tr>
<td></td>
<td><em>Operations are available only for track</em></td>
</tr>
<tr>
<td><code>K</code></td>
<td>Change keyframe property for an active track</td>
</tr>
<tr>
<td><code>O</code></td>
<td>Change outside property for an active track</td>
</tr>
<tr>
<td><code>R</code></td>
<td>Go to the next keyframe of an active track</td>
</tr>
<tr>
<td><code>E</code></td>
<td>Go to the previous keyframe of an active track</td>
</tr>
<tr>
<td></td>
<td><em>Attribute annotation mode</em></td>
</tr>
<tr>
<td><code>Up Arrow</code></td>
<td>Go to the next attribute (up)</td>
</tr>
<tr>
<td><code>Down Arrow</code></td>
<td>Go to the next attribute (down)</td>
</tr>
<tr>
<td><code>Tab</code></td>
<td>Go to the next annotated object in current frame</td>
</tr>
<tr>
<td><code>Shift+Tab</code></td>
<td>Go to the previous annotated object in current frame</td>
</tr>
<tr>
<td><code>&lt;number&gt;</code></td>
<td>Assign a corresponding value to the current attribute</td>
</tr>
<tr>
<td></td>
<td><em>Standard 3d mode</em></td>
</tr>
<tr>
<td><code>Shift+Up Arrow</code></td>
<td>Increases camera roll angle</td>
</tr>
<tr>
<td><code>Shift+Down Arrow</code></td>
<td>Decreases camera roll angle</td>
</tr>
<tr>
<td><code>Shift+Left Arrow</code></td>
<td>Decreases camera pitch angle</td>
</tr>
<tr>
<td><code>Shift+Right Arrow</code></td>
<td>Increases camera pitch angle</td>
</tr>
<tr>
<td><code>Alt+O</code></td>
<td>Move the camera up</td>
</tr>
<tr>
<td><code>Alt+U</code></td>
<td>Move the camera down</td>
</tr>
<tr>
<td><code>Alt+J</code></td>
<td>Move the camera left</td>
</tr>
<tr>
<td><code>Alt+L</code></td>
<td>Move the camera right</td>
</tr>
<tr>
<td><code>Alt+I</code></td>
<td>Performs zoom in</td>
</tr>
<tr>
<td><code>Alt+K</code></td>
<td>Performs zoom out</td>
</tr>
</tbody>
</table>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8c8c008f3339d846e9b9e1cce1057602">2.30 - Filter</h1>
    <div class="lead">Guide to using the Filter feature in CVAT.</div>
	<p>There are some reasons to use the feature:</p>
<ol>
<li>When you use a filter, objects that don&rsquo;t match the filter will be hidden.</li>
<li>The fast navigation between frames which have an object of interest.
Use the <code>Left Arrow</code> / <code>Right Arrow</code> keys for this purpose
or customize the UI buttons by right-clicking and select <code>switching by filter</code>.
If there are no objects which correspond to the filter,
you will go to the previous / next frame which contains any annotated objects.</li>
</ol>
<p>To apply filters you need to click on the button on the top panel.</p>
<p><img src="../../../images/image059.jpg" alt=""></p>
<h2 id="create-a-filter">Create a filter</h2>
<p>It will open a window for filter input. Here you will find two buttons: <code>Add rule</code> and <code>Add group</code>.</p>
<p><img src="../../../images/image202.jpg" alt=""></p>
<h3 id="rules">Rules</h3>
<p>The <code>Add rule</code> button adds a rule for objects display. A rule may use the following properties:</p>
<p><img src="../../../images/image204.jpg" alt=""></p>
<h3 id="supported-properties-for-annotation">Supported properties for annotation</h3>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Supported values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Label</code></td>
<td>all the label names that are in the task</td>
<td>label name</td>
</tr>
<tr>
<td><code>Type</code></td>
<td>shape, track or tag</td>
<td>type of object</td>
</tr>
<tr>
<td><code>Shape</code></td>
<td>all shape types</td>
<td>type of shape</td>
</tr>
<tr>
<td><code>Occluded</code></td>
<td>true or false</td>
<td>occluded (<a href="../../../docs/manual/advanced/shape-mode-advanced/">read more</a>)</td>
</tr>
<tr>
<td><code>Width</code></td>
<td>number of px or field</td>
<td>shape width</td>
</tr>
<tr>
<td><code>Height</code></td>
<td>number of px or field</td>
<td>shape height</td>
</tr>
<tr>
<td><code>ServerID</code></td>
<td>number or field</td>
<td>ID of the object on the server <br>(You can find out by forming a link to the object through the Action menu)</td>
</tr>
<tr>
<td><code>ObjectID</code></td>
<td>number or field</td>
<td>ID of the object in your client <br>(indicated on the objects sidebar)</td>
</tr>
<tr>
<td><code>Attributes</code></td>
<td>some other fields including attributes with a <br>similar type or a specific attribute value</td>
<td>any fields specified by a label</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p><a href="../../../docs/manual/advanced/projects/#supported-properties-for-projects-list">Supported properties for projects list</a></p>
</li>
<li>
<p><a href="../../../docs/manual/basics/tasks-page/#supported-properties-for-tasks-list">Supported properties for tasks list</a></p>
</li>
<li>
<p><a href="../../../docs/manual/basics/jobs-page/#supported-properties-for-jobs-list">Supported properties for jobs list</a></p>
</li>
<li>
<p><a href="../../../docs/manual/basics/cloud-storages/#supported-properties-for-cloud-storages-list">Supported properties for cloud storages list</a></p>
</li>
</ul>
<h3 id="supported-operators-for-properties">Supported operators for properties</h3>
<p><code>==</code> - Equally; <code>!=</code> - Not equal; <code>&gt;</code> - More; <code>&gt;=</code> - More or equal; <code>&lt;</code> - Less; <code>&lt;=</code> - Less or equal;</p>
<p><code>Any in</code>; <code>Not in</code> - these operators allow you to set multiple values in one rule;</p>
<p><img src="../../../images/image203.jpg" alt=""></p>
<p><code>Is empty</code>; <code>is not empty</code> – these operators don&rsquo;t require to input a value.</p>
<p><code>Between</code>; <code>Not between</code> – these operators allow you to choose a range between two values.</p>
<p><code>Like</code> - this operator indicate that the property must contain a value.</p>
<p><code>Starts with</code>; <code>Ends with</code> - filter by beginning or end.</p>
<p>Some properties support two types of values that you can choose:</p>
<p><img src="../../../images/image205.jpg" alt=""></p>
<p>You can add multiple rules, to do so click the add rule button and set another rule.
Once you&rsquo;ve set a new rule, you&rsquo;ll be able to choose which operator they will be connected by: <code>And</code> or <code>Or</code>.</p>
<p><img src="../../../images/image206.jpg" alt=""></p>
<p>All subsequent rules will be joined by the chosen operator.
Click <code>Submit</code> to apply the filter or if you want multiple rules to be connected by different operators, use groups.</p>
<h3 id="groups">Groups</h3>
<p>To add a group, click the <code>Add group</code> button. Inside the group you can create rules or groups.</p>
<p><img src="../../../images/image207.jpg" alt=""></p>
<p>If there is more than one rule in the group, they can be connected by <code>And</code> or <code>Or</code> operators.
The rule group will work as well as a separate rule outside the group and will be joined by an
operator outside the group.
You can create groups within other groups, to do so you need to click the add group button within the group.</p>
<p>You can move rules and groups. To move the rule or group, drag it by the button.
To remove the rule or group, click on the <code>Delete</code> button.</p>
<p><img src="../../../images/image208.jpg" alt=""></p>
<p>If you activate the <code>Not</code> button, objects that don&rsquo;t match the group will be filtered out.
Click <code>Submit</code> to apply the filter.
The <code>Cancel</code> button undoes the filter. The <code>Clear filter</code> button removes the filter.</p>
<p>Once applied filter automatically appears in <code>Recent used</code> list. Maximum length of the list is 10.</p>
<hr>
<h2 id="sort-and-filter-lists">Sort and filter lists</h2>
<p>On the <a href="../../../docs/manual/advanced/projects/#projects-page">projects</a>, task list on the project page,
<a href="../../../docs/manual/basics/tasks-page/">tasks</a>, <a href="../../../docs/manual/basics/jobs-page/">jobs</a>,
and <a href="../../../docs/manual/basics/cloud-storages/">cloud storage</a> pages, you can use sorting and filters.</p>
<blockquote>
<p>The applied filter and sorting will be displayed in the URL of your browser,
Thus, you can share the page with sorting and filter applied.</p>
</blockquote>
<h3 id="sort-by">Sort by</h3>
<p>You can sort by the following parameters:</p>
<ul>
<li>Jobs list: ID, assignee, updated date, <a href="../../../docs/manual/basics/vocabulary/#stage">stage</a>, <a href="../../../docs/manual/basics/vocabulary/#state">state</a>, task ID, project ID,
task name, project name.</li>
<li>Tasks list or tasks list on project page: ID, owner, status, assignee, updated date, <a href="../../../docs/manual/basics/vocabulary/#subset">subset</a>, <a href="../../../docs/manual/basics/vocabulary/#mode">mode</a>,
<a href="../../../docs/manual/basics/vocabulary/#dimension">dimension</a>, project ID, name, project name.</li>
<li>Projects list: ID, assignee, owner, status, name, updated date.</li>
<li>Cloud storages list: ID, provider type, updated date, display name, <a href="../../../docs/manual/basics/vocabulary/#resource">resource</a>,
<a href="../../../docs/manual/basics/vocabulary/#credentials">credentials</a>, owner, description.</li>
</ul>
<p>To apply sorting, drag the parameter to the top area above the horizontal bar.
The parameters below the horizontal line will not be applied.
By moving the parameters you can change the priority,
first of all sorting will occur according to the parameters that are above.</p>
<p>Pressing the <code>Sort button</code> switches <code>Ascending sort</code>/<code>Descending sort</code>.</p>
<h3 id="quick-filters">Quick filters</h3>
<p>Quick Filters contain several frequently used filters:</p>
<ul>
<li><code>Assigned to me</code> - show only those projects, tasks or jobs that are assigned to you.</li>
<li><code>Owned by me</code> -  show only those projects or tasks that are owned by you.</li>
<li><code>Not completed</code> - show only those projects, tasks or jobs that have a status other than completed.</li>
<li><code>AWS storages</code> - show only AWS cloud storages</li>
<li><code>Azure storages</code> - show only Azure cloud storages</li>
<li><code>Google cloud storages</code> - show only Google cloud storages</li>
</ul>
<h4 id="date-and-time-selection">Date and time selection</h4>
<p>When creating a <code>Last updated</code> rule, you can select the date and time by using the selection window.</p>
<p><img src="../../../images/image244_detrac.jpg" alt=""></p>
<p>You can select the year and month using the arrows or by clicking on the year and month.
To select a day, click on it in the calendar,
To select the time, you can select the hours and minutes using the scrolling list.
Or you can select the current date and time by clicking the <code>Now</code> button.
To apply, click <code>Ok</code>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-341ef5273edaaa92498883f4d832df14">2.31 - Contextual images</h1>
    <div class="lead">Contextual images of the task</div>
	<p>Contextual images are additional images that provide
context or additional information related to the primary image.</p>
<p>Use them to add extra contextual about the object to improve the accuracy of annotation.</p>
<p>Contextual images are available for 2D and 3D tasks.</p>
<p>See:</p>
<ul>
<li><a href="#folder-structure">Folder structure</a></li>
<li><a href="#data-format">Data format</a></li>
<li><a href="#contextual-images">Contextual images</a></li>
</ul>
<h2 id="folder-structure">Folder structure</h2>
<p>To add contextual images to the task, you need to organize
the images folder.</p>
<p>Before uploading the archive to CVAT, do the following:</p>
<ol>
<li>In the folder with the images for annotation, create a folder: <code>related_images</code>.</li>
<li>Add to the <code>related_images</code> a subfolder with the same name
as the primary image to which it should be linked.</li>
<li>Place the contextual image(s) within the subfolder created in step 2.</li>
<li>Add folder to the archive.</li>
<li><a href="../../../docs/manual/basics/create_an_annotation_task/#create-a-task">Create task</a>.</li>
</ol>
<h2 id="data-format">Data format</h2>
<p>Example file structure for 2D and 3D tasks:</p>





<ul class="nav nav-tabs" id="tabs-0" role="tablist">
  <li class="nav-item">
      <button class="nav-link active"
          id="tabs-00-00-tab" data-bs-toggle="tab" data-bs-target="#tabs-00-00" role="tab"
          aria-controls="tabs-00-00" aria-selected="true">
        2D task
      </button>
    </li><li class="nav-item">
      <button class="nav-link"
          id="tabs-00-01-tab" data-bs-toggle="tab" data-bs-target="#tabs-00-01" role="tab"
          aria-controls="tabs-00-01" aria-selected="false">
        3D option 1
      </button>
    </li><li class="nav-item">
      <button class="nav-link"
          id="tabs-00-02-tab" data-bs-toggle="tab" data-bs-target="#tabs-00-02" role="tab"
          aria-controls="tabs-00-02" aria-selected="false">
        3D option 2
      </button>
    </li><li class="nav-item">
      <button class="nav-link"
          id="tabs-00-03-tab" data-bs-toggle="tab" data-bs-target="#tabs-00-03" role="tab"
          aria-controls="tabs-00-03" aria-selected="false">
        3D task KITTI format
      </button>
    </li>
</ul>

<div class="tab-content" id="tabs-0-content">
    <div class="tab-pane fade show active"
        id="tabs-00-00" role="tabpanel" aria-labelled-by="tabs-00-00-tab" tabindex="0">
        <pre tabindex="0"><code>  root_directory
    image_1_to_be_annotated.jpg
    image_2_to_be_annotated.jpg
    related_images/
      image_1_to_be_annotated_jpg/
        context_image_for_image_1.jpg
      image_2_to_be_annotated_jpg/
        context_image_for_image_2.jpg
     subdirectory_example/
        image_3_to_be_annotated.jpg
         related_images/
          image_3_to_be_annotated_jpg/
             context_image_for_image_3.jpg</code></pre>
    </div>
    <div class="tab-pane fade"
        id="tabs-00-01" role="tabpanel" aria-labelled-by="tabs-00-01-tab" tabindex="0">
        <pre tabindex="0"><code> root_directory
    pointcloud/
      image_1_to_be_annotated.pcd
      image_2_to_be_annotated.pcd
    related_images/
      image_1_to_be_annotated_pcd/
        context_image_for_image_1.jpg
      image_2_to_be_annotated_pcd/
        context_image_for_image_2.jpg</code></pre>
    </div>
    <div class="tab-pane fade"
        id="tabs-00-02" role="tabpanel" aria-labelled-by="tabs-00-02-tab" tabindex="0">
        <pre tabindex="0"><code> /any_directory
    pointcloud.pcd
    pointcloud.jpg
/any_other_directory
    /any_subdirectory
        pointcloud.pcd
        pointcloud.png</code></pre>
    </div>
    <div class="tab-pane fade"
        id="tabs-00-03" role="tabpanel" aria-labelled-by="tabs-00-03-tab" tabindex="0">
        <pre tabindex="0"><code> /image_00
    /data
        /0000000000.png
        /0000000001.png
        /0000000002.png
        /0000000003.png
/image_01
    /data
        /0000000000.png
        /0000000001.png
        /0000000002.png
        /0000000003.png
/image_02
    /data
        /0000000000.png
        /0000000001.png
        /0000000002.png
        /0000000003.png
/image_N
    /data
        /0000000000.png
        /0000000001.png
        /0000000002.png
        /0000000003.png
/velodyne_points
    /data
        /0000000000.bin
        /0000000001.bin
        /0000000002.bin
        /0000000003.bin</code></pre>
    </div>
</div>

<ul>
<li>For KITTI: <code>image_00</code>, <code>image_01</code>, <code>image_02</code>, <code>image_N</code>,
(where <code>N</code> is any number &lt;= 12) are context images.</li>
<li>For 3D option 3: a regular image file placed near
a .pcd file with the same name is considered to be a context image.</li>
</ul>
<p>For more general information about 3D data formats,
see <a href="../../../docs/manual/basics/create_an_annotation_task/#data-formats-for-a-3d-task">3D data formats</a>.</p>
<h2 id="contextual-images">Contextual images</h2>
<p>The maximum amount of contextual images is twelve.</p>
<p>By default they will be positioned on the right side of the main image.</p>
<blockquote>
<p><strong>Note:</strong> By default, only three contextual images will be visible.</p>
</blockquote>
<p><img src="../../../images/context_img_01.jpg" alt="contex_images_1"></p>
<p>When you add contextual images to the set,
small toolbar will appear on the top of the screen, with the following elements:</p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Element</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="../../../images/context_img_04.jpg" alt="contex_images_4"></td>
<td><strong>Fit views</strong>. Click to restore the layout to its original appearance. <p>If you&rsquo;ve expanded any images in the layout, they will returned to their original size. <p>This won&rsquo;t affect the number of context images on the screen.</td>
</tr>
<tr>
<td><img src="../../../images/context_img_05.jpg" alt="contex_images_5"></td>
<td><strong>Add new image</strong>. Click to add context image to the layout.</td>
</tr>
<tr>
<td><img src="../../../images/context_img_06.jpg" alt="contex_images_6"></td>
<td><strong>Reload layout</strong>. Click to reload layout to the default view. <p>Note, that this action can change the number of context images resetting them back to three.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->
<p>Each context image has the following elements:</p>
<p><img src="../../../images/context_img_02.jpg" alt="contex_images_2"></p>
<!--lint disable maximum-line-length-->
<table>
<thead>
<tr>
<th>Element</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><strong>Full screen</strong>. Click to expand the contextual image in to the full screen mode. <p>Click again to revert contextual image to windowed mode.</td>
</tr>
<tr>
<td>2</td>
<td><strong>Move contextual image</strong>. Hold and move contextual image to the other place on the screen. <p><img src="../../../images/context_img_03.gif" alt="contex_images_3"></td>
</tr>
<tr>
<td>3</td>
<td><strong>Name</strong>. Unique contextual image name</td>
</tr>
<tr>
<td>4</td>
<td><strong>Select contextual image</strong>. Click to open a horisontal listview of all available contextual images. <p>Click on one to select.</td>
</tr>
<tr>
<td>5</td>
<td><strong>Close</strong>. Click to remove image from contextual images menu.</td>
</tr>
<tr>
<td>6</td>
<td><strong>Extend</strong> Hold and pull to extend the image.</td>
</tr>
</tbody>
</table>
<!--lint enable maximum-line-length-->

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-158b1d880eaabf3e0830c8518c23321b">2.32 - Shape grouping</h1>
    <div class="lead">Grouping multiple shapes during annotation.</div>
	<p>This feature allows us to group several shapes.</p>
<p>You may use the <code>Group Shapes</code> button or shortcuts:</p>
<ul>
<li><code>G</code> — start selection / end selection in group mode</li>
<li><code>Esc</code> — close group mode</li>
<li><code>Shift+G</code> — reset group for selected shapes</li>
</ul>
<p>You may select shapes clicking on them or selecting an area.</p>
<p>Grouped shapes will have <code>group_id</code> filed in dumped annotation.</p>
<p>Also you may switch color distribution from an instance (default) to a group.
You have to switch <code>Color By Group</code> checkbox for that.</p>
<p>Shapes that don&rsquo;t have <code>group_id</code>, will be highlighted in white.</p>
<p><img src="../../../images/image078_detrac.jpg" alt=""></p>
<p><img src="../../../images/image077_detrac.jpg" alt=""></p>
<h2 id="shapes-grouping-video-tutorial">Shapes grouping video tutorial</h2>
<!--lint disable maximum-line-length-->
<iframe width="560" height="315" src="https://www.youtube.com/embed/m8bB9f23wLs?si=N5EzIRG-1Wn6R15G" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<!--lint enable maximum-line-length-->

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-38aabad9f17e6d1d7ac9776c09a32a5c">2.33 - Dataset Manifest</h1>
    
	<h2 id="overview">Overview</h2>
<p>When we create a new task in CVAT, we need to specify where to get the input data from.
CVAT allows to use different data sources, including local file uploads, a mounted
file share on the server, cloud storages and remote URLs. In some cases CVAT
needs to have extra information about the input data. This information can be provided
in Dataset manifest files. They are mainly used when working with cloud storages to
reduce the amount of network traffic used and speed up the task creation process.
However, they can also be used in other cases, which will be explained below.</p>
<p>A dataset manifest file is a text file in the JSONL format. These files can be created
automatically with <a href="https://github.com/opencv/cvat/tree/develop/utils/dataset_manifest">the special command-line tool</a>,
or manually, following <a href="#file-format">the manifest file format specification</a>.</p>
<h2 id="how-and-when-to-use-manifest-files">How and when to use manifest files</h2>
<p>Manifest files can be used in the following cases:</p>
<ul>
<li>A video file or a set of images is used as the data source and
the caching mode is enabled. <a href="../../../docs/manual/advanced/data_on_fly/">Read more</a></li>
<li>The data is located in a cloud storage. <a href="../../../docs/manual/basics/cloud-storages/">Read more</a></li>
<li>The <code>predefined</code> file sorting method is specified. <a href="../../../docs/manual/basics/creating_an_annotation_task/#sorting-method">Read more</a></li>
</ul>
<h3 id="the-predefined-sorting-method">The predefined sorting method</h3>
<p>Independently of the file source being used, when the <code>predefined</code>
sorting method is selected in the task configuration, the source files will be
ordered according to the <code>.jsonl</code> manifest file, if it is found in the input list of files.
If a manifest is not found, the order provided in the input file list is used.</p>
<p>For image archives (e.g. <code>.zip</code>), a manifest file (<code>*.jsonl</code>) is required when using
the <code>predefined</code> file ordering. A manifest file must be provided next to the archive
in the input list of files, it must not be inside the archive.</p>
<p>If there are multiple manifest files in the input file list, an error will be raised.</p>
<h2 id="how-to-generate-manifest-files">How to generate manifest files</h2>
<p>CVAT provides a dedicated Python tool to generate manifest files.
The source code can be found <a href="https://github.com/opencv/cvat/tree/develop/utils/dataset_manifest">here</a>.</p>
<p>Using the tool is the recommended way to create manifest files for you data. The data must be
available locally to the tool to generate manifest.</p>
<h3 id="usage">Usage</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>usage: create.py <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--force<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--output-dir .<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#204a87">source</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>positional arguments:
</span></span><span style="display:flex;"><span>  <span style="color:#204a87">source</span>                Source paths
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>optional arguments:
</span></span><span style="display:flex;"><span>  -h, --help            show this <span style="color:#204a87">help</span> message and <span style="color:#204a87">exit</span>
</span></span><span style="display:flex;"><span>  --force               Use this flag to prepare the manifest file <span style="color:#204a87;font-weight:bold">for</span> video data
</span></span><span style="display:flex;"><span>                        <span style="color:#204a87;font-weight:bold">if</span> by default the video does not meet the requirements
</span></span><span style="display:flex;"><span>                        and a manifest file is not prepared
</span></span><span style="display:flex;"><span>  --output-dir OUTPUT_DIR
</span></span><span style="display:flex;"><span>                        Directory where the manifest file will be saved
</span></span></code></pre></div><h3 id="use-the-script-from-a-docker-image">Use the script from a Docker image</h3>
<p>This is the recommended way to use the tool.</p>
<p>The script can be used from the <code>cvat/server</code> image:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run -it --rm -u <span style="color:#4e9a06">&#34;</span><span style="color:#204a87;font-weight:bold">$(</span>id -u<span style="color:#204a87;font-weight:bold">)</span><span style="color:#4e9a06">&#34;</span>:<span style="color:#4e9a06">&#34;</span><span style="color:#204a87;font-weight:bold">$(</span>id -g<span style="color:#204a87;font-weight:bold">)</span><span style="color:#4e9a06">&#34;</span> <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>  -v <span style="color:#4e9a06">&#34;</span><span style="color:#4e9a06">${</span><span style="color:#000">PWD</span><span style="color:#4e9a06">}</span><span style="color:#4e9a06">&#34;</span>:<span style="color:#4e9a06">&#34;/local&#34;</span> <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>  --entrypoint python3 <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>  cvat/server <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>  utils/dataset_manifest/create.py --output-dir /local /local/&lt;path/to/sources&gt;
</span></span></code></pre></div><p>Make sure to adapt the command to your file locations.</p>
<h3 id="use-the-script-directly">Use the script directly</h3>
<h4 id="ubuntu-2004">Ubuntu 20.04</h4>
<p>Install dependencies:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># General</span>
</span></span><span style="display:flex;"><span>sudo apt-get update <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span> sudo apt-get --no-install-recommends install -y <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>    python3-dev python3-pip python3-venv pkg-config
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Library components</span>
</span></span><span style="display:flex;"><span>sudo apt-get install --no-install-recommends -y <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>    libavformat-dev libavcodec-dev libavdevice-dev <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>    libavutil-dev libswscale-dev libswresample-dev libavfilter-dev
</span></span></code></pre></div><p>Create an environment and install the necessary python modules:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m venv .env
</span></span><span style="display:flex;"><span>. .env/bin/activate
</span></span><span style="display:flex;"><span>pip install -U pip
</span></span><span style="display:flex;"><span>pip install -r utils/dataset_manifest/requirements.in
</span></span></code></pre></div><blockquote>
<p>Please note that if used with video this way, the results may be different from what
would the server decode. It is related to the ffmpeg library version. For this reason,
using the Docker-based version of the tool is recommended.</p>
</blockquote>
<h3 id="examples">Examples</h3>
<p>Create a dataset manifest in the current directory with video which contains enough keyframes:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python utils/dataset_manifest/create.py ~/Documents/video.mp4
</span></span></code></pre></div><p>Create a dataset manifest with video which does not contain enough keyframes:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python utils/dataset_manifest/create.py --force --output-dir ~/Documents ~/Documents/video.mp4
</span></span></code></pre></div><p>Create a dataset manifest with images:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python utils/dataset_manifest/create.py --output-dir ~/Documents ~/Documents/images/
</span></span></code></pre></div><p>Create a dataset manifest with pattern (may be used <code>*</code>, <code>?</code>, <code>[]</code>):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python utils/dataset_manifest/create.py --output-dir ~/Documents <span style="color:#4e9a06">&#34;/home/</span><span style="color:#4e9a06">${</span><span style="color:#000">USER</span><span style="color:#4e9a06">}</span><span style="color:#4e9a06">/Documents/**/image*.jpeg&#34;</span>
</span></span></code></pre></div><p>Create a dataset manifest using Docker image:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run -it --rm -u <span style="color:#4e9a06">&#34;</span><span style="color:#204a87;font-weight:bold">$(</span>id -u<span style="color:#204a87;font-weight:bold">)</span><span style="color:#4e9a06">&#34;</span>:<span style="color:#4e9a06">&#34;</span><span style="color:#204a87;font-weight:bold">$(</span>id -g<span style="color:#204a87;font-weight:bold">)</span><span style="color:#4e9a06">&#34;</span> <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>  -v ~/Documents/data/:<span style="color:#4e9a06">${</span><span style="color:#000">HOME</span><span style="color:#4e9a06">}</span>/manifest/:rw <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>  --entrypoint <span style="color:#4e9a06">&#39;/usr/bin/bash&#39;</span> <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>  cvat/server <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>  utils/dataset_manifest/create.py --output-dir ~/manifest/ ~/manifest/images/
</span></span></code></pre></div><h3 id="file-format">File format</h3>
<p>The dataset manifest files are text files in JSONL format. These files have 2 sub-formats:
<em>for video</em> and <em>for images and 3d data</em>.</p>
<blockquote>
<p>Each top-level entry enclosed in curly braces must use 1 string, no empty strings is allowed.
The formatting in the descriptions below is only for demonstration.</p>
</blockquote>
<h4 id="dataset-manifest-for-video">Dataset manifest for video</h4>
<p>The file describes a single video.</p>
<p><code>pts</code> - time at which the frame should be shown to the user
<code>checksum</code> - <code>md5</code> hash sum for the specific image/frame decoded</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;version&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#a40000">&lt;string</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">version</span> <span style="color:#a40000">id&gt;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;video&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;properties&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#a40000">&lt;string</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">filename&gt;,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;resolution&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#a40000">&lt;int</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">width&gt;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">&lt;int</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">height&gt;</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;length&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#a40000">&lt;int</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">frame</span> <span style="color:#a40000">count&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;number&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#a40000">&lt;int</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">frame</span> <span style="color:#a40000">number&gt;,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;pts&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#a40000">&lt;int</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">frame</span> <span style="color:#a40000">pts&gt;,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;checksum&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#a40000">&lt;string</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">md5</span> <span style="color:#a40000">frame</span> <span style="color:#a40000">hash&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span> <span style="color:#a40000">(repeatable)</span>
</span></span></code></pre></div><h4 id="dataset-manifest-for-images-and-other-data-types">Dataset manifest for images and other data types</h4>
<p>The file describes an ordered set of images and 3d point clouds.</p>
<p><code>name</code> - file basename and leading directories from the dataset root
<code>checksum</code> - <code>md5</code> hash sum for the specific image/frame decoded</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;version&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#a40000">&lt;string</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">version</span> <span style="color:#a40000">id&gt;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span> <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;images&#34;</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#a40000">&lt;string</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">image</span> <span style="color:#a40000">filename&gt;,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;extension&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#a40000">&lt;string</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">.</span> <span style="color:#a40000">+</span> <span style="color:#a40000">file</span> <span style="color:#a40000">extension&gt;,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;width&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#a40000">&lt;int</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">width&gt;,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;height&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#a40000">&lt;int</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">height&gt;,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;meta&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#a40000">&lt;dict</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">optional&gt;,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;checksum&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#a40000">&lt;string</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">md5</span> <span style="color:#a40000">hash,</span> <span style="color:#a40000">optional&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span> <span style="color:#a40000">(repeatable)</span>
</span></span></code></pre></div><h3 id="example-files">Example files</h3>
<h4 id="manifest-for-a-video">Manifest for a video</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;version&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;1.0&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;video&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;properties&#34;</span><span style="color:#000;font-weight:bold">:{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;video.mp4&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;resolution&#34;</span><span style="color:#000;font-weight:bold">:[</span><span style="color:#0000cf;font-weight:bold">1280</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">720</span><span style="color:#000;font-weight:bold">],</span><span style="color:#204a87;font-weight:bold">&#34;length&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">778</span><span style="color:#000;font-weight:bold">}}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;number&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;pts&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;checksum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;17bb40d76887b56fe8213c6fded3d540&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;number&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">135</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;pts&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">486000</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;checksum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;9da9b4d42c1206d71bf17a7070a05847&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;number&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">270</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;pts&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">972000</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;checksum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;a1c3a61814f9b58b00a795fa18bb6d3e&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;number&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">405</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;pts&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">1458000</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;checksum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;18c0803b3cc1aa62ac75b112439d2b62&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;number&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">540</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;pts&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">1944000</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;checksum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;4551ecea0f80e95a6c32c32e70cac59e&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;number&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">675</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;pts&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2430000</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;checksum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;0e72faf67e5218c70b506445ac91cdd7&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="manifest-for-a-dataset-with-images">Manifest for a dataset with images</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;version&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;1.0&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;images&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;image1&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;extension&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;.jpg&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;width&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">720</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;height&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">405</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;meta&#34;</span><span style="color:#000;font-weight:bold">:{</span><span style="color:#204a87;font-weight:bold">&#34;related_images&#34;</span><span style="color:#000;font-weight:bold">:[]},</span><span style="color:#204a87;font-weight:bold">&#34;checksum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;548918ec4b56132a5cff1d4acabe9947&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;image2&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;extension&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;.jpg&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;width&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">183</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;height&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">275</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;meta&#34;</span><span style="color:#000;font-weight:bold">:{</span><span style="color:#204a87;font-weight:bold">&#34;related_images&#34;</span><span style="color:#000;font-weight:bold">:[]},</span><span style="color:#204a87;font-weight:bold">&#34;checksum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;4b4eefd03cc6a45c1c068b98477fb639&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span><span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;image3&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;extension&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;.jpg&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;width&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">301</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;height&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">167</span><span style="color:#000;font-weight:bold">,</span><span style="color:#204a87;font-weight:bold">&#34;meta&#34;</span><span style="color:#000;font-weight:bold">:{</span><span style="color:#204a87;font-weight:bold">&#34;related_images&#34;</span><span style="color:#000;font-weight:bold">:[]},</span><span style="color:#204a87;font-weight:bold">&#34;checksum&#34;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#34;0e454a6f4a13d56c82890c98be063663&#34;</span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d7d77f3c70d971a82c22b478c3271a5a">2.34 - Data preparation on the fly</h1>
    
	<!--lint disable heading-style-->
<h2 id="description">Description</h2>
<p>Data on the fly processing is a way of working with data, the main idea of which is as follows: when creating a task,
the minimum necessary meta information is collected. This meta information allows in the future to create necessary
chunks when receiving a request from a client.</p>
<p>Generated chunks are stored in a cache of the limited size with a policy of evicting less popular items.</p>
<p>When a request is received from a client, the required chunk is searched for in the cache. If the chunk does not exist
yet, it is created using prepared meta information and then put into the cache.</p>
<p>This method of working with data allows:</p>
<ul>
<li>reduce the task creation time.</li>
<li>store data in a cache of the limited size with a policy of evicting less popular items.</li>
</ul>
<p>Unfortunately, this method has several drawbacks:</p>
<ul>
<li>The first access to the data will take more time.</li>
<li>It will not work for some videos, even if they have a valid manifest file.
If there are not enough keyframes in the video for smooth video decoding,
the task data chunks will be created with the default method, i.e. during the task creation.</li>
<li>If the data has not been cached yet, and is not reachable during the access time,
it cannot be retrieved.</li>
</ul>
<h4 id="how-to-use">How to use</h4>
<p>To enable or disable this feature for a new task, use the <a href="../../../docs/manual/basics/creating_an_annotation_task/#use-cache"><code>Use Cache</code></a>
toggle in the task configuration.</p>
<h4 id="uploading-a-manifest-with-data">Uploading a manifest with data</h4>
<p>When creating a task, you can upload a <code>manifest.jsonl</code> file along with the video or dataset with images.
You can see how to prepare it <a href="../../../docs/manual/advanced/dataset_manifest/">here</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1b35e18fef7d8c06ef313e32977f5739">2.35 - Serverless tutorial</h1>
    
	<h2 id="introduction">Introduction</h2>
<p>Leveraging the power of computers to solve daily routine problems,
fix mistakes, and find information has become second nature. It is therefore
natural to use computing power in annotating datasets. There are multiple
publicly available DL models for classification, object detection, and semantic
segmentation which can be used for data annotation. Whilst some of these publicly
available DL models can be found on CVAT, it is relatively simple to integrate your
privately trained ML/DL model into CVAT.</p>
<p>With the imperfection of the world, alongside the unavailability of a silver bullet
that can solve all our problems; publicly available DL models cannot be used when we
want to detect niche or specific objects on which these publicly available models were not trained.
As annotation requirements can be sometimes strict, automatically annotated objects cannot be accepted
as it is, and it is easier to annotate them from scratch. With these limitations in mind, a DL solution
that can <em>perfectly</em> annotate 50% of your data equates to reducing manual annotation by half.</p>
<p>Since we know DL models can help us to annotate faster, how then do we use them?
In CVAT all such DL models are implemented as serverless functions using the <a href="https://nuclio.io/">Nuclio</a>
serverless platform. There are multiple implemented functions that can be
found in the <a href="https://github.com/cvat-ai/cvat/tree/develop/serverless">serverless</a> directory such as <em>Mask RCNN,
Faster RCNN, SiamMask, Inside Outside Guidance, Deep Extreme Cut</em>, etc.
Follow <a href="../../../docs/administration/advanced/installation_automatic_annotation">the installation guide</a> to build and deploy
these serverless functions. See <a href="../../../docs/manual/advanced/ai-tools/">the user guide</a> to
understand how to use these functions in the UI to automatically annotate data.</p>
<p>What is a serverless function and why is it used for automatic annotation
in CVAT? Let&rsquo;s assume that you have a DL model and want to use it for
AI-assisted annotation. The naive approach is to implement a Python
script which uses the DL model to prepare a file with annotations in a
public format like <a href="https://cocodataset.org/#format-data">MS COCO</a> or <a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2012/htmldoc/index.html">Pascal VOC</a>.
After that you can upload the annotation file into CVAT. It works but it is
not user-friendly. How to make CVAT run the script for you?</p>
<p>You can pack the script with your DL model into a container which
provides a standard interface for interacting with it. One way to do that is to use
the <a href="https://en.wikipedia.org/wiki/Function_as_a_service">function as a service</a> approach. Your script becomes a function
inside cloud infrastructure which can be called over HTTP. The Nuclio
serverless platform helps us to implement and manage such functions.</p>
<p>CVAT supports Nuclio out of the box if it is built properly. See
<a href="../../../docs/administration/advanced/installation_automatic_annotation">the installation guide</a> for instructions.
Thus if you deploy a serverless function, the CVAT server can see it and call it
with appropriate arguments. Of course there are some tricks how to create
serverless functions for CVAT and we will discuss them in next sections of
the tutorial.</p>
<h2 id="using-builtin-dl-models-in-practice">Using builtin DL models in practice</h2>
<p>In the tutorial it is assumed that you already have the cloned
<a href="https://github.com/cvat-ai/cvat">CVAT GitHub repo</a>.
To build CVAT with serverless support you need to run <code>docker compose</code> command
with specific configuration files. In the case it is <code>docker-compose.serverless.yml</code>.
It has necessary instructions how to build and deploy Nuclio platform as a
docker container and enable corresponding support in CVAT.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker compose -f docker-compose.yml -f docker-compose.dev.yml -f components/serverless/docker-compose.serverless.yml up -d --build
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker compose -f docker-compose.yml -f docker-compose.dev.yml -f components/serverless/docker-compose.serverless.yml ps
</span></span></code></pre></div><pre tabindex="0"><code>   Name                 Command                  State                            Ports
-------------------------------------------------------------------------------------------------------------
cvat         /usr/bin/supervisord             Up             8080/tcp
cvat_db      docker-entrypoint.sh postgres    Up             5432/tcp
cvat_proxy   /docker-entrypoint.sh /bin ...   Up             0.0.0.0:8080-&gt;80/tcp,:::8080-&gt;80/tcp
cvat_redis   docker-entrypoint.sh redis ...   Up             6379/tcp
cvat_ui      /docker-entrypoint.sh ngin ...   Up             80/tcp
nuclio       /docker-entrypoint.sh sh - ...   Up (healthy)   80/tcp, 0.0.0.0:8070-&gt;8070/tcp,:::8070-&gt;8070/tcp
</code></pre><p>Next step is to deploy builtin serverless functions using Nuclio command
line tool (aka <code>nuctl</code>). It is assumed that you followed
<a href="../../../docs/administration/advanced/installation_automatic_annotation">the installation guide</a> and <code>nuctl</code>
is already installed on your operating system. Run the following
command to check that it works. In the beginning you should not have
any deployed serverless functions.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nuctl get functions
</span></span></code></pre></div><pre tabindex="0"><code>No functions found
</code></pre><p>Let&rsquo;s see on examples how to use DL models for annotation in different
computer vision tasks.</p>
<h3 id="tracking-using-siammask">Tracking using SiamMask</h3>
<p>In this use case a user needs to annotate all individual objects on a video as
tracks. Basically for every object we need to know its location on every frame.</p>
<p>First step is to deploy <a href="https://github.com/cvat-ai/cvat/tree/develop/serverless/pytorch/foolwood/siammask/nuclio">SiamMask</a>. The deployment process
can depend on your operating system. On Linux you can use <code>serverless/deploy_cpu.sh</code>
auxiliary script, but below we are using <code>nuctl</code> directly.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nuctl create project cvat
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>nuctl deploy --project-name cvat --path <span style="color:#4e9a06">&#34;./serverless/pytorch/foolwood/siammask/nuclio&#34;</span> --platform <span style="color:#204a87">local</span>
</span></span></code></pre></div><pre tabindex="0"><code>21.05.07 13:00:22.233                     nuctl (I) Deploying function {&#34;name&#34;: &#34;&#34;}
21.05.07 13:00:22.233                     nuctl (I) Building {&#34;versionInfo&#34;: &#34;Label: 1.5.16, Git commit: ae43a6a560c2bec42d7ccfdf6e8e11a1e3cc3774, OS: linux, Arch: amd64, Go version: go1.14.3&#34;, &#34;name&#34;: &#34;&#34;}
21.05.07 13:00:22.652                     nuctl (I) Cleaning up before deployment {&#34;functionName&#34;: &#34;pth-foolwood-siammask&#34;}
21.05.07 13:00:22.705                     nuctl (I) Staging files and preparing base images
21.05.07 13:00:22.706                     nuctl (I) Building processor image {&#34;imageName&#34;: &#34;cvat/pth.foolwood.siammask:latest&#34;}
21.05.07 13:00:22.706     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/handler-builder-python-onbuild:1.5.16-amd64&#34;}
21.05.07 13:00:26.351     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/uhttpc:0.0.1-amd64&#34;}
21.05.07 13:00:29.819            nuctl.platform (I) Building docker image {&#34;image&#34;: &#34;cvat/pth.foolwood.siammask:latest&#34;}
21.05.07 13:00:30.103            nuctl.platform (I) Pushing docker image into registry {&#34;image&#34;: &#34;cvat/pth.foolwood.siammask:latest&#34;, &#34;registry&#34;: &#34;&#34;}
21.05.07 13:00:30.103            nuctl.platform (I) Docker image was successfully built and pushed into docker registry {&#34;image&#34;: &#34;cvat/pth.foolwood.siammask:latest&#34;}
21.05.07 13:00:30.104                     nuctl (I) Build complete {&#34;result&#34;: {&#34;Image&#34;:&#34;cvat/pth.foolwood.siammask:latest&#34;,&#34;UpdatedFunctionConfig&#34;:{&#34;metadata&#34;:{&#34;name&#34;:&#34;pth-foolwood-siammask&#34;,&#34;namespace&#34;:&#34;nuclio&#34;,&#34;labels&#34;:{&#34;nuclio.io/project-name&#34;:&#34;cvat&#34;},&#34;annotations&#34;:{&#34;framework&#34;:&#34;pytorch&#34;,&#34;name&#34;:&#34;SiamMask&#34;,&#34;spec&#34;:&#34;&#34;,&#34;type&#34;:&#34;tracker&#34;}},&#34;spec&#34;:{&#34;description&#34;:&#34;Fast Online Object Tracking and Segmentation&#34;,&#34;handler&#34;:&#34;main:handler&#34;,&#34;runtime&#34;:&#34;python:3.6&#34;,&#34;env&#34;:[{&#34;name&#34;:&#34;PYTHONPATH&#34;,&#34;value&#34;:&#34;/opt/nuclio/SiamMask:/opt/nuclio/SiamMask/experiments/siammask_sharp&#34;}],&#34;resources&#34;:{},&#34;image&#34;:&#34;cvat/pth.foolwood.siammask:latest&#34;,&#34;targetCPU&#34;:75,&#34;triggers&#34;:{&#34;myHttpTrigger&#34;:{&#34;class&#34;:&#34;&#34;,&#34;kind&#34;:&#34;http&#34;,&#34;name&#34;:&#34;myHttpTrigger&#34;,&#34;maxWorkers&#34;:2,&#34;workerAvailabilityTimeoutMilliseconds&#34;:10000,&#34;attributes&#34;:{&#34;maxRequestBodySize&#34;:33554432}}},&#34;build&#34;:{&#34;image&#34;:&#34;cvat/pth.foolwood.siammask&#34;,&#34;baseImage&#34;:&#34;continuumio/miniconda3&#34;,&#34;directives&#34;:{&#34;preCopy&#34;:[{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda create -y -n siammask python=3.6&#34;},{&#34;kind&#34;:&#34;SHELL&#34;,&#34;value&#34;:&#34;[\&#34;conda\&#34;, \&#34;run\&#34;, \&#34;-n\&#34;, \&#34;siammask\&#34;, \&#34;/bin/bash\&#34;, \&#34;-c\&#34;]&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;git clone https://github.com/foolwood/SiamMask.git&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;pip install -r SiamMask/requirements.txt jsonpickle&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda install -y gcc_linux-64&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;cd SiamMask \u0026\u0026 bash make.sh \u0026\u0026 cd -&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;wget -P SiamMask/experiments/siammask_sharp http://www.robots.ox.ac.uk/~qwang/SiamMask_DAVIS.pth&#34;},{&#34;kind&#34;:&#34;ENTRYPOINT&#34;,&#34;value&#34;:&#34;[\&#34;conda\&#34;, \&#34;run\&#34;, \&#34;-n\&#34;, \&#34;siammask\&#34;]&#34;}]},&#34;codeEntryType&#34;:&#34;image&#34;},&#34;platform&#34;:{&#34;attributes&#34;:{&#34;mountMode&#34;:&#34;volume&#34;,&#34;restartPolicy&#34;:{&#34;maximumRetryCount&#34;:3,&#34;name&#34;:&#34;always&#34;}}},&#34;readinessTimeoutSeconds&#34;:60,&#34;securityContext&#34;:{},&#34;eventTimeout&#34;:&#34;30s&#34;}}}}
21.05.07 13:00:31.387            nuctl.platform (I) Waiting for function to be ready {&#34;timeout&#34;: 60}
21.05.07 13:00:32.796                     nuctl (I) Function deploy complete {&#34;functionName&#34;: &#34;pth-foolwood-siammask&#34;, &#34;httpPort&#34;: 49155}
</code></pre><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nuctl get functions
</span></span></code></pre></div><pre tabindex="0"><code>  NAMESPACE |         NAME          | PROJECT | STATE | NODE PORT | REPLICAS
  nuclio    | pth-foolwood-siammask | cvat    | ready |     49155 | 1/1
</code></pre><p>Let&rsquo;s see how it works in the UI. Go to the <a href="http://localhost:8080/models">models tab</a>
and check that you can see SiamMask in the list. If you cannot, it
means that there are some problems. Go to one of our public channels and ask
for help.</p>
<p><img src="../../../images/models_list_with_siammask.png" alt="Models list with SiamMask"></p>
<p>After that, go to the <a href="http://localhost:8080/tasks/create">new task page</a> and
create a task with <a href="https://github.com/opencv/opencv/blob/master/samples/data/vtest.avi?raw=true">this video file</a>. You can choose any task name,
any labels, and even another video file if you like. In this case, the <code>Remote sources</code>
option was used to specify the video file. Press <code>submit</code> button at the end to
finish the process.</p>
<p><img src="../../../images/create_video_task.png" alt="Create a video annotation task"></p>
<p>Open the task and use <a href="../../../docs/manual/advanced/ai-tools/">AI tools</a> to start tracking
an object. Draw a bounding box around an object, and sequentially switch
through the frame and correct the restrictive box if necessary.</p>
<p><img src="../../../images/trackers_tab.jpg" alt="Start tracking an object"></p>
<p>Finally you will get bounding boxes.</p>
<p><img src="../../../images/siammask_results.gif" alt="SiamMask results"></p>
<p><code>SiamMask</code> model is more optimized to work on Nvidia GPUs.
For more information about deploying the model for the GPU, <a href="#objects-segmentation-using-mask-rcnn">read on</a>.</p>
<h3 id="object-detection-using-yolo-v3">Object detection using YOLO-v3</h3>
<p>First of all let&rsquo;s deploy the DL model. The deployment process is similar for
all serverless functions. Need to run <code>nuctl deploy</code> command with appropriate
arguments. To simplify the process, you can use <code>serverless/deploy_cpu.sh</code>
command. Inference of the serverless function is optimized for CPU using
<a href="https://software.intel.com/content/www/us/en/develop/tools/openvino-toolkit.html">Intel OpenVINO framework</a>.</p>
<details>
<summary>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>serverless/deploy_cpu.sh serverless/openvino/omz/public/yolo-v3-tf/
</span></span></code></pre></div></summary>
<pre tabindex="0"><code>Deploying serverless/openvino/omz/public/yolo-v3-tf function...
21.07.12 15:55:17.314                     nuctl (I) Deploying function {&#34;name&#34;: &#34;&#34;}
21.07.12 15:55:17.314                     nuctl (I) Building {&#34;versionInfo&#34;: &#34;Label: 1.5.16, Git commit: ae43a6a560c2bec42d7ccfdf6e8e11a1e3cc3774, OS: linux, Arch: amd64, Go version: go1.14.3&#34;, &#34;name&#34;: &#34;&#34;}
21.07.12 15:55:17.682                     nuctl (I) Cleaning up before deployment {&#34;functionName&#34;: &#34;openvino-omz-public-yolo-v3-tf&#34;}
21.07.12 15:55:17.739                     nuctl (I) Staging files and preparing base images
21.07.12 15:55:17.743                     nuctl (I) Building processor image {&#34;imageName&#34;: &#34;cvat/openvino.omz.public.yolo-v3-tf:latest&#34;}
21.07.12 15:55:17.743     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/handler-builder-python-onbuild:1.5.16-amd64&#34;}
21.07.12 15:55:21.048     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/uhttpc:0.0.1-amd64&#34;}
21.07.12 15:55:24.595            nuctl.platform (I) Building docker image {&#34;image&#34;: &#34;cvat/openvino.omz.public.yolo-v3-tf:latest&#34;}
21.07.12 15:55:30.359            nuctl.platform (I) Pushing docker image into registry {&#34;image&#34;: &#34;cvat/openvino.omz.public.yolo-v3-tf:latest&#34;, &#34;registry&#34;: &#34;&#34;}
21.07.12 15:55:30.359            nuctl.platform (I) Docker image was successfully built and pushed into docker registry {&#34;image&#34;: &#34;cvat/openvino.omz.public.yolo-v3-tf:latest&#34;}
21.07.12 15:55:30.359                     nuctl (I) Build complete {&#34;result&#34;: {&#34;Image&#34;:&#34;cvat/openvino.omz.public.yolo-v3-tf:latest&#34;,&#34;UpdatedFunctionConfig&#34;:{&#34;metadata&#34;:{&#34;name&#34;:&#34;openvino-omz-public-yolo-v3-tf&#34;,&#34;namespace&#34;:&#34;nuclio&#34;,&#34;labels&#34;:{&#34;nuclio.io/project-name&#34;:&#34;cvat&#34;},&#34;annotations&#34;:{&#34;framework&#34;:&#34;openvino&#34;,&#34;name&#34;:&#34;YOLO v3&#34;,&#34;spec&#34;:&#34;[\n  { \&#34;id\&#34;: 0, \&#34;name\&#34;: \&#34;person\&#34; },\n  { \&#34;id\&#34;: 1, \&#34;name\&#34;: \&#34;bicycle\&#34; },\n  { \&#34;id\&#34;: 2, \&#34;name\&#34;: \&#34;car\&#34; },\n  { \&#34;id\&#34;: 3, \&#34;name\&#34;: \&#34;motorbike\&#34; },\n  { \&#34;id\&#34;: 4, \&#34;name\&#34;: \&#34;aeroplane\&#34; },\n  { \&#34;id\&#34;: 5, \&#34;name\&#34;: \&#34;bus\&#34; },\n  { \&#34;id\&#34;: 6, \&#34;name\&#34;: \&#34;train\&#34; },\n  { \&#34;id\&#34;: 7, \&#34;name\&#34;: \&#34;truck\&#34; },\n  { \&#34;id\&#34;: 8, \&#34;name\&#34;: \&#34;boat\&#34; },\n  { \&#34;id\&#34;: 9, \&#34;name\&#34;: \&#34;traffic light\&#34; },\n  { \&#34;id\&#34;: 10, \&#34;name\&#34;: \&#34;fire hydrant\&#34; },\n  { \&#34;id\&#34;: 11, \&#34;name\&#34;: \&#34;stop sign\&#34; },\n  { \&#34;id\&#34;: 12, \&#34;name\&#34;: \&#34;parking meter\&#34; },\n  { \&#34;id\&#34;: 13, \&#34;name\&#34;: \&#34;bench\&#34; },\n  { \&#34;id\&#34;: 14, \&#34;name\&#34;: \&#34;bird\&#34; },\n  { \&#34;id\&#34;: 15, \&#34;name\&#34;: \&#34;cat\&#34; },\n  { \&#34;id\&#34;: 16, \&#34;name\&#34;: \&#34;dog\&#34; },\n  { \&#34;id\&#34;: 17, \&#34;name\&#34;: \&#34;horse\&#34; },\n  { \&#34;id\&#34;: 18, \&#34;name\&#34;: \&#34;sheep\&#34; },\n  { \&#34;id\&#34;: 19, \&#34;name\&#34;: \&#34;cow\&#34; },\n  { \&#34;id\&#34;: 20, \&#34;name\&#34;: \&#34;elephant\&#34; },\n  { \&#34;id\&#34;: 21, \&#34;name\&#34;: \&#34;bear\&#34; },\n  { \&#34;id\&#34;: 22, \&#34;name\&#34;: \&#34;zebra\&#34; },\n  { \&#34;id\&#34;: 23, \&#34;name\&#34;: \&#34;giraffe\&#34; },\n  { \&#34;id\&#34;: 24, \&#34;name\&#34;: \&#34;backpack\&#34; },\n  { \&#34;id\&#34;: 25, \&#34;name\&#34;: \&#34;umbrella\&#34; },\n  { \&#34;id\&#34;: 26, \&#34;name\&#34;: \&#34;handbag\&#34; },\n  { \&#34;id\&#34;: 27, \&#34;name\&#34;: \&#34;tie\&#34; },\n  { \&#34;id\&#34;: 28, \&#34;name\&#34;: \&#34;suitcase\&#34; },\n  { \&#34;id\&#34;: 29, \&#34;name\&#34;: \&#34;frisbee\&#34; },\n  { \&#34;id\&#34;: 30, \&#34;name\&#34;: \&#34;skis\&#34; },\n  { \&#34;id\&#34;: 31, \&#34;name\&#34;: \&#34;snowboard\&#34; },\n  { \&#34;id\&#34;: 32, \&#34;name\&#34;: \&#34;sports ball\&#34; },\n  { \&#34;id\&#34;: 33, \&#34;name\&#34;: \&#34;kite\&#34; },\n  { \&#34;id\&#34;: 34, \&#34;name\&#34;: \&#34;baseball bat\&#34; },\n  { \&#34;id\&#34;: 35, \&#34;name\&#34;: \&#34;baseball glove\&#34; },\n  { \&#34;id\&#34;: 36, \&#34;name\&#34;: \&#34;skateboard\&#34; },\n  { \&#34;id\&#34;: 37, \&#34;name\&#34;: \&#34;surfboard\&#34; },\n  { \&#34;id\&#34;: 38, \&#34;name\&#34;: \&#34;tennis racket\&#34; },\n  { \&#34;id\&#34;: 39, \&#34;name\&#34;: \&#34;bottle\&#34; },\n  { \&#34;id\&#34;: 40, \&#34;name\&#34;: \&#34;wine glass\&#34; },\n  { \&#34;id\&#34;: 41, \&#34;name\&#34;: \&#34;cup\&#34; },\n  { \&#34;id\&#34;: 42, \&#34;name\&#34;: \&#34;fork\&#34; },\n  { \&#34;id\&#34;: 43, \&#34;name\&#34;: \&#34;knife\&#34; },\n  { \&#34;id\&#34;: 44, \&#34;name\&#34;: \&#34;spoon\&#34; },\n  { \&#34;id\&#34;: 45, \&#34;name\&#34;: \&#34;bowl\&#34; },\n  { \&#34;id\&#34;: 46, \&#34;name\&#34;: \&#34;banana\&#34; },\n  { \&#34;id\&#34;: 47, \&#34;name\&#34;: \&#34;apple\&#34; },\n  { \&#34;id\&#34;: 48, \&#34;name\&#34;: \&#34;sandwich\&#34; },\n  { \&#34;id\&#34;: 49, \&#34;name\&#34;: \&#34;orange\&#34; },\n  { \&#34;id\&#34;: 50, \&#34;name\&#34;: \&#34;broccoli\&#34; },\n  { \&#34;id\&#34;: 51, \&#34;name\&#34;: \&#34;carrot\&#34; },\n  { \&#34;id\&#34;: 52, \&#34;name\&#34;: \&#34;hot dog\&#34; },\n  { \&#34;id\&#34;: 53, \&#34;name\&#34;: \&#34;pizza\&#34; },\n  { \&#34;id\&#34;: 54, \&#34;name\&#34;: \&#34;donut\&#34; },\n  { \&#34;id\&#34;: 55, \&#34;name\&#34;: \&#34;cake\&#34; },\n  { \&#34;id\&#34;: 56, \&#34;name\&#34;: \&#34;chair\&#34; },\n  { \&#34;id\&#34;: 57, \&#34;name\&#34;: \&#34;sofa\&#34; },\n  { \&#34;id\&#34;: 58, \&#34;name\&#34;: \&#34;pottedplant\&#34; },\n  { \&#34;id\&#34;: 59, \&#34;name\&#34;: \&#34;bed\&#34; },\n  { \&#34;id\&#34;: 60, \&#34;name\&#34;: \&#34;diningtable\&#34; },\n  { \&#34;id\&#34;: 61, \&#34;name\&#34;: \&#34;toilet\&#34; },\n  { \&#34;id\&#34;: 62, \&#34;name\&#34;: \&#34;tvmonitor\&#34; },\n  { \&#34;id\&#34;: 63, \&#34;name\&#34;: \&#34;laptop\&#34; },\n  { \&#34;id\&#34;: 64, \&#34;name\&#34;: \&#34;mouse\&#34; },\n  { \&#34;id\&#34;: 65, \&#34;name\&#34;: \&#34;remote\&#34; },\n  { \&#34;id\&#34;: 66, \&#34;name\&#34;: \&#34;keyboard\&#34; },\n  { \&#34;id\&#34;: 67, \&#34;name\&#34;: \&#34;cell phone\&#34; },\n  { \&#34;id\&#34;: 68, \&#34;name\&#34;: \&#34;microwave\&#34; },\n  { \&#34;id\&#34;: 69, \&#34;name\&#34;: \&#34;oven\&#34; },\n  { \&#34;id\&#34;: 70, \&#34;name\&#34;: \&#34;toaster\&#34; },\n  { \&#34;id\&#34;: 71, \&#34;name\&#34;: \&#34;sink\&#34; },\n  { \&#34;id\&#34;: 72, \&#34;name\&#34;: \&#34;refrigerator\&#34; },\n  { \&#34;id\&#34;: 73, \&#34;name\&#34;: \&#34;book\&#34; },\n  { \&#34;id\&#34;: 74, \&#34;name\&#34;: \&#34;clock\&#34; },\n  { \&#34;id\&#34;: 75, \&#34;name\&#34;: \&#34;vase\&#34; },\n  { \&#34;id\&#34;: 76, \&#34;name\&#34;: \&#34;scissors\&#34; },\n  { \&#34;id\&#34;: 77, \&#34;name\&#34;: \&#34;teddy bear\&#34; },\n  { \&#34;id\&#34;: 78, \&#34;name\&#34;: \&#34;hair drier\&#34; },\n  { \&#34;id\&#34;: 79, \&#34;name\&#34;: \&#34;toothbrush\&#34; }\n]\n&#34;,&#34;type&#34;:&#34;detector&#34;}},&#34;spec&#34;:{&#34;description&#34;:&#34;YOLO v3 via Intel OpenVINO&#34;,&#34;handler&#34;:&#34;main:handler&#34;,&#34;runtime&#34;:&#34;python:3.6&#34;,&#34;env&#34;:[{&#34;name&#34;:&#34;NUCLIO_PYTHON_EXE_PATH&#34;,&#34;value&#34;:&#34;/opt/nuclio/common/openvino/python3&#34;}],&#34;resources&#34;:{},&#34;image&#34;:&#34;cvat/openvino.omz.public.yolo-v3-tf:latest&#34;,&#34;targetCPU&#34;:75,&#34;triggers&#34;:{&#34;myHttpTrigger&#34;:{&#34;class&#34;:&#34;&#34;,&#34;kind&#34;:&#34;http&#34;,&#34;name&#34;:&#34;myHttpTrigger&#34;,&#34;maxWorkers&#34;:2,&#34;workerAvailabilityTimeoutMilliseconds&#34;:10000,&#34;attributes&#34;:{&#34;maxRequestBodySize&#34;:33554432}}},&#34;volumes&#34;:[{&#34;volume&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;hostPath&#34;:{&#34;path&#34;:&#34;/home/nmanovic/Workspace/cvat/serverless/common&#34;}},&#34;volumeMount&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;mountPath&#34;:&#34;/opt/nuclio/common&#34;}}],&#34;build&#34;:{&#34;image&#34;:&#34;cvat/openvino.omz.public.yolo-v3-tf&#34;,&#34;baseImage&#34;:&#34;openvino/ubuntu18_dev:2020.2&#34;,&#34;directives&#34;:{&#34;preCopy&#34;:[{&#34;kind&#34;:&#34;USER&#34;,&#34;value&#34;:&#34;root&#34;},{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;ln -s /usr/bin/pip3 /usr/bin/pip&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;/opt/intel/openvino/deployment_tools/open_model_zoo/tools/downloader/downloader.py --name yolo-v3-tf -o /opt/nuclio/open_model_zoo&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;/opt/intel/openvino/deployment_tools/open_model_zoo/tools/downloader/converter.py --name yolo-v3-tf --precisions FP32 -d /opt/nuclio/open_model_zoo -o /opt/nuclio/open_model_zoo&#34;}]},&#34;codeEntryType&#34;:&#34;image&#34;},&#34;platform&#34;:{&#34;attributes&#34;:{&#34;mountMode&#34;:&#34;volume&#34;,&#34;restartPolicy&#34;:{&#34;maximumRetryCount&#34;:3,&#34;name&#34;:&#34;always&#34;}}},&#34;readinessTimeoutSeconds&#34;:60,&#34;securityContext&#34;:{},&#34;eventTimeout&#34;:&#34;30s&#34;}}}}
21.07.12 15:55:31.496            nuctl.platform (I) Waiting for function to be ready {&#34;timeout&#34;: 60}
21.07.12 15:55:32.894                     nuctl (I) Function deploy complete {&#34;functionName&#34;: &#34;openvino-omz-public-yolo-v3-tf&#34;, &#34;httpPort&#34;: 49156}
</code></pre></details>
<p>Again, go to <a href="http://localhost:8080/models">models tab</a> and check that you can
see <code>YOLO v3</code> in the list. If you cannot by a reason it means that there are some
problems. Go to one of our public channels and ask for help.</p>
<p>Let us reuse the task which you created for testing <code>SiamMask</code> serverless function
above. Choose the <code>magic wand</code> tool, go to the <code>Detectors</code> tab, and select
<code>YOLO v3</code> model. Press <code>Annotate</code> button and after a couple of seconds you
should see detection results. Do not forget to save annotations.</p>
<p><img src="../../../images/yolo_v3_results.jpg" alt="YOLO v3 results"></p>
<p>Also it is possible to run a detector for the whole annotation task. Thus
CVAT will run the serverless function on every frame of the task and submit
results directly into database. For more details please read
<a href="../../../docs/manual/advanced/automatic-annotation/">the guide</a>.</p>
<h3 id="objects-segmentation-using-mask-rcnn">Objects segmentation using Mask-RCNN</h3>
<p>If you have a detector, which returns polygons, you can segment objects. One
of such detectors is <code>Mask-RCNN</code>. There are several implementations of the
detector available out of the box:</p>
<ul>
<li><code>serverless/openvino/omz/public/mask_rcnn_inception_resnet_v2_atrous_coco</code> is
optimized using <a href="https://software.intel.com/content/www/us/en/develop/tools/openvino-toolkit.html">Intel OpenVINO framework</a> and works well
if it is run on an Intel CPU.</li>
<li><code>serverless/tensorflow/matterport/mask_rcnn/</code> is optimized for GPU.</li>
</ul>
<p>The deployment process for a serverless function optimized for GPU is similar.
Just need to run <code>serverless/deploy_gpu.sh</code> script. It runs mostly the same
commands but utilize <code>function-gpu.yaml</code> configuration file instead of
<code>function.yaml</code> internally. See next sections if you want to understand the
difference.</p>
<p><em>Note: Please do not run several GPU functions at the same time. In many cases it
will not work out of the box. For now you should manually schedule different
functions on different GPUs and it requires source code modification. Nuclio
autoscaler does not support the local platform (docker).</em></p>
<details>
<summary>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>serverless/deploy_gpu.sh serverless/tensorflow/matterport/mask_rcnn
</span></span></code></pre></div></summary>
<pre tabindex="0"><code>Deploying serverless/tensorflow/matterport/mask_rcnn function...
21.07.12 16:48:48.995                     nuctl (I) Deploying function {&#34;name&#34;: &#34;&#34;}
21.07.12 16:48:48.995                     nuctl (I) Building {&#34;versionInfo&#34;: &#34;Label: 1.5.16, Git commit: ae43a6a560c2bec42d7ccfdf6e8e11a1e3cc3774, OS: linux, Arch: amd64, Go version: go1.14.3&#34;, &#34;name&#34;: &#34;&#34;}
21.07.12 16:48:49.356                     nuctl (I) Cleaning up before deployment {&#34;functionName&#34;: &#34;tf-matterport-mask-rcnn&#34;}
21.07.12 16:48:49.470                     nuctl (I) Function already exists, deleting function containers {&#34;functionName&#34;: &#34;tf-matterport-mask-rcnn&#34;}
21.07.12 16:48:50.247                     nuctl (I) Staging files and preparing base images
21.07.12 16:48:50.248                     nuctl (I) Building processor image {&#34;imageName&#34;: &#34;cvat/tf.matterport.mask_rcnn:latest&#34;}
21.07.12 16:48:50.249     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/handler-builder-python-onbuild:1.5.16-amd64&#34;}
21.07.12 16:48:53.674     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/uhttpc:0.0.1-amd64&#34;}
21.07.12 16:48:57.424            nuctl.platform (I) Building docker image {&#34;image&#34;: &#34;cvat/tf.matterport.mask_rcnn:latest&#34;}
21.07.12 16:48:57.763            nuctl.platform (I) Pushing docker image into registry {&#34;image&#34;: &#34;cvat/tf.matterport.mask_rcnn:latest&#34;, &#34;registry&#34;: &#34;&#34;}
21.07.12 16:48:57.764            nuctl.platform (I) Docker image was successfully built and pushed into docker registry {&#34;image&#34;: &#34;cvat/tf.matterport.mask_rcnn:latest&#34;}
21.07.12 16:48:57.764                     nuctl (I) Build complete {&#34;result&#34;: {&#34;Image&#34;:&#34;cvat/tf.matterport.mask_rcnn:latest&#34;,&#34;UpdatedFunctionConfig&#34;:{&#34;metadata&#34;:{&#34;name&#34;:&#34;tf-matterport-mask-rcnn&#34;,&#34;namespace&#34;:&#34;nuclio&#34;,&#34;labels&#34;:{&#34;nuclio.io/project-name&#34;:&#34;cvat&#34;},&#34;annotations&#34;:{&#34;framework&#34;:&#34;tensorflow&#34;,&#34;name&#34;:&#34;Mask RCNN via Tensorflow&#34;,&#34;spec&#34;:&#34;[\n  { \&#34;id\&#34;: 0, \&#34;name\&#34;: \&#34;BG\&#34; },\n  { \&#34;id\&#34;: 1, \&#34;name\&#34;: \&#34;person\&#34; },\n  { \&#34;id\&#34;: 2, \&#34;name\&#34;: \&#34;bicycle\&#34; },\n  { \&#34;id\&#34;: 3, \&#34;name\&#34;: \&#34;car\&#34; },\n  { \&#34;id\&#34;: 4, \&#34;name\&#34;: \&#34;motorcycle\&#34; },\n  { \&#34;id\&#34;: 5, \&#34;name\&#34;: \&#34;airplane\&#34; },\n  { \&#34;id\&#34;: 6, \&#34;name\&#34;: \&#34;bus\&#34; },\n  { \&#34;id\&#34;: 7, \&#34;name\&#34;: \&#34;train\&#34; },\n  { \&#34;id\&#34;: 8, \&#34;name\&#34;: \&#34;truck\&#34; },\n  { \&#34;id\&#34;: 9, \&#34;name\&#34;: \&#34;boat\&#34; },\n  { \&#34;id\&#34;: 10, \&#34;name\&#34;: \&#34;traffic_light\&#34; },\n  { \&#34;id\&#34;: 11, \&#34;name\&#34;: \&#34;fire_hydrant\&#34; },\n  { \&#34;id\&#34;: 12, \&#34;name\&#34;: \&#34;stop_sign\&#34; },\n  { \&#34;id\&#34;: 13, \&#34;name\&#34;: \&#34;parking_meter\&#34; },\n  { \&#34;id\&#34;: 14, \&#34;name\&#34;: \&#34;bench\&#34; },\n  { \&#34;id\&#34;: 15, \&#34;name\&#34;: \&#34;bird\&#34; },\n  { \&#34;id\&#34;: 16, \&#34;name\&#34;: \&#34;cat\&#34; },\n  { \&#34;id\&#34;: 17, \&#34;name\&#34;: \&#34;dog\&#34; },\n  { \&#34;id\&#34;: 18, \&#34;name\&#34;: \&#34;horse\&#34; },\n  { \&#34;id\&#34;: 19, \&#34;name\&#34;: \&#34;sheep\&#34; },\n  { \&#34;id\&#34;: 20, \&#34;name\&#34;: \&#34;cow\&#34; },\n  { \&#34;id\&#34;: 21, \&#34;name\&#34;: \&#34;elephant\&#34; },\n  { \&#34;id\&#34;: 22, \&#34;name\&#34;: \&#34;bear\&#34; },\n  { \&#34;id\&#34;: 23, \&#34;name\&#34;: \&#34;zebra\&#34; },\n  { \&#34;id\&#34;: 24, \&#34;name\&#34;: \&#34;giraffe\&#34; },\n  { \&#34;id\&#34;: 25, \&#34;name\&#34;: \&#34;backpack\&#34; },\n  { \&#34;id\&#34;: 26, \&#34;name\&#34;: \&#34;umbrella\&#34; },\n  { \&#34;id\&#34;: 27, \&#34;name\&#34;: \&#34;handbag\&#34; },\n  { \&#34;id\&#34;: 28, \&#34;name\&#34;: \&#34;tie\&#34; },\n  { \&#34;id\&#34;: 29, \&#34;name\&#34;: \&#34;suitcase\&#34; },\n  { \&#34;id\&#34;: 30, \&#34;name\&#34;: \&#34;frisbee\&#34; },\n  { \&#34;id\&#34;: 31, \&#34;name\&#34;: \&#34;skis\&#34; },\n  { \&#34;id\&#34;: 32, \&#34;name\&#34;: \&#34;snowboard\&#34; },\n  { \&#34;id\&#34;: 33, \&#34;name\&#34;: \&#34;sports_ball\&#34; },\n  { \&#34;id\&#34;: 34, \&#34;name\&#34;: \&#34;kite\&#34; },\n  { \&#34;id\&#34;: 35, \&#34;name\&#34;: \&#34;baseball_bat\&#34; },\n  { \&#34;id\&#34;: 36, \&#34;name\&#34;: \&#34;baseball_glove\&#34; },\n  { \&#34;id\&#34;: 37, \&#34;name\&#34;: \&#34;skateboard\&#34; },\n  { \&#34;id\&#34;: 38, \&#34;name\&#34;: \&#34;surfboard\&#34; },\n  { \&#34;id\&#34;: 39, \&#34;name\&#34;: \&#34;tennis_racket\&#34; },\n  { \&#34;id\&#34;: 40, \&#34;name\&#34;: \&#34;bottle\&#34; },\n  { \&#34;id\&#34;: 41, \&#34;name\&#34;: \&#34;wine_glass\&#34; },\n  { \&#34;id\&#34;: 42, \&#34;name\&#34;: \&#34;cup\&#34; },\n  { \&#34;id\&#34;: 43, \&#34;name\&#34;: \&#34;fork\&#34; },\n  { \&#34;id\&#34;: 44, \&#34;name\&#34;: \&#34;knife\&#34; },\n  { \&#34;id\&#34;: 45, \&#34;name\&#34;: \&#34;spoon\&#34; },\n  { \&#34;id\&#34;: 46, \&#34;name\&#34;: \&#34;bowl\&#34; },\n  { \&#34;id\&#34;: 47, \&#34;name\&#34;: \&#34;banana\&#34; },\n  { \&#34;id\&#34;: 48, \&#34;name\&#34;: \&#34;apple\&#34; },\n  { \&#34;id\&#34;: 49, \&#34;name\&#34;: \&#34;sandwich\&#34; },\n  { \&#34;id\&#34;: 50, \&#34;name\&#34;: \&#34;orange\&#34; },\n  { \&#34;id\&#34;: 51, \&#34;name\&#34;: \&#34;broccoli\&#34; },\n  { \&#34;id\&#34;: 52, \&#34;name\&#34;: \&#34;carrot\&#34; },\n  { \&#34;id\&#34;: 53, \&#34;name\&#34;: \&#34;hot_dog\&#34; },\n  { \&#34;id\&#34;: 54, \&#34;name\&#34;: \&#34;pizza\&#34; },\n  { \&#34;id\&#34;: 55, \&#34;name\&#34;: \&#34;donut\&#34; },\n  { \&#34;id\&#34;: 56, \&#34;name\&#34;: \&#34;cake\&#34; },\n  { \&#34;id\&#34;: 57, \&#34;name\&#34;: \&#34;chair\&#34; },\n  { \&#34;id\&#34;: 58, \&#34;name\&#34;: \&#34;couch\&#34; },\n  { \&#34;id\&#34;: 59, \&#34;name\&#34;: \&#34;potted_plant\&#34; },\n  { \&#34;id\&#34;: 60, \&#34;name\&#34;: \&#34;bed\&#34; },\n  { \&#34;id\&#34;: 61, \&#34;name\&#34;: \&#34;dining_table\&#34; },\n  { \&#34;id\&#34;: 62, \&#34;name\&#34;: \&#34;toilet\&#34; },\n  { \&#34;id\&#34;: 63, \&#34;name\&#34;: \&#34;tv\&#34; },\n  { \&#34;id\&#34;: 64, \&#34;name\&#34;: \&#34;laptop\&#34; },\n  { \&#34;id\&#34;: 65, \&#34;name\&#34;: \&#34;mouse\&#34; },\n  { \&#34;id\&#34;: 66, \&#34;name\&#34;: \&#34;remote\&#34; },\n  { \&#34;id\&#34;: 67, \&#34;name\&#34;: \&#34;keyboard\&#34; },\n  { \&#34;id\&#34;: 68, \&#34;name\&#34;: \&#34;cell_phone\&#34; },\n  { \&#34;id\&#34;: 69, \&#34;name\&#34;: \&#34;microwave\&#34; },\n  { \&#34;id\&#34;: 70, \&#34;name\&#34;: \&#34;oven\&#34; },\n  { \&#34;id\&#34;: 71, \&#34;name\&#34;: \&#34;toaster\&#34; },\n  { \&#34;id\&#34;: 72, \&#34;name\&#34;: \&#34;sink\&#34; },\n  { \&#34;id\&#34;: 73, \&#34;name\&#34;: \&#34;refrigerator\&#34; },\n  { \&#34;id\&#34;: 74, \&#34;name\&#34;: \&#34;book\&#34; },\n  { \&#34;id\&#34;: 75, \&#34;name\&#34;: \&#34;clock\&#34; },\n  { \&#34;id\&#34;: 76, \&#34;name\&#34;: \&#34;vase\&#34; },\n  { \&#34;id\&#34;: 77, \&#34;name\&#34;: \&#34;scissors\&#34; },\n  { \&#34;id\&#34;: 78, \&#34;name\&#34;: \&#34;teddy_bear\&#34; },\n  { \&#34;id\&#34;: 79, \&#34;name\&#34;: \&#34;hair_drier\&#34; },\n  { \&#34;id\&#34;: 80, \&#34;name\&#34;: \&#34;toothbrush\&#34; }\n]\n&#34;,&#34;type&#34;:&#34;detector&#34;}},&#34;spec&#34;:{&#34;description&#34;:&#34;Mask RCNN optimized for GPU&#34;,&#34;handler&#34;:&#34;main:handler&#34;,&#34;runtime&#34;:&#34;python:3.6&#34;,&#34;env&#34;:[{&#34;name&#34;:&#34;MASK_RCNN_DIR&#34;,&#34;value&#34;:&#34;/opt/nuclio/Mask_RCNN&#34;}],&#34;resources&#34;:{&#34;limits&#34;:{&#34;nvidia.com/gpu&#34;:&#34;1&#34;}},&#34;image&#34;:&#34;cvat/tf.matterport.mask_rcnn:latest&#34;,&#34;targetCPU&#34;:75,&#34;triggers&#34;:{&#34;myHttpTrigger&#34;:{&#34;class&#34;:&#34;&#34;,&#34;kind&#34;:&#34;http&#34;,&#34;name&#34;:&#34;myHttpTrigger&#34;,&#34;maxWorkers&#34;:1,&#34;workerAvailabilityTimeoutMilliseconds&#34;:10000,&#34;attributes&#34;:{&#34;maxRequestBodySize&#34;:33554432}}},&#34;volumes&#34;:[{&#34;volume&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;hostPath&#34;:{&#34;path&#34;:&#34;/home/nmanovic/Workspace/cvat/serverless/common&#34;}},&#34;volumeMount&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;mountPath&#34;:&#34;/opt/nuclio/common&#34;}}],&#34;build&#34;:{&#34;functionConfigPath&#34;:&#34;serverless/tensorflow/matterport/mask_rcnn/nuclio/function-gpu.yaml&#34;,&#34;image&#34;:&#34;cvat/tf.matterport.mask_rcnn&#34;,&#34;baseImage&#34;:&#34;tensorflow/tensorflow:1.15.5-gpu-py3&#34;,&#34;directives&#34;:{&#34;postCopy&#34;:[{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;apt update \u0026\u0026 apt install --no-install-recommends -y git curl&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;git clone --depth 1 https://github.com/matterport/Mask_RCNN.git&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;curl -L https://github.com/matterport/Mask_RCNN/releases/download/v2.0/mask_rcnn_coco.h5 -o Mask_RCNN/mask_rcnn_coco.h5&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;pip3 install numpy cython pyyaml keras==2.1.0 scikit-image Pillow&#34;}]},&#34;codeEntryType&#34;:&#34;image&#34;},&#34;platform&#34;:{&#34;attributes&#34;:{&#34;mountMode&#34;:&#34;volume&#34;,&#34;restartPolicy&#34;:{&#34;maximumRetryCount&#34;:3,&#34;name&#34;:&#34;always&#34;}}},&#34;readinessTimeoutSeconds&#34;:60,&#34;securityContext&#34;:{},&#34;eventTimeout&#34;:&#34;30s&#34;}}}}
21.07.12 16:48:59.071            nuctl.platform (I) Waiting for function to be ready {&#34;timeout&#34;: 60}
21.07.12 16:49:00.437                     nuctl (I) Function deploy complete {&#34;functionName&#34;: &#34;tf-matterport-mask-rcnn&#34;, &#34;httpPort&#34;: 49155}
</code></pre></details>
<p>Now you should be able to annotate objects using segmentation masks.</p>
<p><img src="../../../images/mask_rcnn_results.jpg" alt="Mask RCNN results"></p>
<h2 id="adding-your-own-dl-models">Adding your own DL models</h2>
<h3 id="choose-a-dl-model">Choose a DL model</h3>
<p>For the tutorial I will choose a popular AI library with a lot of models inside.
In your case it can be your own model. If it is based on detectron2 it
will be easy to integrate. Just follow the tutorial.</p>
<p><a href="https://github.com/facebookresearch/detectron2">Detectron2</a> is Facebook AI Research&rsquo;s next generation
library that provides state-of-the-art detection and segmentation algorithms.
It is the successor of Detectron and maskrcnn-benchmark. It supports a number
of computer vision research projects and production applications in Facebook.</p>
<p>Clone the repository somewhere. I assume that all other experiments will be
run from the cloned <code>detectron2</code> directory.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://github.com/facebookresearch/detectron2
</span></span><span style="display:flex;"><span><span style="color:#204a87">cd</span> detectron2
</span></span></code></pre></div><h3 id="run-local-experiments">Run local experiments</h3>
<p>Let&rsquo;s run a detection model locally. First of all need to
<a href="https://detectron2.readthedocs.io/en/latest/tutorials/install.html">install requirements</a> for the library.</p>
<p>In my case I have Ubuntu 20.04 with python 3.8.5. I installed
<a href="https://pytorch.org/get-started/locally/">PyTorch 1.8.1</a> for Linux with pip, python, and CPU inside
a virtual environment. Follow <a href="https://github.com/opencv/opencv-python">opencv-python</a>
installation guide to get the library for demo and visualization.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m venv .detectron2
</span></span><span style="display:flex;"><span>. .detectron2/bin/activate
</span></span><span style="display:flex;"><span>pip install <span style="color:#000">torch</span><span style="color:#ce5c00;font-weight:bold">==</span>1.8.1+cpu <span style="color:#000">torchvision</span><span style="color:#ce5c00;font-weight:bold">==</span>0.9.1+cpu <span style="color:#000">torchaudio</span><span style="color:#ce5c00;font-weight:bold">==</span>0.8.1 -f https://download.pytorch.org/whl/torch_stable.html
</span></span><span style="display:flex;"><span>pip install opencv-python
</span></span></code></pre></div><p>Install the detectron2 library from your local clone (you should be inside
detectron2 directory).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python -m pip install -e .
</span></span></code></pre></div><p>After the library from Facebook AI Research is installed, we can run a couple
of experiments. See the <a href="https://detectron2.readthedocs.io/en/latest/tutorials/getting_started.html">official tutorial</a> for more
examples. I decided to experiment with <a href="https://github.com/facebookresearch/detectron2/blob/master/MODEL_ZOO.md#retinanet">RetinaNet</a>. First
step is to download model weights.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -O https://dl.fbaipublicfiles.com/detectron2/COCO-Detection/retinanet_R_101_FPN_3x/190397697/model_final_971ab9.pkl
</span></span></code></pre></div><p>To run experiments let&rsquo;s download an image with cats from wikipedia.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -O https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Cat_poster_1.jpg/1920px-Cat_poster_1.jpg
</span></span></code></pre></div><p>Finally let&rsquo;s run the DL model inference on CPU. If all is fine, you will see
a window with cats and bounding boxes around them with scores.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python demo/demo.py --config-file configs/COCO-Detection/retinanet_R_101_FPN_3x.yaml <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>  --input 1920px-Cat_poster_1.jpg --opts MODEL.WEIGHTS model_final_971ab9.pkl MODEL.DEVICE cpu
</span></span></code></pre></div><p><img src="../../../images/detectron2_detected_cats.jpg" alt="Cats detected by RetinaNet R101"></p>
<p>Next step is to minimize <code>demo/demo.py</code> script and keep code which is necessary to load,
run, and interpret output of the model only. Let&rsquo;s hard code parameters and remove
argparse. Keep only code which is responsible for working with an image. There is
no common advice how to minimize some code.</p>
<p>Finally you should get something like the code below which has fixed config, read a
predefined image, initialize predictor, and run inference. As the final step it prints
all detected bounding boxes with scores and labels.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">detectron2.config</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">get_cfg</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">detectron2.data.detection_utils</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">read_image</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">detectron2.engine.defaults</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">DefaultPredictor</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">detectron2.data.datasets.builtin_meta</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">COCO_CATEGORIES</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">CONFIG_FILE</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;configs/COCO-Detection/retinanet_R_101_FPN_3x.yaml&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">CONFIG_OPTS</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;MODEL.WEIGHTS&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;model_final_971ab9.pkl&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;MODEL.DEVICE&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;cpu&#34;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000">CONFIDENCE_THRESHOLD</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0.5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">setup_cfg</span><span style="color:#000;font-weight:bold">():</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">get_cfg</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">merge_from_file</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">CONFIG_FILE</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">merge_from_list</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">CONFIG_OPTS</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">MODEL</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">RETINANET</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">SCORE_THRESH_TEST</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">CONFIDENCE_THRESHOLD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">MODEL</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">ROI_HEADS</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">SCORE_THRESH_TEST</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">CONFIDENCE_THRESHOLD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">MODEL</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">PANOPTIC_FPN</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">COMBINE</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">INSTANCES_CONFIDENCE_THRESH</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">CONFIDENCE_THRESHOLD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">freeze</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">cfg</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">__name__</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#4e9a06">&#34;__main__&#34;</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">setup_cfg</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87">input</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;1920px-Cat_poster_1.jpg&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">img</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">read_image</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">input</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">format</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;BGR&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predictor</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DefaultPredictor</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predictions</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">predictor</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">img</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">instances</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">predictions</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;instances&#39;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">pred_boxes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">instances</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">pred_boxes</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">scores</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">instances</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">scores</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">pred_classes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">instances</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">pred_classes</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">box</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">score</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">label</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#204a87">zip</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">pred_boxes</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">scores</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">pred_classes</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">label</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">COCO_CATEGORIES</span><span style="color:#000;font-weight:bold">[</span><span style="color:#204a87">int</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">label</span><span style="color:#000;font-weight:bold">)][</span><span style="color:#4e9a06">&#34;name&#34;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">box</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">tolist</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#204a87">float</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">score</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#000">label</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h3 id="dl-model-as-a-serverless-function">DL model as a serverless function</h3>
<p>When we know how to run the DL model locally, we can prepare a serverless
function which can be used by CVAT to annotate data. Let&rsquo;s see how function.yaml
will look like&hellip;</p>
<p>Let&rsquo;s look at <a href="https://raw.githubusercontent.com/cvat-ai/cvat/38b774046d41d604ed85a521587e4bacce61b69c/serverless/tensorflow/faster_rcnn_inception_v2_coco/nuclio/function.yaml">faster_rcnn_inception_v2_coco</a> serverless
function configuration as an example and try adapting it to our case.
First of all let&rsquo;s invent an unique name for the new function:
<code>pth-facebookresearch-detectron2-retinanet-r101</code>. Section <code>annotations</code>
describes our function for CVAT serverless subsystem:</p>
<ul>
<li><code>annotations.name</code> is a display name</li>
<li><code>annotations.type</code> is a type of the serverless function. It can have
several different values. Basically it affects input and output of the function.
In our case it has <code>detector</code> type and it means that the integrated DL model can
generate shapes with labels for an image.</li>
<li><code>annotations.framework</code> is used for information only and can have arbitrary
value. Usually it has values like OpenVINO, PyTorch, TensorFlow, etc.</li>
<li><code>annotations.spec</code> describes the list of labels which the model supports. In
the case the DL model was trained on MS COCO dataset and the list of labels
correspond to the dataset.</li>
<li><code>spec.description</code> is used to provide basic information for the model.</li>
</ul>
<p>All other parameters are described in <a href="https://nuclio.io/docs/latest/reference/function-configuration/function-configuration-reference/">Nuclio documentation</a>.</p>
<ul>
<li><code>spec.handler</code> is the entry point to your function.</li>
<li><code>spec.runtime</code> is the name of the language runtime.</li>
<li><code>spec.eventTimeout</code> is the global event timeout</li>
</ul>
<p>Next step is to describe how to build our serverless function:</p>
<ul>
<li><code>spec.build.image</code> is the name of your docker image</li>
<li><code>spec.build.baseImage</code> is the name of a base container image from which to build the function</li>
<li><code>spec.build.directives</code> are commands to build your docker image</li>
</ul>
<p>In our case we start from Ubuntu 20.04 base image, install <code>curl</code> to download
weights for our model, <code>git</code> to clone detectron2 project from GitHub, and
<code>python</code> together with <code>pip</code>. Repeat installation steps which we used to setup
the DL model locally with minor modifications.</p>
<p>For Nuclio platform we have to specify a couple of more parameters:</p>
<ul>
<li><code>spec.triggers.myHttpTrigger</code> describes <a href="https://nuclio.io/docs/latest/reference/triggers/http/">HTTP trigger</a>
to handle incoming HTTP requests.</li>
<li><code>spec.platform</code> describes some important parameters to run your functions like
<code>restartPolicy</code> and <code>mountMode</code>. Read Nuclio documentation for more details.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">metadata</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">pth-facebookresearch-detectron2-retinanet-r101</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">namespace</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">cvat</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">annotations</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RetinaNet R101</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">type</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">detector</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">framework</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">pytorch</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">spec</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">|</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">      [
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">        { &#34;id&#34;: 1, &#34;name&#34;: &#34;person&#34; },
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">        { &#34;id&#34;: 2, &#34;name&#34;: &#34;bicycle&#34; },
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">        ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">        { &#34;id&#34;:89, &#34;name&#34;: &#34;hair_drier&#34; },
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">        { &#34;id&#34;:90, &#34;name&#34;: &#34;toothbrush&#34; }
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">      ]</span><span style="color:#f8f8f8;text-decoration:underline">      
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">spec</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">description</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RetinaNet R101 from Detectron2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">runtime</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#39;python:3.8&#39;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">handler</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">main:handler</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">eventTimeout</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">30s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">build</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">image</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">cvat/pth.facebookresearch.detectron2.retinanet_r101</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">baseImage</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">ubuntu:20.04</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">directives</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">preCopy</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">ENV</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">DEBIAN_FRONTEND=noninteractive</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RUN</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">apt-get update &amp;&amp; apt-get -y install curl git python3 python3-pip</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">WORKDIR</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">/opt/nuclio</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RUN</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">pip3 install torch==1.8.1+cpu torchvision==0.9.1+cpu torchaudio==0.8.1 -f https://download.pytorch.org/whl/torch_stable.html</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RUN</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">pip3 install &#39;git+https://github.com/facebookresearch/detectron2@v0.4&#39;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RUN</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">curl -O https://dl.fbaipublicfiles.com/detectron2/COCO-Detection/retinanet_R_101_FPN_3x/190397697/model_final_971ab9.pkl</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RUN</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">ln -s /usr/bin/pip3 /usr/local/bin/pip</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">triggers</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">myHttpTrigger</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">maxWorkers</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#39;http&#39;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">workerAvailabilityTimeoutMilliseconds</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">10000</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">attributes</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">maxRequestBodySize</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">33554432</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#8f5902;font-style:italic"># 32MB</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">platform</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">attributes</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">restartPolicy</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">always</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">maximumRetryCount</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">mountMode</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">volume</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Full code can be found here: <a href="https://github.com/cvat-ai/cvat/blob/b2f616859ca64687c385e636b4a25014fbb9d17c/serverless/pytorch/facebookresearch/detectron2/retinanet/nuclio/function.yaml">detectron2/retinanet/nuclio/function.yaml</a></p>
<p>Next step is to adapt our source code which we implemented to run the DL model
locally to requirements of Nuclio platform. First step is to load the model
into memory using <code>init_context(context)</code> function. Read more about the function
in <a href="https://nuclio.io/docs/latest/concepts/best-practices-and-common-pitfalls/">Best Practices and Common Pitfalls</a>.</p>
<p>After that we need to accept incoming HTTP requests, run inference,
reply with detection results. For the process our entry point is responsible
which we specified in our function specification <code>handler(context, event)</code>.
Again in accordance to function specification the entry point should be
located inside <code>main.py</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">init_context</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">logger</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Init context...  0%&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">get_config</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;COCO-Detection/retinanet_R_101_FPN_3x.yaml&#39;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">merge_from_list</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">CONFIG_OPTS</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">MODEL</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">RETINANET</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">SCORE_THRESH_TEST</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">CONFIDENCE_THRESHOLD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">MODEL</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">ROI_HEADS</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">SCORE_THRESH_TEST</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">CONFIDENCE_THRESHOLD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">MODEL</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">PANOPTIC_FPN</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">COMBINE</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">INSTANCES_CONFIDENCE_THRESH</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">CONFIDENCE_THRESHOLD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">freeze</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predictor</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DefaultPredictor</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">user_data</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">model_handler</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">predictor</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">logger</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Init context...100%&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">handler</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">event</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">logger</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Run retinanet-R101 model&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">data</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">event</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">body</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">buf</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">io</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">BytesIO</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">base64</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">b64decode</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">data</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;image&#34;</span><span style="color:#000;font-weight:bold">]))</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">threshold</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">float</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">data</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;threshold&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.5</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">image</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">convert_PIL_to_numpy</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Image</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">open</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">buf</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#204a87">format</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;BGR&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predictions</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">user_data</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">model_handler</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">image</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">instances</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">predictions</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;instances&#39;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">pred_boxes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">instances</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">pred_boxes</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">scores</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">instances</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">scores</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">pred_classes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">instances</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">pred_classes</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">results</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">box</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">score</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">label</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#204a87">zip</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">pred_boxes</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">scores</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">pred_classes</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">label</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">COCO_CATEGORIES</span><span style="color:#000;font-weight:bold">[</span><span style="color:#204a87">int</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">label</span><span style="color:#000;font-weight:bold">)][</span><span style="color:#4e9a06">&#34;name&#34;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">score</span> <span style="color:#ce5c00;font-weight:bold">&gt;=</span> <span style="color:#000">threshold</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">results</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">append</span><span style="color:#000;font-weight:bold">({</span>
</span></span><span style="display:flex;"><span>                <span style="color:#4e9a06">&#34;confidence&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87">str</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">float</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">score</span><span style="color:#000;font-weight:bold">)),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#4e9a06">&#34;label&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000">label</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#4e9a06">&#34;points&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000">box</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">tolist</span><span style="color:#000;font-weight:bold">(),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#4e9a06">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;rectangle&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">Response</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">body</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">json</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">dumps</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">results</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#000">headers</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000;font-weight:bold">{},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">content_type</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#39;application/json&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">status_code</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>Full code can be found here: <a href="https://github.com/cvat-ai/cvat/blob/b2f616859ca64687c385e636b4a25014fbb9d17c/serverless/pytorch/facebookresearch/detectron2/retinanet/nuclio/main.py">detectron2/retinanet/nuclio/main.py</a></p>
<h3 id="deploy-retinanet-serverless-function">Deploy RetinaNet serverless function</h3>
<p>To use the new serverless function you have to deploy it using <code>nuctl</code> command.
The actual deployment process is described in
<a href="../../../docs/administration/advanced/installation_automatic_annotation">automatic annotation guide</a>.</p>
<details>
<summary>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./serverless/deploy_cpu.sh ./serverless/pytorch/facebookresearch/detectron2/retinanet/
</span></span></code></pre></div></summary>
<pre tabindex="0"><code>21.07.21 15:20:31.011                     nuctl (I) Deploying function {&#34;name&#34;: &#34;&#34;}
21.07.21 15:20:31.011                     nuctl (I) Building {&#34;versionInfo&#34;: &#34;Label: 1.5.16, Git commit: ae43a6a560c2bec42d7ccfdf6e8e11a1e3cc3774, OS: linux, Arch: amd64, Go version: go1.14.3&#34;, &#34;name&#34;: &#34;&#34;}
21.07.21 15:20:31.407                     nuctl (I) Cleaning up before deployment {&#34;functionName&#34;: &#34;pth-facebookresearch-detectron2-retinanet-r101&#34;}
21.07.21 15:20:31.497                     nuctl (I) Function already exists, deleting function containers {&#34;functionName&#34;: &#34;pth-facebookresearch-detectron2-retinanet-r101&#34;}
21.07.21 15:20:31.914                     nuctl (I) Staging files and preparing base images
21.07.21 15:20:31.915                     nuctl (I) Building processor image {&#34;imageName&#34;: &#34;cvat/pth.facebookresearch.detectron2.retinanet_r101:latest&#34;}
21.07.21 15:20:31.916     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/handler-builder-python-onbuild:1.5.16-amd64&#34;}
21.07.21 15:20:34.495     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/uhttpc:0.0.1-amd64&#34;}
21.07.21 15:20:37.524            nuctl.platform (I) Building docker image {&#34;image&#34;: &#34;cvat/pth.facebookresearch.detectron2.retinanet_r101:latest&#34;}
21.07.21 15:20:37.852            nuctl.platform (I) Pushing docker image into registry {&#34;image&#34;: &#34;cvat/pth.facebookresearch.detectron2.retinanet_r101:latest&#34;, &#34;registry&#34;: &#34;&#34;}
21.07.21 15:20:37.853            nuctl.platform (I) Docker image was successfully built and pushed into docker registry {&#34;image&#34;: &#34;cvat/pth.facebookresearch.detectron2.retinanet_r101:latest&#34;}
21.07.21 15:20:37.853                     nuctl (I) Build complete {&#34;result&#34;: {&#34;Image&#34;:&#34;cvat/pth.facebookresearch.detectron2.retinanet_r101:latest&#34;,&#34;UpdatedFunctionConfig&#34;:{&#34;metadata&#34;:{&#34;name&#34;:&#34;pth-facebookresearch-detectron2-retinanet-r101&#34;,&#34;namespace&#34;:&#34;nuclio&#34;,&#34;labels&#34;:{&#34;nuclio.io/project-name&#34;:&#34;cvat&#34;},&#34;annotations&#34;:{&#34;framework&#34;:&#34;pytorch&#34;,&#34;name&#34;:&#34;RetinaNet R101&#34;,&#34;spec&#34;:&#34;[\n  { \&#34;id\&#34;: 1, \&#34;name\&#34;: \&#34;person\&#34; },\n  { \&#34;id\&#34;: 2, \&#34;name\&#34;: \&#34;bicycle\&#34; },\n  { \&#34;id\&#34;: 3, \&#34;name\&#34;: \&#34;car\&#34; },\n  { \&#34;id\&#34;: 4, \&#34;name\&#34;: \&#34;motorcycle\&#34; },\n  { \&#34;id\&#34;: 5, \&#34;name\&#34;: \&#34;airplane\&#34; },\n  { \&#34;id\&#34;: 6, \&#34;name\&#34;: \&#34;bus\&#34; },\n  { \&#34;id\&#34;: 7, \&#34;name\&#34;: \&#34;train\&#34; },\n  { \&#34;id\&#34;: 8, \&#34;name\&#34;: \&#34;truck\&#34; },\n  { \&#34;id\&#34;: 9, \&#34;name\&#34;: \&#34;boat\&#34; },\n  { \&#34;id\&#34;:10, \&#34;name\&#34;: \&#34;traffic_light\&#34; },\n  { \&#34;id\&#34;:11, \&#34;name\&#34;: \&#34;fire_hydrant\&#34; },\n  { \&#34;id\&#34;:13, \&#34;name\&#34;: \&#34;stop_sign\&#34; },\n  { \&#34;id\&#34;:14, \&#34;name\&#34;: \&#34;parking_meter\&#34; },\n  { \&#34;id\&#34;:15, \&#34;name\&#34;: \&#34;bench\&#34; },\n  { \&#34;id\&#34;:16, \&#34;name\&#34;: \&#34;bird\&#34; },\n  { \&#34;id\&#34;:17, \&#34;name\&#34;: \&#34;cat\&#34; },\n  { \&#34;id\&#34;:18, \&#34;name\&#34;: \&#34;dog\&#34; },\n  { \&#34;id\&#34;:19, \&#34;name\&#34;: \&#34;horse\&#34; },\n  { \&#34;id\&#34;:20, \&#34;name\&#34;: \&#34;sheep\&#34; },\n  { \&#34;id\&#34;:21, \&#34;name\&#34;: \&#34;cow\&#34; },\n  { \&#34;id\&#34;:22, \&#34;name\&#34;: \&#34;elephant\&#34; },\n  { \&#34;id\&#34;:23, \&#34;name\&#34;: \&#34;bear\&#34; },\n  { \&#34;id\&#34;:24, \&#34;name\&#34;: \&#34;zebra\&#34; },\n  { \&#34;id\&#34;:25, \&#34;name\&#34;: \&#34;giraffe\&#34; },\n  { \&#34;id\&#34;:27, \&#34;name\&#34;: \&#34;backpack\&#34; },\n  { \&#34;id\&#34;:28, \&#34;name\&#34;: \&#34;umbrella\&#34; },\n  { \&#34;id\&#34;:31, \&#34;name\&#34;: \&#34;handbag\&#34; },\n  { \&#34;id\&#34;:32, \&#34;name\&#34;: \&#34;tie\&#34; },\n  { \&#34;id\&#34;:33, \&#34;name\&#34;: \&#34;suitcase\&#34; },\n  { \&#34;id\&#34;:34, \&#34;name\&#34;: \&#34;frisbee\&#34; },\n  { \&#34;id\&#34;:35, \&#34;name\&#34;: \&#34;skis\&#34; },\n  { \&#34;id\&#34;:36, \&#34;name\&#34;: \&#34;snowboard\&#34; },\n  { \&#34;id\&#34;:37, \&#34;name\&#34;: \&#34;sports_ball\&#34; },\n  { \&#34;id\&#34;:38, \&#34;name\&#34;: \&#34;kite\&#34; },\n  { \&#34;id\&#34;:39, \&#34;name\&#34;: \&#34;baseball_bat\&#34; },\n  { \&#34;id\&#34;:40, \&#34;name\&#34;: \&#34;baseball_glove\&#34; },\n  { \&#34;id\&#34;:41, \&#34;name\&#34;: \&#34;skateboard\&#34; },\n  { \&#34;id\&#34;:42, \&#34;name\&#34;: \&#34;surfboard\&#34; },\n  { \&#34;id\&#34;:43, \&#34;name\&#34;: \&#34;tennis_racket\&#34; },\n  { \&#34;id\&#34;:44, \&#34;name\&#34;: \&#34;bottle\&#34; },\n  { \&#34;id\&#34;:46, \&#34;name\&#34;: \&#34;wine_glass\&#34; },\n  { \&#34;id\&#34;:47, \&#34;name\&#34;: \&#34;cup\&#34; },\n  { \&#34;id\&#34;:48, \&#34;name\&#34;: \&#34;fork\&#34; },\n  { \&#34;id\&#34;:49, \&#34;name\&#34;: \&#34;knife\&#34; },\n  { \&#34;id\&#34;:50, \&#34;name\&#34;: \&#34;spoon\&#34; },\n  { \&#34;id\&#34;:51, \&#34;name\&#34;: \&#34;bowl\&#34; },\n  { \&#34;id\&#34;:52, \&#34;name\&#34;: \&#34;banana\&#34; },\n  { \&#34;id\&#34;:53, \&#34;name\&#34;: \&#34;apple\&#34; },\n  { \&#34;id\&#34;:54, \&#34;name\&#34;: \&#34;sandwich\&#34; },\n  { \&#34;id\&#34;:55, \&#34;name\&#34;: \&#34;orange\&#34; },\n  { \&#34;id\&#34;:56, \&#34;name\&#34;: \&#34;broccoli\&#34; },\n  { \&#34;id\&#34;:57, \&#34;name\&#34;: \&#34;carrot\&#34; },\n  { \&#34;id\&#34;:58, \&#34;name\&#34;: \&#34;hot_dog\&#34; },\n  { \&#34;id\&#34;:59, \&#34;name\&#34;: \&#34;pizza\&#34; },\n  { \&#34;id\&#34;:60, \&#34;name\&#34;: \&#34;donut\&#34; },\n  { \&#34;id\&#34;:61, \&#34;name\&#34;: \&#34;cake\&#34; },\n  { \&#34;id\&#34;:62, \&#34;name\&#34;: \&#34;chair\&#34; },\n  { \&#34;id\&#34;:63, \&#34;name\&#34;: \&#34;couch\&#34; },\n  { \&#34;id\&#34;:64, \&#34;name\&#34;: \&#34;potted_plant\&#34; },\n  { \&#34;id\&#34;:65, \&#34;name\&#34;: \&#34;bed\&#34; },\n  { \&#34;id\&#34;:67, \&#34;name\&#34;: \&#34;dining_table\&#34; },\n  { \&#34;id\&#34;:70, \&#34;name\&#34;: \&#34;toilet\&#34; },\n  { \&#34;id\&#34;:72, \&#34;name\&#34;: \&#34;tv\&#34; },\n  { \&#34;id\&#34;:73, \&#34;name\&#34;: \&#34;laptop\&#34; },\n  { \&#34;id\&#34;:74, \&#34;name\&#34;: \&#34;mouse\&#34; },\n  { \&#34;id\&#34;:75, \&#34;name\&#34;: \&#34;remote\&#34; },\n  { \&#34;id\&#34;:76, \&#34;name\&#34;: \&#34;keyboard\&#34; },\n  { \&#34;id\&#34;:77, \&#34;name\&#34;: \&#34;cell_phone\&#34; },\n  { \&#34;id\&#34;:78, \&#34;name\&#34;: \&#34;microwave\&#34; },\n  { \&#34;id\&#34;:79, \&#34;name\&#34;: \&#34;oven\&#34; },\n  { \&#34;id\&#34;:80, \&#34;name\&#34;: \&#34;toaster\&#34; },\n  { \&#34;id\&#34;:81, \&#34;name\&#34;: \&#34;sink\&#34; },\n  { \&#34;id\&#34;:83, \&#34;name\&#34;: \&#34;refrigerator\&#34; },\n  { \&#34;id\&#34;:84, \&#34;name\&#34;: \&#34;book\&#34; },\n  { \&#34;id\&#34;:85, \&#34;name\&#34;: \&#34;clock\&#34; },\n  { \&#34;id\&#34;:86, \&#34;name\&#34;: \&#34;vase\&#34; },\n  { \&#34;id\&#34;:87, \&#34;name\&#34;: \&#34;scissors\&#34; },\n  { \&#34;id\&#34;:88, \&#34;name\&#34;: \&#34;teddy_bear\&#34; },\n  { \&#34;id\&#34;:89, \&#34;name\&#34;: \&#34;hair_drier\&#34; },\n  { \&#34;id\&#34;:90, \&#34;name\&#34;: \&#34;toothbrush\&#34; }\n]\n&#34;,&#34;type&#34;:&#34;detector&#34;}},&#34;spec&#34;:{&#34;description&#34;:&#34;RetinaNet R101 from Detectron2&#34;,&#34;handler&#34;:&#34;main:handler&#34;,&#34;runtime&#34;:&#34;python:3.8&#34;,&#34;resources&#34;:{},&#34;image&#34;:&#34;cvat/pth.facebookresearch.detectron2.retinanet_r101:latest&#34;,&#34;targetCPU&#34;:75,&#34;triggers&#34;:{&#34;myHttpTrigger&#34;:{&#34;class&#34;:&#34;&#34;,&#34;kind&#34;:&#34;http&#34;,&#34;name&#34;:&#34;myHttpTrigger&#34;,&#34;maxWorkers&#34;:2,&#34;workerAvailabilityTimeoutMilliseconds&#34;:10000,&#34;attributes&#34;:{&#34;maxRequestBodySize&#34;:33554432}}},&#34;volumes&#34;:[{&#34;volume&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;hostPath&#34;:{&#34;path&#34;:&#34;/home/nmanovic/Workspace/cvat/serverless/common&#34;}},&#34;volumeMount&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;mountPath&#34;:&#34;/opt/nuclio/common&#34;}}],&#34;build&#34;:{&#34;image&#34;:&#34;cvat/pth.facebookresearch.detectron2.retinanet_r101&#34;,&#34;baseImage&#34;:&#34;ubuntu:20.04&#34;,&#34;directives&#34;:{&#34;preCopy&#34;:[{&#34;kind&#34;:&#34;ENV&#34;,&#34;value&#34;:&#34;DEBIAN_FRONTEND=noninteractive&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;apt-get update \u0026\u0026 apt-get -y install curl git python3 python3-pip&#34;},{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;pip3 install torch==1.8.1+cpu torchvision==0.9.1+cpu torchaudio==0.8.1 -f https://download.pytorch.org/whl/torch_stable.html&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;pip3 install &#39;git+https://github.com/facebookresearch/detectron2@v0.4&#39;&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;curl -O https://dl.fbaipublicfiles.com/detectron2/COCO-Detection/retinanet_R_101_FPN_3x/190397697/model_final_971ab9.pkl&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;ln -s /usr/bin/pip3 /usr/local/bin/pip&#34;}]},&#34;codeEntryType&#34;:&#34;image&#34;},&#34;platform&#34;:{&#34;attributes&#34;:{&#34;mountMode&#34;:&#34;volume&#34;,&#34;restartPolicy&#34;:{&#34;maximumRetryCount&#34;:3,&#34;name&#34;:&#34;always&#34;}}},&#34;readinessTimeoutSeconds&#34;:60,&#34;securityContext&#34;:{},&#34;eventTimeout&#34;:&#34;30s&#34;}}}}
21.07.21 15:20:39.042            nuctl.platform (I) Waiting for function to be ready {&#34;timeout&#34;: 60}
21.07.21 15:20:40.480                     nuctl (I) Function deploy complete {&#34;functionName&#34;: &#34;pth-facebookresearch-detectron2-retinanet-r101&#34;, &#34;httpPort&#34;: 49153}
</code></pre></details>
<h2 id="advanced-capabilities">Advanced capabilities</h2>
<h3 id="optimize-using-gpu">Optimize using GPU</h3>
<p>To optimize a function for a specific device (e.g. GPU), basically you just need
to modify instructions above to run the function on the target device. In most
cases it will be necessary to modify installation instructions only.</p>
<p>For <code>RetinaNet R101</code> which was added above modifications will look like:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-diff" data-lang="diff"><span style="display:flex;"><span><span style="color:#a40000">--- function.yaml	2021-06-25 21:06:51.603281723 +0300
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#00a000">+++ function-gpu.yaml	2021-07-07 22:38:53.454202637 +0300
</span></span></span><span style="display:flex;"><span><span style="color:#00a000"></span><span style="color:#800080;font-weight:bold">@@ -90,7 +90,7 @@
</span></span></span><span style="display:flex;"><span><span style="color:#800080;font-weight:bold"></span>       ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> spec:
</span></span><span style="display:flex;"><span><span style="color:#a40000">-  description: RetinaNet R101 from Detectron2
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#00a000">+  description: RetinaNet R101 from Detectron2 optimized for GPU
</span></span></span><span style="display:flex;"><span><span style="color:#00a000"></span>   runtime: &#39;python:3.8&#39;
</span></span><span style="display:flex;"><span>   handler: main:handler
</span></span><span style="display:flex;"><span>   eventTimeout: 30s
</span></span><span style="display:flex;"><span><span style="color:#800080;font-weight:bold">@@ -108,7 +108,7 @@
</span></span></span><span style="display:flex;"><span><span style="color:#800080;font-weight:bold"></span>         - kind: WORKDIR
</span></span><span style="display:flex;"><span>           value: /opt/nuclio
</span></span><span style="display:flex;"><span>         - kind: RUN
</span></span><span style="display:flex;"><span><span style="color:#a40000">-          value: pip3 install torch==1.8.1+cpu torchvision==0.9.1+cpu torchaudio==0.8.1 -f https://download.pytorch.org/whl/torch_stable.html
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#00a000">+          value: pip3 install torch==1.8.1+cu111 torchvision==0.9.1+cu111 torchaudio==0.8.1 -f https://download.pytorch.org/whl/torch_stable.html
</span></span></span><span style="display:flex;"><span><span style="color:#00a000"></span>         - kind: RUN
</span></span><span style="display:flex;"><span>           value: git clone https://github.com/facebookresearch/detectron2
</span></span><span style="display:flex;"><span>         - kind: RUN
</span></span><span style="display:flex;"><span><span style="color:#800080;font-weight:bold">@@ -120,12 +120,16 @@
</span></span></span><span style="display:flex;"><span><span style="color:#800080;font-weight:bold"></span>
</span></span><span style="display:flex;"><span>   triggers:
</span></span><span style="display:flex;"><span>     myHttpTrigger:
</span></span><span style="display:flex;"><span><span style="color:#a40000">-      maxWorkers: 2
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#00a000">+      maxWorkers: 1
</span></span></span><span style="display:flex;"><span><span style="color:#00a000"></span>       kind: &#39;http&#39;
</span></span><span style="display:flex;"><span>       workerAvailabilityTimeoutMilliseconds: 10000
</span></span><span style="display:flex;"><span>       attributes:
</span></span><span style="display:flex;"><span>         maxRequestBodySize: 33554432 # 32MB
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a000">+  resources:
</span></span></span><span style="display:flex;"><span><span style="color:#00a000">+    limits:
</span></span></span><span style="display:flex;"><span><span style="color:#00a000">+      nvidia.com/gpu: 1
</span></span></span><span style="display:flex;"><span><span style="color:#00a000">+
</span></span></span><span style="display:flex;"><span><span style="color:#00a000"></span>   platform:
</span></span><span style="display:flex;"><span>     attributes:
</span></span><span style="display:flex;"><span>       restartPolicy:
</span></span></code></pre></div><p><em>Note: GPU has very limited amount of memory and it doesn&rsquo;t allow to run
multiple serverless functions in parallel for now using free open-source
Nuclio version on the local platform because scaling to zero feature is
absent. Theoretically it is possible to run different functions on different
GPUs, but it requires to change source code on corresponding serverless
functions to choose a free GPU.</em></p>
<h3 id="debugging-a-serverless-function">Debugging a serverless function</h3>
<p>Let&rsquo;s say you have a problem with your serverless function and want to debug it.
Of course you can use <code>context.logger.info</code> or similar methods to print the
intermediate state of your function.
Another way is to debug using <a href="https://code.visualstudio.com/">Visual Studio Code</a>.
Please see instructions below to setup your environment step by step.</p>
<p>Let&rsquo;s modify our function.yaml to include <a href="https://github.com/microsoft/debugpy">debugpy</a>
package and specify that <code>maxWorkers</code> count is 1. Otherwise both workers will
try to use the same port and it will lead to an exception in python code.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RUN</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">pip3 install debugpy</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">triggers</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">myHttpTrigger</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">maxWorkers</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Change <code>main.py</code> to listen to a port (e.g. 5678). Insert code below
in the beginning of your file with entry point.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">debugpy</span>
</span></span><span style="display:flex;"><span><span style="color:#000">debugpy</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">listen</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">5678</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>After these changes deploy the serverless function once again. For
<code>serverless/pytorch/facebookresearch/detectron2/retinanet/nuclio/</code> you should
run the command below:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>serverless/deploy_cpu.sh serverless/pytorch/facebookresearch/detectron2/retinanet
</span></span></code></pre></div><p>To debug python code inside a container you have to publish the port (in this
tutorial it is 5678). Nuclio deploy command doesn&rsquo;t support that and we have to
workaround it using <a href="https://www.ssh.com/academy/ssh/tunneling">SSH port forwarding</a>.</p>
<ul>
<li>Install SSH server on your host machine using <code>sudo apt install openssh-server</code></li>
<li>In <code>/etc/ssh/sshd_config</code> host file set <code>GatewayPorts yes</code></li>
<li>Restart ssh service to apply changes using <code>sudo systemctl restart ssh.service</code></li>
</ul>
<p>Next step is to install ssh client inside the container and run port forwarding.
In the snippet below instead of <code>user</code> and <code>ipaddress</code> provide username and
IP address of your host (usually IP address starts from <code>192.168.</code>). You will
need to confirm that you want to connect to your host computer and enter your
password. Keep the terminal open after that.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker <span style="color:#204a87">exec</span> -it nuclio-nuclio-pth-facebookresearch-detectron2-retinanet-r101 /bin/bash
</span></span><span style="display:flex;"><span>apt update <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span> apt install -y ssh
</span></span><span style="display:flex;"><span>ssh -R 5678:localhost:5678 user@ipaddress
</span></span></code></pre></div><p>See how the latest command looks like in my case:</p>
<pre tabindex="0"><code>root@2d6cceec8f70:/opt/nuclio# ssh -R 5678:localhost:5678 nmanovic@192.168.50.188
The authenticity of host &#39;192.168.50.188 (192.168.50.188)&#39; can&#39;t be established.
ECDSA key fingerprint is SHA256:0sD6IWi+FKAhtUXr2TroHqyjcnYRIGLLx/wkGaZeRuo.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added &#39;192.168.50.188&#39; (ECDSA) to the list of known hosts.
nmanovic@192.168.50.188&#39;s password:
Welcome to Ubuntu 20.04.2 LTS (GNU/Linux 5.8.0-53-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

223 updates can be applied immediately.
132 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Your Hardware Enablement Stack (HWE) is supported until April 2025.
Last login: Fri Jun 25 16:39:04 2021 from 172.17.0.5
[setupvars.sh] OpenVINO environment initialized
nmanovic@nmanovic-dl-node:~$
</code></pre><p>Finally, add the configuration below into your launch.json. Open Visual Studio Code and
run <code>Serverless Debug</code> configuration, set a breakpoint in <code>main.py</code> and try to call the
serverless function from CVAT UI. The breakpoint should be triggered in Visual Studio
Code and it should be possible to inspect variables and debug code.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Serverless Debug&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;python&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;request&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;attach&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;connect&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;host&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;localhost&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">5678</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;pathMappings&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;localRoot&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;${workspaceFolder}/serverless/pytorch/facebookresearch/detectron2/retinanet/nuclio&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;remoteRoot&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;/opt/nuclio&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p><img src="../../../images/vscode_debug_retinanet.png" alt="VS Code debug RetinaNet"></p>
<p><em>Note: In case of changes in the source code, need to re-deploy the function and initiate
port forwarding again.</em></p>
<h3 id="troubleshooting">Troubleshooting</h3>
<p>First of all need to check that you are using the recommended version of
Nuclio framework. In my case it is <code>1.5.16</code> but you need to check <a href="../../../docs/administration/advanced/installation_automatic_annotation">the
installation manual</a>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nuctl version
</span></span></code></pre></div><pre tabindex="0"><code>Client version:
&#34;Label: 1.5.16, Git commit: ae43a6a560c2bec42d7ccfdf6e8e11a1e3cc3774, OS: linux, Arch: amd64, Go version: go1.14.3&#34;
</code></pre><p>Check that Nuclio dashboard is running and its version corresponds to <code>nuctl</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker ps --filter <span style="color:#000">NAME</span><span style="color:#ce5c00;font-weight:bold">=</span>^nuclio$
</span></span></code></pre></div><pre tabindex="0"><code>CONTAINER ID   IMAGE                                   COMMAND                  CREATED       STATUS                    PORTS                                               NAMES
7ab0c076c927   quay.io/nuclio/dashboard:1.5.16-amd64   &#34;/docker-entrypoint.…&#34;   6 weeks ago   Up 46 minutes (healthy)   80/tcp, 0.0.0.0:8070-&gt;8070/tcp, :::8070-&gt;8070/tcp   nuclio
</code></pre><p>Be sure that the model, which doesn&rsquo;t work, is healthy. In my case Inside Outside
Guidance is not running.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker ps --filter <span style="color:#000">NAME</span><span style="color:#ce5c00;font-weight:bold">=</span>iog
</span></span></code></pre></div><pre tabindex="0"><code>CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
</code></pre><p>Let&rsquo;s run it. Go to the root of CVAT repository and run the deploying command.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>serverless/deploy_cpu.sh serverless/pytorch/shiyinzhang/iog
</span></span></code></pre></div><details>
<pre tabindex="0"><code>Deploying serverless/pytorch/shiyinzhang/iog function...
21.07.06 12:49:08.763                     nuctl (I) Deploying function {&#34;name&#34;: &#34;&#34;}
21.07.06 12:49:08.763                     nuctl (I) Building {&#34;versionInfo&#34;: &#34;Label: 1.5.16, Git commit: ae43a6a560c2bec42d7ccfdf6e8e11a1e3cc3774, OS: linux, Arch: amd64, Go version: go1.14.3&#34;, &#34;name&#34;: &#34;&#34;}
21.07.06 12:49:09.085                     nuctl (I) Cleaning up before deployment {&#34;functionName&#34;: &#34;pth-shiyinzhang-iog&#34;}
21.07.06 12:49:09.162                     nuctl (I) Function already exists, deleting function containers {&#34;functionName&#34;: &#34;pth-shiyinzhang-iog&#34;}
21.07.06 12:49:09.230                     nuctl (I) Staging files and preparing base images
21.07.06 12:49:09.232                     nuctl (I) Building processor image {&#34;imageName&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;}
21.07.06 12:49:09.232     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/handler-builder-python-onbuild:1.5.16-amd64&#34;}
21.07.06 12:49:12.525     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/uhttpc:0.0.1-amd64&#34;}
21.07.06 12:49:16.222            nuctl.platform (I) Building docker image {&#34;image&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;}
21.07.06 12:49:16.555            nuctl.platform (I) Pushing docker image into registry {&#34;image&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;, &#34;registry&#34;: &#34;&#34;}
21.07.06 12:49:16.555            nuctl.platform (I) Docker image was successfully built and pushed into docker registry {&#34;image&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;}
21.07.06 12:49:16.555                     nuctl (I) Build complete {&#34;result&#34;: {&#34;Image&#34;:&#34;cvat/pth.shiyinzhang.iog:latest&#34;,&#34;UpdatedFunctionConfig&#34;:{&#34;metadata&#34;:{&#34;name&#34;:&#34;pth-shiyinzhang-iog&#34;,&#34;namespace&#34;:&#34;nuclio&#34;,&#34;labels&#34;:{&#34;nuclio.io/project-name&#34;:&#34;cvat&#34;},&#34;annotations&#34;:{&#34;framework&#34;:&#34;pytorch&#34;,&#34;min_pos_points&#34;:&#34;1&#34;,&#34;name&#34;:&#34;IOG&#34;,&#34;spec&#34;:&#34;&#34;,&#34;startswith_box&#34;:&#34;true&#34;,&#34;type&#34;:&#34;interactor&#34;}},&#34;spec&#34;:{&#34;description&#34;:&#34;Interactive Object Segmentation with Inside-Outside Guidance&#34;,&#34;handler&#34;:&#34;main:handler&#34;,&#34;runtime&#34;:&#34;python:3.6&#34;,&#34;env&#34;:[{&#34;name&#34;:&#34;PYTHONPATH&#34;,&#34;value&#34;:&#34;/opt/nuclio/iog&#34;}],&#34;resources&#34;:{},&#34;image&#34;:&#34;cvat/pth.shiyinzhang.iog:latest&#34;,&#34;targetCPU&#34;:75,&#34;triggers&#34;:{&#34;myHttpTrigger&#34;:{&#34;class&#34;:&#34;&#34;,&#34;kind&#34;:&#34;http&#34;,&#34;name&#34;:&#34;myHttpTrigger&#34;,&#34;maxWorkers&#34;:2,&#34;workerAvailabilityTimeoutMilliseconds&#34;:10000,&#34;attributes&#34;:{&#34;maxRequestBodySize&#34;:33554432}}},&#34;volumes&#34;:[{&#34;volume&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;hostPath&#34;:{&#34;path&#34;:&#34;/home/nmanovic/Workspace/cvat/serverless/common&#34;}},&#34;volumeMount&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;mountPath&#34;:&#34;/opt/nuclio/common&#34;}}],&#34;build&#34;:{&#34;image&#34;:&#34;cvat/pth.shiyinzhang.iog&#34;,&#34;baseImage&#34;:&#34;continuumio/miniconda3&#34;,&#34;directives&#34;:{&#34;preCopy&#34;:[{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda create -y -n iog python=3.6&#34;},{&#34;kind&#34;:&#34;SHELL&#34;,&#34;value&#34;:&#34;[\&#34;conda\&#34;, \&#34;run\&#34;, \&#34;-n\&#34;, \&#34;iog\&#34;, \&#34;/bin/bash\&#34;, \&#34;-c\&#34;]&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda install -y -c anaconda curl&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda install -y pytorch=0.4 torchvision=0.2 -c pytorch&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda install -y -c conda-forge pycocotools opencv scipy&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;git clone https://github.com/shiyinzhang/Inside-Outside-Guidance.git iog&#34;},{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio/iog&#34;},{&#34;kind&#34;:&#34;ENV&#34;,&#34;value&#34;:&#34;fileid=1Lm1hhMhhjjnNwO4Pf7SC6tXLayH2iH0l&#34;},{&#34;kind&#34;:&#34;ENV&#34;,&#34;value&#34;:&#34;filename=IOG_PASCAL_SBD.pth&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;curl -c ./cookie -s -L \&#34;https://drive.google.com/uc?export=download\u0026id=${fileid}\&#34;&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;echo \&#34;/download/ {print \\$NF}\&#34; \u003e confirm_code.awk&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;curl -Lb ./cookie \&#34;https://drive.google.com/uc?export=download\u0026confirm=`awk -f confirm_code.awk ./cookie`\u0026id=${fileid}\&#34; -o ${filename}&#34;},{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;ENTRYPOINT&#34;,&#34;value&#34;:&#34;[\&#34;conda\&#34;, \&#34;run\&#34;, \&#34;-n\&#34;, \&#34;iog\&#34;]&#34;}]},&#34;codeEntryType&#34;:&#34;image&#34;},&#34;platform&#34;:{&#34;attributes&#34;:{&#34;mountMode&#34;:&#34;volume&#34;,&#34;restartPolicy&#34;:{&#34;maximumRetryCount&#34;:3,&#34;name&#34;:&#34;always&#34;}}},&#34;readinessTimeoutSeconds&#34;:60,&#34;securityContext&#34;:{},&#34;eventTimeout&#34;:&#34;30s&#34;}}}}
21.07.06 12:49:17.422     nuctl.platform.docker (W) Failed to run container {&#34;err&#34;: &#34;stdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n&#34;, &#34;errVerbose&#34;: &#34;\nError - exit status 125\n    /nuclio/pkg/cmdrunner/shellrunner.go:96\n\nCall stack:\nstdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n\n    /nuclio/pkg/cmdrunner/shellrunner.go:96\nstdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n&#34;, &#34;errCauses&#34;: [{&#34;error&#34;: &#34;exit status 125&#34;}], &#34;stdout&#34;: &#34;1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n&#34;, &#34;stderr&#34;: &#34;&#34;}
21.07.06 12:49:17.422                     nuctl (W) Failed to create a function; setting the function status {&#34;err&#34;: &#34;Failed to run a Docker container&#34;, &#34;errVerbose&#34;: &#34;\nError - exit status 125\n    /nuclio/pkg/cmdrunner/shellrunner.go:96\n\nCall stack:\nstdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n\n    /nuclio/pkg/cmdrunner/shellrunner.go:96\nFailed to run a Docker container\n    /nuclio/pkg/platform/local/platform.go:653\nFailed to run a Docker container&#34;, &#34;errCauses&#34;: [{&#34;error&#34;: &#34;stdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n&#34;, &#34;errorVerbose&#34;: &#34;\nError - exit status 125\n    /nuclio/pkg/cmdrunner/shellrunner.go:96\n\nCall stack:\nstdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n\n    /nuclio/pkg/cmdrunner/shellrunner.go:96\nstdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n&#34;, &#34;errorCauses&#34;: [{&#34;error&#34;: &#34;exit status 125&#34;}]}]}

Error - exit status 125
    /nuclio/pkg/cmdrunner/shellrunner.go:96

Call stack:
stdout:
1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb
docker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.

stderr:

    /nuclio/pkg/cmdrunner/shellrunner.go:96
Failed to run a Docker container
    /nuclio/pkg/platform/local/platform.go:653
Failed to deploy function
    ...//nuclio/pkg/platform/abstract/platform.go:182
  NAMESPACE |                      NAME                      | PROJECT | STATE | NODE PORT | REPLICAS
  nuclio    | openvino-dextr                                 | cvat    | ready |     49154 | 1/1
  nuclio    | pth-foolwood-siammask                          | cvat    | ready |     49155 | 1/1
  nuclio    | pth-facebookresearch-detectron2-retinanet-r101 | cvat    | ready |     49155 | 1/1
  nuclio    | pth-shiyinzhang-iog                            | cvat    | error |         0 | 1/1
</code></pre></details>
<p>In this case the container was built some time ago and the port 49154 was
assigned by Nuclio. Now the port is used by <code>openvino-dextr</code> as we can
see in logs. To prove our hypothesis just need to run a couple of docker
commands:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker container ls -a <span style="color:#000;font-weight:bold">|</span> grep iog
</span></span></code></pre></div><pre tabindex="0"><code>eb0c1ee46630   cvat/pth.shiyinzhang.iog:latest                              &#34;conda run -n iog pr…&#34;   9 minutes ago       Created                                                                          nuclio-nuclio-pth-shiyinzhang-iog
</code></pre><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker inspect eb0c1ee46630 <span style="color:#000;font-weight:bold">|</span> grep <span style="color:#0000cf;font-weight:bold">49154</span>
</span></span></code></pre></div><pre tabindex="0"><code>            &#34;Error&#34;: &#34;driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (02384290f91b2216162b1603322dadee426afe7f439d3d090f598af5d4863b2d): Bind for 0.0.0.0:49154 failed: port is already allocated&#34;,
                        &#34;HostPort&#34;: &#34;49154&#34;
</code></pre><p>To solve the problem let&rsquo;s just remove the previous container for the function.
In this case it is <code>eb0c1ee46630</code>. After that the deploying command works as
expected.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker container rm eb0c1ee46630
</span></span></code></pre></div><pre tabindex="0"><code>eb0c1ee46630
</code></pre><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>serverless/deploy_cpu.sh serverless/pytorch/shiyinzhang/iog
</span></span></code></pre></div><details>
<pre tabindex="0"><code>Deploying serverless/pytorch/shiyinzhang/iog function...
21.07.06 13:09:52.934                     nuctl (I) Deploying function {&#34;name&#34;: &#34;&#34;}
21.07.06 13:09:52.934                     nuctl (I) Building {&#34;versionInfo&#34;: &#34;Label: 1.5.16, Git commit: ae43a6a560c2bec42d7ccfdf6e8e11a1e3cc3774, OS: linux, Arch: amd64, Go version: go1.14.3&#34;, &#34;name&#34;: &#34;&#34;}
21.07.06 13:09:53.282                     nuctl (I) Cleaning up before deployment {&#34;functionName&#34;: &#34;pth-shiyinzhang-iog&#34;}
21.07.06 13:09:53.341                     nuctl (I) Staging files and preparing base images
21.07.06 13:09:53.342                     nuctl (I) Building processor image {&#34;imageName&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;}
21.07.06 13:09:53.342     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/handler-builder-python-onbuild:1.5.16-amd64&#34;}
21.07.06 13:09:56.633     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/uhttpc:0.0.1-amd64&#34;}
21.07.06 13:10:00.163            nuctl.platform (I) Building docker image {&#34;image&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;}
21.07.06 13:10:00.452            nuctl.platform (I) Pushing docker image into registry {&#34;image&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;, &#34;registry&#34;: &#34;&#34;}
21.07.06 13:10:00.452            nuctl.platform (I) Docker image was successfully built and pushed into docker registry {&#34;image&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;}
21.07.06 13:10:00.452                     nuctl (I) Build complete {&#34;result&#34;: {&#34;Image&#34;:&#34;cvat/pth.shiyinzhang.iog:latest&#34;,&#34;UpdatedFunctionConfig&#34;:{&#34;metadata&#34;:{&#34;name&#34;:&#34;pth-shiyinzhang-iog&#34;,&#34;namespace&#34;:&#34;nuclio&#34;,&#34;labels&#34;:{&#34;nuclio.io/project-name&#34;:&#34;cvat&#34;},&#34;annotations&#34;:{&#34;framework&#34;:&#34;pytorch&#34;,&#34;min_pos_points&#34;:&#34;1&#34;,&#34;name&#34;:&#34;IOG&#34;,&#34;spec&#34;:&#34;&#34;,&#34;startswith_box&#34;:&#34;true&#34;,&#34;type&#34;:&#34;interactor&#34;}},&#34;spec&#34;:{&#34;description&#34;:&#34;Interactive Object Segmentation with Inside-Outside Guidance&#34;,&#34;handler&#34;:&#34;main:handler&#34;,&#34;runtime&#34;:&#34;python:3.6&#34;,&#34;env&#34;:[{&#34;name&#34;:&#34;PYTHONPATH&#34;,&#34;value&#34;:&#34;/opt/nuclio/iog&#34;}],&#34;resources&#34;:{},&#34;image&#34;:&#34;cvat/pth.shiyinzhang.iog:latest&#34;,&#34;targetCPU&#34;:75,&#34;triggers&#34;:{&#34;myHttpTrigger&#34;:{&#34;class&#34;:&#34;&#34;,&#34;kind&#34;:&#34;http&#34;,&#34;name&#34;:&#34;myHttpTrigger&#34;,&#34;maxWorkers&#34;:2,&#34;workerAvailabilityTimeoutMilliseconds&#34;:10000,&#34;attributes&#34;:{&#34;maxRequestBodySize&#34;:33554432}}},&#34;volumes&#34;:[{&#34;volume&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;hostPath&#34;:{&#34;path&#34;:&#34;/home/nmanovic/Workspace/cvat/serverless/common&#34;}},&#34;volumeMount&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;mountPath&#34;:&#34;/opt/nuclio/common&#34;}}],&#34;build&#34;:{&#34;image&#34;:&#34;cvat/pth.shiyinzhang.iog&#34;,&#34;baseImage&#34;:&#34;continuumio/miniconda3&#34;,&#34;directives&#34;:{&#34;preCopy&#34;:[{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda create -y -n iog python=3.6&#34;},{&#34;kind&#34;:&#34;SHELL&#34;,&#34;value&#34;:&#34;[\&#34;conda\&#34;, \&#34;run\&#34;, \&#34;-n\&#34;, \&#34;iog\&#34;, \&#34;/bin/bash\&#34;, \&#34;-c\&#34;]&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda install -y -c anaconda curl&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda install -y pytorch=0.4 torchvision=0.2 -c pytorch&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda install -y -c conda-forge pycocotools opencv scipy&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;git clone https://github.com/shiyinzhang/Inside-Outside-Guidance.git iog&#34;},{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio/iog&#34;},{&#34;kind&#34;:&#34;ENV&#34;,&#34;value&#34;:&#34;fileid=1Lm1hhMhhjjnNwO4Pf7SC6tXLayH2iH0l&#34;},{&#34;kind&#34;:&#34;ENV&#34;,&#34;value&#34;:&#34;filename=IOG_PASCAL_SBD.pth&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;curl -c ./cookie -s -L \&#34;https://drive.google.com/uc?export=download\u0026id=${fileid}\&#34;&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;echo \&#34;/download/ {print \\$NF}\&#34; \u003e confirm_code.awk&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;curl -Lb ./cookie \&#34;https://drive.google.com/uc?export=download\u0026confirm=`awk -f confirm_code.awk ./cookie`\u0026id=${fileid}\&#34; -o ${filename}&#34;},{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;ENTRYPOINT&#34;,&#34;value&#34;:&#34;[\&#34;conda\&#34;, \&#34;run\&#34;, \&#34;-n\&#34;, \&#34;iog\&#34;]&#34;}]},&#34;codeEntryType&#34;:&#34;image&#34;},&#34;platform&#34;:{&#34;attributes&#34;:{&#34;mountMode&#34;:&#34;volume&#34;,&#34;restartPolicy&#34;:{&#34;maximumRetryCount&#34;:3,&#34;name&#34;:&#34;always&#34;}}},&#34;readinessTimeoutSeconds&#34;:60,&#34;securityContext&#34;:{},&#34;eventTimeout&#34;:&#34;30s&#34;}}}}
21.07.06 13:10:01.604            nuctl.platform (I) Waiting for function to be ready {&#34;timeout&#34;: 60}
21.07.06 13:10:02.976                     nuctl (I) Function deploy complete {&#34;functionName&#34;: &#34;pth-shiyinzhang-iog&#34;, &#34;httpPort&#34;: 49159}
  NAMESPACE |                      NAME                      | PROJECT | STATE | NODE PORT | REPLICAS
  nuclio    | openvino-dextr                                 | cvat    | ready |     49154 | 1/1
  nuclio    | pth-foolwood-siammask                          | cvat    | ready |     49155 | 1/1
  nuclio    | pth-saic-vul-fbrs                              | cvat    | ready |     49156 | 1/1
  nuclio    | pth-facebookresearch-detectron2-retinanet-r101 | cvat    | ready |     49155 | 1/1
  nuclio    | pth-shiyinzhang-iog                            | cvat    | ready |     49159 | 1/1
</code></pre></details>
<p>When you investigate an issue with a serverless function, it is extremely
useful to look at logs. Just run a couple of commands like
<code>docker logs &lt;container&gt;</code>.</p>
<details>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker logs cvat
</span></span></code></pre></div><pre tabindex="0"><code>2021-07-06 13:44:54,699 DEBG &#39;runserver&#39; stderr output:
[Tue Jul 06 13:44:54.699431 2021] [wsgi:error] [pid 625:tid 140010969868032] [remote 172.28.0.3:40972] [2021-07-06 13:44:54,699] ERROR django.request: Internal Server Error: /api/lambda/functions/pth-shiyinzhang-iog

2021-07-06 13:44:54,700 DEBG &#39;runserver&#39; stderr output:
[Tue Jul 06 13:44:54.699712 2021] [wsgi:error] [pid 625:tid 140010969868032] [remote 172.28.0.3:40972] ERROR - 2021-07-06 13:44:54,699 - log - Internal Server Error: /api/lambda/functions/pth-shiyinzhang-iog
</code></pre><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker container ls --filter <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">=</span>iog
</span></span></code></pre></div><pre tabindex="0"><code>CONTAINER ID   IMAGE                             COMMAND                  CREATED       STATUS                 PORTS                                         NAMES
3b6ef9a9f3e2   cvat/pth.shiyinzhang.iog:latest   &#34;conda run -n iog pr…&#34;   4 hours ago   Up 4 hours (healthy)   0.0.0.0:49159-&gt;8080/tcp, :::49159-&gt;8080/tcp   nuclio-nuclio-pth-shiyinzhang-iog
</code></pre><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker logs nuclio-nuclio-pth-shiyinzhang-iog
</span></span></code></pre></div></details>
<p>If before model deployment you see that the <code>NODE PORT</code> is 0, you need to assign it manually.
Add the <code>port: 32001</code> attribute to the <code>function.yaml</code> file of each model, before you deploy the model.
Different ports should be prescribed for different models.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-diff" data-lang="diff"><span style="display:flex;"><span>triggers:
</span></span><span style="display:flex;"><span>myHttpTrigger:
</span></span><span style="display:flex;"><span>    maxWorkers: 1
</span></span><span style="display:flex;"><span>    kind: &#39;http&#39;
</span></span><span style="display:flex;"><span>    workerAvailabilityTimeoutMilliseconds: 10000
</span></span><span style="display:flex;"><span>    attributes:
</span></span><span style="display:flex;"><span><span style="color:#00a000">+     port: 32001
</span></span></span><span style="display:flex;"><span><span style="color:#00a000"></span>      maxRequestBodySize: 33554432 # 32MB
</span></span></code></pre></div><h3 id="installation-serverless-functions-on-windows-10-with-using-the-ubuntu-subsystem">Installation serverless functions on Windows 10 with using the Ubuntu subsystem</h3>
<p>If you encounter a problem running serverless functions on Windows 10,
you can use the Ubuntu subsystem, for this do the following:</p>
<ol>
<li>
<p>Install  <code>WSL 2</code> and <code>Docker Desktop</code> as described in <a href="../../../docs/administration/basics/installation/#windows-10">installation manual</a></p>
</li>
<li>
<p>Install <a href="https://www.microsoft.com/en-us/p/ubuntu-1804-lts/9n9tngvndl3q">Ubuntu 18.04 from Microsoft store</a>.</p>
</li>
<li>
<p>Enable integration for Ubuntu-18.04 in the settings of <code>Docker Desktop</code> in the <code>Resources</code> <code>WSL integration</code> tab:</p>
<p><img src="../../../images/docker_wsl_integration.jpg" alt="Docker WSL integration Ubuntu 18.04"></p>
</li>
<li>
<p>Then you can download and install <code>nuctl</code> on Ubuntu,
using the <a href="../../../docs/administration/advanced/installation_automatic_annotation">automatic annotation guide</a>.</p>
</li>
<li>
<p>Install <code>git</code> and clone repository on Ubuntu,
as described in the <a href="../../../docs/administration/basics/installation/#ubuntu-1804-x86_64amd64">installation manual</a>.</p>
</li>
<li>
<p>After that, run the commands from this tutorial through Ubuntu.</p>
</li>
</ol>

</div>



    
	
  

    
	
  



          </main>
        </div>
      </div>
      <footer class="bg-dark py-5 row d-print-none" style="min-height: 0">
  <div class="container-fluid">
    <div class="row">
      <div class="col text-center">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="Gitter public chat" aria-label="Gitter public chat">
    <a class="text-white" rel="noopener noreferrer" href="https://gitter.im/opencv-cvat/public">
      <i class="fab fa-gitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" rel="noopener noreferrer" href="https://stackoverflow.com/search?q=%23cvat">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="YouTube" aria-label="YouTube">
    <a class="text-white" rel="noopener noreferrer" href="https://www.youtube.com/@cvat-ai">
      <i class="fab fa-youtube"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-4 text-center">
        <div class="row">
          <a href="https://www.cvat.ai/privacy">Privacy Policy</a>
        </div>
        <div class="row">
          <a href="https://www.cvat.ai/terms-of-use">Terms of Use</a>
        </div>
        <div class="row">
          
            <p><a href="../../../about/">About</a></p>
          
        </div>
      </div>
      <div class="col text-right text-center">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" rel="noopener noreferrer" href="https://github.com/opencv/cvat">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="Gitter developers chat" aria-label="Gitter developers chat">
    <a class="text-white" rel="noopener noreferrer" href="https://gitter.im/opencv-cvat/dev">
      <i class="fab fa-gitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="Discord chat" aria-label="Discord chat">
    <a class="text-white" rel="noopener noreferrer" href="https://discord.gg/fNR3eXfk6C">
      <i class="fab fa-discord"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
    </div>
  </div>
</footer>



    </div>
    
  <script src="../../../js/main.min.99abe30f7fb05785a480d405ee1665ebd520cec6bbadffe966b7737e103675b8.js" integrity="sha256-mavjD3&#43;wV4WkgNQF7hZl69Ugzsa7rf/pZrdzfhA2dbg=" crossorigin="anonymous"></script>
<script src='../../../js/prism.js'></script>
<script src='../../../js/tabpane-persist.js'></script>

  </body>
</html>
